{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nvar _jsxFileName = \"/home/russ/projects/dress-shop/pages/signup.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport { Formik } from 'formik';\nimport { autoLogin } from '../utils/auth';\nimport * as Yup from 'yup';\nimport Link from 'next/link';\nimport Layout from '../components/Layout';\nimport baseURL from '../utils/baseURL';\nimport axios from 'axios';\nimport Spinner from '../components/Shared/Spinner';\nimport useAlert from '../hooks/useAlert';\nimport Alert from '../components/Shared/Alert';\n\nvar SignUp = function SignUp() {\n  var _useState = useState(false),\n      submit = _useState[0],\n      setSubmit = _useState[1];\n\n  var _useAlert = useAlert(),\n      alert = _useAlert.alert,\n      setAlert = _useAlert.setAlert;\n\n  var Schema = Yup.object().shape({\n    name: Yup.string().required('Name is required'),\n    password: Yup.string().required('Password is required').min(6),\n    email: Yup.string().email('Invalid email').required('Email is required')\n  });\n  console.log(alert);\n  return __jsx(React.Fragment, null, __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-1666383883\" + \" \" + \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, __jsx(Formik, {\n    initialValues: {\n      name: '',\n      email: '',\n      password: ''\n    },\n    validationSchema: Schema,\n    onSubmit: function _callee(values) {\n      var _ref, data;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              setSubmit(true);\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(axios.post(\"\".concat(baseURL, \"/api/signup\"), values));\n\n            case 4:\n              _ref = _context.sent;\n              data = _ref.data;\n              autoLogin(data);\n              setSubmit(false);\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n              setAlert({\n                type: 'error',\n                message: _context.t0.response\n              });\n\n            case 13:\n              _context.prev = 13;\n              setSubmit(false);\n              return _context.finish(13);\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 10, 13, 16]]);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, function (_ref2) {\n    var errors = _ref2.errors,\n        touched = _ref2.touched,\n        handleChange = _ref2.handleChange,\n        handleSubmit = _ref2.handleSubmit,\n        values = _ref2.values;\n    return __jsx(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"jsx-1666383883\" + \" \" + \"auth-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, __jsx(\"h1\", {\n      className: \"jsx-1666383883\" + \" \" + \"page-heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \" Sign Up \"), alert && __jsx(Alert, {\n      message: \"test\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), __jsx(\"div\", {\n      className: \"jsx-1666383883\" + \" \" + \"group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, __jsx(\"input\", {\n      type: \"text\",\n      placeholder: \"Name\",\n      name: \"name\",\n      value: values.name,\n      onChange: handleChange,\n      className: \"jsx-1666383883\" + \" \" + \"input \".concat(errors.name && touched.name && 'input-error'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), errors.name && touched.name ? __jsx(\"div\", {\n      className: \"jsx-1666383883\" + \" \" + \"error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, errors.name) : null), __jsx(\"div\", {\n      className: \"jsx-1666383883\" + \" \" + \"group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, __jsx(\"input\", {\n      type: \"email\",\n      placeholder: \"Email\",\n      name: \"email\",\n      value: values.email,\n      onChange: handleChange,\n      className: \"jsx-1666383883\" + \" \" + \"input \".concat(errors.email && touched.email && 'input-error'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), errors.email && touched.email ? __jsx(\"div\", {\n      className: \"jsx-1666383883\" + \" \" + \"error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, errors.email) : null), __jsx(\"div\", {\n      className: \"jsx-1666383883\" + \" \" + \"group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, __jsx(\"input\", {\n      type: \"password\",\n      placeholder: \"Password\",\n      name: \"password\",\n      value: values.password,\n      onChange: handleChange,\n      className: \"jsx-1666383883\" + \" \" + \"input \".concat(errors.password && touched.password && 'input-error'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), errors.password && touched.password ? __jsx(\"div\", {\n      className: \"jsx-1666383883\" + \" \" + \"error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, errors.password) : null), __jsx(\"div\", {\n      className: \"jsx-1666383883\" + \" \" + \"group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, __jsx(\"button\", {\n      type: \"submit\",\n      className: \"jsx-1666383883\" + \" \" + \"btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, submit ? __jsx(Spinner, {\n      width: 40,\n      height: 40,\n      color: \"#fff\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }) : 'Sign Up')), __jsx(\"span\", {\n      className: \"jsx-1666383883\" + \" \" + \"link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Already have an account?\", ' ', __jsx(Link, {\n      href: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, __jsx(\"a\", {\n      className: \"jsx-1666383883\" + \" \" + \"link link-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \" Login your Account.\"))));\n  }))), __jsx(_JSXStyle, {\n    id: \"1666383883\",\n    __self: this\n  }, \".container.jsx-1666383883{max-width:1200px;margin:2rem auto;}.page-heading.jsx-1666383883{font-size:3rem;text-transform:uppercase;}.auth-form.jsx-1666383883{padding:2rem 0;width:50rem;margin:0 auto;}.auth-form.jsx-1666383883 .input.jsx-1666383883{width:100%;height:5rem;font-size:1.7rem;border:1px solid transparent;border-bottom:1px solid #666;}.auth-form.jsx-1666383883 .input.jsx-1666383883:focus{outline:none;}.group.jsx-1666383883{margin-top:2.5rem;}.auth-form.jsx-1666383883 .btn.jsx-1666383883{width:100%;height:6rem;background-color:var(--color-dark);color:#fff;font-size:2rem;font-family:inherit;border:1px solid var(--color-dark);cursor:pointer;}.link.jsx-1666383883{margin-top:1rem;color:var(--color-dark);display:inline-block;font-size:1.7rem;}.link-text.jsx-1666383883{color:var(--color-primary);}.error.jsx-1666383883{color:red;font-size:1.6rem;padding:0.2rem 0;}.auth-form.jsx-1666383883 .input-error.jsx-1666383883{border-bottom:1px solid red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1c3MvcHJvamVjdHMvZHJlc3Mtc2hvcC9wYWdlcy9zaWdudXAuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBNkhTLEFBRzhCLEFBS0YsQUFLQSxBQU1KLEFBUUcsQUFJSSxBQUlQLEFBV0ssQUFPVyxBQUlqQixBQU1rQixVQUxYLENBdENMLEFBZ0JELEVBUmIsRUFuQjJCLEFBS2IsQ0FpQ1ksQ0EzQ1AsQ0E0Qm5CLEtBWG1CLEFBZ0JrQixJQXRCckIsQUF1Q2hCLEFBS21CLENBS25CLE1BM0RBLE1BS0EsQUFZK0IsQUEwQlIsQ0FoQ3ZCLEdBNENBLGNBdEJhLEdBV00sUUExQlksQUFnQmQsU0FXakIsTUFWc0IsY0FoQnRCLE1BaUJxQyxtQ0FDcEIsZUFDakIiLCJmaWxlIjoiL2hvbWUvcnVzcy9wcm9qZWN0cy9kcmVzcy1zaG9wL3BhZ2VzL3NpZ251cC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRm9ybWlrIH0gZnJvbSAnZm9ybWlrJztcbmltcG9ydCB7IGF1dG9Mb2dpbiB9IGZyb20gJy4uL3V0aWxzL2F1dGgnO1xuaW1wb3J0ICogYXMgWXVwIGZyb20gJ3l1cCc7XG5pbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnO1xuaW1wb3J0IExheW91dCBmcm9tICcuLi9jb21wb25lbnRzL0xheW91dCc7XG5pbXBvcnQgYmFzZVVSTCBmcm9tICcuLi91dGlscy9iYXNlVVJMJztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgU3Bpbm5lciBmcm9tICcuLi9jb21wb25lbnRzL1NoYXJlZC9TcGlubmVyJztcbmltcG9ydCB1c2VBbGVydCBmcm9tICcuLi9ob29rcy91c2VBbGVydCc7XG5pbXBvcnQgQWxlcnQgZnJvbSAnLi4vY29tcG9uZW50cy9TaGFyZWQvQWxlcnQnO1xuXG5jb25zdCBTaWduVXAgPSAoKSA9PiB7XG4gIGNvbnN0IFtzdWJtaXQsIHNldFN1Ym1pdF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHsgYWxlcnQsIHNldEFsZXJ0IH0gPSB1c2VBbGVydCgpO1xuXG4gIGNvbnN0IFNjaGVtYSA9IFl1cC5vYmplY3QoKS5zaGFwZSh7XG4gICAgbmFtZTogWXVwLnN0cmluZygpLnJlcXVpcmVkKCdOYW1lIGlzIHJlcXVpcmVkJyksXG4gICAgcGFzc3dvcmQ6IFl1cC5zdHJpbmcoKVxuICAgICAgLnJlcXVpcmVkKCdQYXNzd29yZCBpcyByZXF1aXJlZCcpXG4gICAgICAubWluKDYpLFxuICAgIGVtYWlsOiBZdXAuc3RyaW5nKClcbiAgICAgIC5lbWFpbCgnSW52YWxpZCBlbWFpbCcpXG4gICAgICAucmVxdWlyZWQoJ0VtYWlsIGlzIHJlcXVpcmVkJylcbiAgfSk7XG5cbiAgY29uc29sZS5sb2coYWxlcnQpO1xuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxMYXlvdXQ+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPEZvcm1pa1xuICAgICAgICAgICAgaW5pdGlhbFZhbHVlcz17e1xuICAgICAgICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgICAgICAgZW1haWw6ICcnLFxuICAgICAgICAgICAgICBwYXNzd29yZDogJydcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB2YWxpZGF0aW9uU2NoZW1hPXtTY2hlbWF9XG4gICAgICAgICAgICBvblN1Ym1pdD17YXN5bmMgdmFsdWVzID0+IHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzZXRTdWJtaXQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBheGlvcy5wb3N0KFxuICAgICAgICAgICAgICAgICAgYCR7YmFzZVVSTH0vYXBpL3NpZ251cGAsXG4gICAgICAgICAgICAgICAgICB2YWx1ZXNcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGF1dG9Mb2dpbihkYXRhKTtcbiAgICAgICAgICAgICAgICBzZXRTdWJtaXQoZmFsc2UpO1xuICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHNldEFsZXJ0KHsgdHlwZTogJ2Vycm9yJywgbWVzc2FnZTogZXJyb3IucmVzcG9uc2UgfSk7XG4gICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgc2V0U3VibWl0KGZhbHNlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7KHsgZXJyb3JzLCB0b3VjaGVkLCBoYW5kbGVDaGFuZ2UsIGhhbmRsZVN1Ym1pdCwgdmFsdWVzIH0pID0+IChcbiAgICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPVwiYXV0aC1mb3JtXCI+XG4gICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInBhZ2UtaGVhZGluZ1wiPiBTaWduIFVwIDwvaDE+XG4gICAgICAgICAgICAgICAge2FsZXJ0ICYmIDxBbGVydCBtZXNzYWdlPVwidGVzdFwiIC8+fVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BpbnB1dCAke2Vycm9ycy5uYW1lICYmXG4gICAgICAgICAgICAgICAgICAgICAgdG91Y2hlZC5uYW1lICYmXG4gICAgICAgICAgICAgICAgICAgICAgJ2lucHV0LWVycm9yJ31gfVxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTmFtZVwiXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3ZhbHVlcy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIHtlcnJvcnMubmFtZSAmJiB0b3VjaGVkLm5hbWUgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZXJyb3JcIj57ZXJyb3JzLm5hbWV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgaW5wdXQgJHtlcnJvcnMuZW1haWwgJiZcbiAgICAgICAgICAgICAgICAgICAgICB0b3VjaGVkLmVtYWlsICYmXG4gICAgICAgICAgICAgICAgICAgICAgJ2lucHV0LWVycm9yJ31gfVxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZW1haWxcIlxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVtYWlsXCJcbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cImVtYWlsXCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3ZhbHVlcy5lbWFpbH1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICB7ZXJyb3JzLmVtYWlsICYmIHRvdWNoZWQuZW1haWwgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZXJyb3JcIj57ZXJyb3JzLmVtYWlsfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncm91cFwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGlucHV0ICR7ZXJyb3JzLnBhc3N3b3JkICYmXG4gICAgICAgICAgICAgICAgICAgICAgdG91Y2hlZC5wYXNzd29yZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICdpbnB1dC1lcnJvcid9YH1cbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJwYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt2YWx1ZXMucGFzc3dvcmR9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAge2Vycm9ycy5wYXNzd29yZCAmJiB0b3VjaGVkLnBhc3N3b3JkID8gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVycm9yXCI+e2Vycm9ycy5wYXNzd29yZH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzTmFtZT1cImJ0blwiPlxuICAgICAgICAgICAgICAgICAgICB7c3VibWl0ID8gKFxuICAgICAgICAgICAgICAgICAgICAgIDxTcGlubmVyIHdpZHRoPXs0MH0gaGVpZ2h0PXs0MH0gY29sb3I9XCIjZmZmXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAnU2lnbiBVcCdcbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImxpbmtcIj5cbiAgICAgICAgICAgICAgICAgIEFscmVhZHkgaGF2ZSBhbiBhY2NvdW50P3snICd9XG4gICAgICAgICAgICAgICAgICA8TGluayBocmVmPVwiL2xvZ2luXCI+XG4gICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzTmFtZT1cImxpbmsgbGluay10ZXh0XCI+IExvZ2luIHlvdXIgQWNjb3VudC48L2E+XG4gICAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvRm9ybWlrPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvTGF5b3V0PlxuICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAge2BcbiAgICAgICAgICAuY29udGFpbmVyIHtcbiAgICAgICAgICAgIG1heC13aWR0aDogMTIwMHB4O1xuICAgICAgICAgICAgbWFyZ2luOiAycmVtIGF1dG87XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLnBhZ2UtaGVhZGluZyB7XG4gICAgICAgICAgICBmb250LXNpemU6IDNyZW07XG4gICAgICAgICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5hdXRoLWZvcm0ge1xuICAgICAgICAgICAgcGFkZGluZzogMnJlbSAwO1xuICAgICAgICAgICAgd2lkdGg6IDUwcmVtO1xuICAgICAgICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLmF1dGgtZm9ybSAuaW5wdXQge1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBoZWlnaHQ6IDVyZW07XG4gICAgICAgICAgICBmb250LXNpemU6IDEuN3JlbTtcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICM2NjY7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLmF1dGgtZm9ybSAuaW5wdXQ6Zm9jdXMge1xuICAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLmdyb3VwIHtcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IDIuNXJlbTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAuYXV0aC1mb3JtIC5idG4ge1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBoZWlnaHQgNnJlbTtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbG9yLWRhcmspO1xuICAgICAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgICAgICBmb250LXNpemU6IDJyZW07XG4gICAgICAgICAgICBmb250LWZhbWlseTogaW5oZXJpdDtcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWNvbG9yLWRhcmspO1xuICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5saW5rIHtcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IDFyZW07XG4gICAgICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItZGFyayk7XG4gICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgICAgICBmb250LXNpemU6IDEuN3JlbTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAubGluay10ZXh0IHtcbiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci1wcmltYXJ5KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAuZXJyb3Ige1xuICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMS42cmVtO1xuICAgICAgICAgICAgcGFkZGluZzogMC4ycmVtIDA7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLmF1dGgtZm9ybSAuaW5wdXQtZXJyb3Ige1xuICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJlZDtcbiAgICAgICAgICB9XG4gICAgICAgIGB9XG4gICAgICA8L3N0eWxlPlxuICAgIDwvPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU2lnblVwO1xuIl19 */\\n/*@ sourceURL=/home/russ/projects/dress-shop/pages/signup.js */\"));\n};\n\nexport default SignUp;","map":{"version":3,"sources":["/home/russ/projects/dress-shop/pages/signup.js"],"names":["React","useEffect","useState","Formik","autoLogin","Yup","Link","Layout","baseURL","axios","Spinner","useAlert","Alert","SignUp","submit","setSubmit","alert","setAlert","Schema","object","shape","name","string","required","password","min","email","console","log","values","post","data","type","message","response","errors","touched","handleChange","handleSubmit"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Formik } from 'formik';\nimport { autoLogin } from '../utils/auth';\nimport * as Yup from 'yup';\nimport Link from 'next/link';\nimport Layout from '../components/Layout';\nimport baseURL from '../utils/baseURL';\nimport axios from 'axios';\nimport Spinner from '../components/Shared/Spinner';\nimport useAlert from '../hooks/useAlert';\nimport Alert from '../components/Shared/Alert';\n\nconst SignUp = () => {\n  const [submit, setSubmit] = useState(false);\n  const { alert, setAlert } = useAlert();\n\n  const Schema = Yup.object().shape({\n    name: Yup.string().required('Name is required'),\n    password: Yup.string()\n      .required('Password is required')\n      .min(6),\n    email: Yup.string()\n      .email('Invalid email')\n      .required('Email is required')\n  });\n\n  console.log(alert);\n\n  return (\n    <>\n      <Layout>\n        <div className=\"container\">\n          <Formik\n            initialValues={{\n              name: '',\n              email: '',\n              password: ''\n            }}\n            validationSchema={Schema}\n            onSubmit={async values => {\n              try {\n                setSubmit(true);\n                const { data } = await axios.post(\n                  `${baseURL}/api/signup`,\n                  values\n                );\n                autoLogin(data);\n                setSubmit(false);\n              } catch (error) {\n                setAlert({ type: 'error', message: error.response });\n              } finally {\n                setSubmit(false);\n              }\n            }}\n          >\n            {({ errors, touched, handleChange, handleSubmit, values }) => (\n              <form onSubmit={handleSubmit} className=\"auth-form\">\n                <h1 className=\"page-heading\"> Sign Up </h1>\n                {alert && <Alert message=\"test\" />}\n                <div className=\"group\">\n                  <input\n                    className={`input ${errors.name &&\n                      touched.name &&\n                      'input-error'}`}\n                    type=\"text\"\n                    placeholder=\"Name\"\n                    name=\"name\"\n                    value={values.name}\n                    onChange={handleChange}\n                  />\n                  {errors.name && touched.name ? (\n                    <div className=\"error\">{errors.name}</div>\n                  ) : null}\n                </div>\n                <div className=\"group\">\n                  <input\n                    className={`input ${errors.email &&\n                      touched.email &&\n                      'input-error'}`}\n                    type=\"email\"\n                    placeholder=\"Email\"\n                    name=\"email\"\n                    value={values.email}\n                    onChange={handleChange}\n                  />\n                  {errors.email && touched.email ? (\n                    <div className=\"error\">{errors.email}</div>\n                  ) : null}\n                </div>\n                <div className=\"group\">\n                  <input\n                    className={`input ${errors.password &&\n                      touched.password &&\n                      'input-error'}`}\n                    type=\"password\"\n                    placeholder=\"Password\"\n                    name=\"password\"\n                    value={values.password}\n                    onChange={handleChange}\n                  />\n                  {errors.password && touched.password ? (\n                    <div className=\"error\">{errors.password}</div>\n                  ) : null}\n                </div>\n                <div className=\"group\">\n                  <button type=\"submit\" className=\"btn\">\n                    {submit ? (\n                      <Spinner width={40} height={40} color=\"#fff\" />\n                    ) : (\n                      'Sign Up'\n                    )}\n                  </button>\n                </div>\n                <span className=\"link\">\n                  Already have an account?{' '}\n                  <Link href=\"/login\">\n                    <a className=\"link link-text\"> Login your Account.</a>\n                  </Link>\n                </span>\n              </form>\n            )}\n          </Formik>\n        </div>\n      </Layout>\n      <style jsx>\n        {`\n          .container {\n            max-width: 1200px;\n            margin: 2rem auto;\n          }\n\n          .page-heading {\n            font-size: 3rem;\n            text-transform: uppercase;\n          }\n\n          .auth-form {\n            padding: 2rem 0;\n            width: 50rem;\n            margin: 0 auto;\n          }\n\n          .auth-form .input {\n            width: 100%;\n            height: 5rem;\n            font-size: 1.7rem;\n            border: 1px solid transparent;\n            border-bottom: 1px solid #666;\n          }\n\n          .auth-form .input:focus {\n             outline: none;\n          }\n\n          .group {\n            margin-top: 2.5rem;\n          }\n\n          .auth-form .btn {\n            width: 100%;\n            height 6rem;\n            background-color: var(--color-dark);\n            color: #fff;\n            font-size: 2rem;\n            font-family: inherit;\n            border: 1px solid var(--color-dark);\n            cursor: pointer;\n          }\n\n          .link {\n            margin-top: 1rem;\n            color: var(--color-dark);\n            display: inline-block;\n            font-size: 1.7rem;\n          }\n\n          .link-text {\n            color: var(--color-primary);\n          }\n\n          .error {\n            color: red;\n            font-size: 1.6rem;\n            padding: 0.2rem 0;\n          }\n\n          .auth-form .input-error {\n            border-bottom: 1px solid red;\n          }\n        `}\n      </style>\n    </>\n  );\n};\n\nexport default SignUp;\n"]},"metadata":{},"sourceType":"module"}