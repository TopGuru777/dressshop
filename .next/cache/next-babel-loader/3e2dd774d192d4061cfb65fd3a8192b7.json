{"ast":null,"code":"var _jsxFileName = \"/home/russ/projects/dress-shop/pages/admin/index.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport Layout from '../../components/Layout';\nimport useModal from '../../hooks/useModal';\nimport Modal from '../../components/Shared/Modal';\nimport ProductForm from '../../components/Admin/Home/ProductForm';\nimport { IoMdAdd } from 'react-icons/io';\nimport ProductTable from '../../components/Admin/Home/ProductTable';\nimport axios from 'axios';\nimport baseURL from '../../utils/baseURL';\n\nconst Admin = () => {\n  const {\n    show,\n    closeModal,\n    openModal\n  } = useModal();\n  const {\n    0: products,\n    1: setProducts\n  } = useState([]);\n  useEffect(() => {\n    async function getProducts() {\n      try {\n        const {\n          data\n        } = await axios.get(`${baseURL}/api/products`);\n        setProducts(data.products);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n\n    getProducts();\n  }, []);\n\n  async function handleDeleteProduct(id) {\n    try {\n      const payload = {\n        id\n      };\n      await axios.delete(`${baseURL}/product`, payload);\n      const filteredProducts = products.filter(product => product._id !== id);\n      setProducts(filteredProducts);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-3922909769\" + \" \" + \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, __jsx(Modal, {\n    isOpen: show,\n    close: closeModal,\n    title: `Add Product`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, __jsx(ProductForm, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"jsx-3922909769\" + \" \" + \"welcome-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"Hi, Welcome Back Admin\"), __jsx(\"div\", {\n    className: \"jsx-3922909769\" + \" \" + \"header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-3922909769\" + \" \" + \"page-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \" List of All Products \"), __jsx(\"button\", {\n    onClick: openModal,\n    className: \"jsx-3922909769\" + \" \" + \"btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, __jsx(\"span\", {\n    className: \"jsx-3922909769\" + \" \" + \"btn-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \" Add Product\"), __jsx(IoMdAdd, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }))), __jsx(ProductTable, {\n    products: products,\n    deleteProduct: handleDeleteProduct,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  })), ' ', __jsx(_JSXStyle, {\n    id: \"3922909769\",\n    __self: this\n  }, \".container.jsx-3922909769{max-width:120rem;margin:3rem auto;padding:0 2rem;}.page-title.jsx-3922909769{font-size:2.5rem;}.header.jsx-3922909769{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}.welcome-text.jsx-3922909769{font-size:2rem;padding-bottom:2rem;}.btn.jsx-3922909769{height:5rem;padding:0 2rem;background-color:var(--color-dark);color:#fff;font-size:2rem;border:1px solid transparent;cursor:pointer;}.btn-text.jsx-3922909769{margin-right:0.5rem;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1c3MvcHJvamVjdHMvZHJlc3Mtc2hvcC9wYWdlcy9hZG1pbi9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFxRGtCLEFBRzRCLEFBS0EsQUFJSixBQUtFLEFBS0gsQUFVUSxZQVRMLEdBTEssRUFkSCxBQUtuQixHQXdCQSxPQVRxQyxPQW5CcEIsQ0FjakIsY0FiQSxhQW1CYSxXQUNJLENBYmUsY0FjRCw2QkFDZCxlQUNqQix5REFmQSIsImZpbGUiOiIvaG9tZS9ydXNzL3Byb2plY3RzL2RyZXNzLXNob3AvcGFnZXMvYWRtaW4vaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBMYXlvdXQgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9MYXlvdXQnO1xuaW1wb3J0IHVzZU1vZGFsIGZyb20gJy4uLy4uL2hvb2tzL3VzZU1vZGFsJztcbmltcG9ydCBNb2RhbCBmcm9tICcuLi8uLi9jb21wb25lbnRzL1NoYXJlZC9Nb2RhbCc7XG5pbXBvcnQgUHJvZHVjdEZvcm0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9BZG1pbi9Ib21lL1Byb2R1Y3RGb3JtJztcbmltcG9ydCB7IElvTWRBZGQgfSBmcm9tICdyZWFjdC1pY29ucy9pbyc7XG5pbXBvcnQgUHJvZHVjdFRhYmxlIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvQWRtaW4vSG9tZS9Qcm9kdWN0VGFibGUnO1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCBiYXNlVVJMIGZyb20gJy4uLy4uL3V0aWxzL2Jhc2VVUkwnO1xuXG5jb25zdCBBZG1pbiA9ICgpID0+IHtcbiAgY29uc3QgeyBzaG93LCBjbG9zZU1vZGFsLCBvcGVuTW9kYWwgfSA9IHVzZU1vZGFsKCk7XG4gIGNvbnN0IFtwcm9kdWN0cywgc2V0UHJvZHVjdHNdID0gdXNlU3RhdGUoW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgYXN5bmMgZnVuY3Rpb24gZ2V0UHJvZHVjdHMoKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IGF4aW9zLmdldChgJHtiYXNlVVJMfS9hcGkvcHJvZHVjdHNgKTtcbiAgICAgICAgc2V0UHJvZHVjdHMoZGF0YS5wcm9kdWN0cyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICAgIGdldFByb2R1Y3RzKCk7XG4gIH0sIFtdKTtcblxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVEZWxldGVQcm9kdWN0KGlkKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7IGlkIH07XG4gICAgICBhd2FpdCBheGlvcy5kZWxldGUoYCR7YmFzZVVSTH0vcHJvZHVjdGAsIHBheWxvYWQpO1xuICAgICAgY29uc3QgZmlsdGVyZWRQcm9kdWN0cyA9IHByb2R1Y3RzLmZpbHRlcihwcm9kdWN0ID0+IHByb2R1Y3QuX2lkICE9PSBpZCk7XG4gICAgICBzZXRQcm9kdWN0cyhmaWx0ZXJlZFByb2R1Y3RzKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPExheW91dD5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxNb2RhbCBpc09wZW49e3Nob3d9IGNsb3NlPXtjbG9zZU1vZGFsfSB0aXRsZT17YEFkZCBQcm9kdWN0YH0+XG4gICAgICAgICAgPFByb2R1Y3RGb3JtIC8+XG4gICAgICAgIDwvTW9kYWw+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2VsY29tZS10ZXh0XCI+SGksIFdlbGNvbWUgQmFjayBBZG1pbjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhlYWRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS10aXRsZVwiPiBMaXN0IG9mIEFsbCBQcm9kdWN0cyA8L2Rpdj5cbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e29wZW5Nb2RhbH0gY2xhc3NOYW1lPVwiYnRuXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJidG4tdGV4dFwiPiBBZGQgUHJvZHVjdDwvc3Bhbj5cbiAgICAgICAgICAgIDxJb01kQWRkIC8+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8UHJvZHVjdFRhYmxlIHByb2R1Y3RzPXtwcm9kdWN0c30gZGVsZXRlUHJvZHVjdD17aGFuZGxlRGVsZXRlUHJvZHVjdH0gLz5cbiAgICAgIDwvZGl2PnsnICd9XG4gICAgICA8c3R5bGUganN4PntgXG4gICAgICAgIC5jb250YWluZXIge1xuICAgICAgICAgIG1heC13aWR0aDogMTIwcmVtO1xuICAgICAgICAgIG1hcmdpbjogM3JlbSBhdXRvO1xuICAgICAgICAgIHBhZGRpbmc6IDAgMnJlbTtcbiAgICAgICAgfVxuICAgICAgICAucGFnZS10aXRsZSB7XG4gICAgICAgICAgZm9udC1zaXplOiAyLjVyZW07XG4gICAgICAgIH1cblxuICAgICAgICAuaGVhZGVyIHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgfVxuXG4gICAgICAgIC53ZWxjb21lLXRleHQge1xuICAgICAgICAgIGZvbnQtc2l6ZTogMnJlbTtcbiAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogMnJlbTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5idG4ge1xuICAgICAgICAgIGhlaWdodDogNXJlbTtcbiAgICAgICAgICBwYWRkaW5nOiAwIDJyZW07XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sb3ItZGFyayk7XG4gICAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgICAgZm9udC1zaXplOiAycmVtO1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIC5idG4tdGV4dCB7XG4gICAgICAgICAgbWFyZ2luLXJpZ2h0OiAwLjVyZW07XG4gICAgICAgIH1cbiAgICAgIGB9PC9zdHlsZT57JyAnfVxuICAgIDwvTGF5b3V0PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQWRtaW47XG4iXX0= */\\n/*@ sourceURL=/home/russ/projects/dress-shop/pages/admin/index.js */\"), ' ');\n};\n\nexport default Admin;","map":{"version":3,"sources":["/home/russ/projects/dress-shop/pages/admin/index.js"],"names":["React","useState","useEffect","Layout","useModal","Modal","ProductForm","IoMdAdd","ProductTable","axios","baseURL","Admin","show","closeModal","openModal","products","setProducts","getProducts","data","get","error","console","log","handleDeleteProduct","id","payload","delete","filteredProducts","filter","product","_id"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,KAAP,MAAkB,+BAAlB;AACA,OAAOC,WAAP,MAAwB,yCAAxB;AACA,SAASC,OAAT,QAAwB,gBAAxB;AACA,OAAOC,YAAP,MAAyB,0CAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,qBAApB;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAClB,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,UAAR;AAAoBC,IAAAA;AAApB,MAAkCV,QAAQ,EAAhD;AACA,QAAM;AAAA,OAACW,QAAD;AAAA,OAAWC;AAAX,MAA0Bf,QAAQ,CAAC,EAAD,CAAxC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,mBAAee,WAAf,GAA6B;AAC3B,UAAI;AACF,cAAM;AAAEC,UAAAA;AAAF,YAAW,MAAMT,KAAK,CAACU,GAAN,CAAW,GAAET,OAAQ,eAArB,CAAvB;AACAM,QAAAA,WAAW,CAACE,IAAI,CAACH,QAAN,CAAX;AACD,OAHD,CAGE,OAAOK,KAAP,EAAc;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF;;AACDH,IAAAA,WAAW;AACZ,GAVQ,EAUN,EAVM,CAAT;;AAYA,iBAAeM,mBAAf,CAAmCC,EAAnC,EAAuC;AACrC,QAAI;AACF,YAAMC,OAAO,GAAG;AAAED,QAAAA;AAAF,OAAhB;AACA,YAAMf,KAAK,CAACiB,MAAN,CAAc,GAAEhB,OAAQ,UAAxB,EAAmCe,OAAnC,CAAN;AACA,YAAME,gBAAgB,GAAGZ,QAAQ,CAACa,MAAT,CAAgBC,OAAO,IAAIA,OAAO,CAACC,GAAR,KAAgBN,EAA3C,CAAzB;AACAR,MAAAA,WAAW,CAACW,gBAAD,CAAX;AACD,KALD,CAKE,OAAOP,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF;;AAED,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA,wCAAe,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,KAAD;AAAO,IAAA,MAAM,EAAER,IAAf;AAAqB,IAAA,KAAK,EAAEC,UAA5B;AAAwC,IAAA,KAAK,EAAG,aAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAIE;AAAA,wCAAe,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAJF,EAKE;AAAA,wCAAe,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA,wCAAe,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,EAEE;AAAQ,IAAA,OAAO,EAAEC,SAAjB;AAAA,wCAAsC,KAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA,wCAAgB,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEE,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAFF,CALF,EAYE,MAAC,YAAD;AAAc,IAAA,QAAQ,EAAEC,QAAxB;AAAkC,IAAA,aAAa,EAAEQ,mBAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZF,CADF,EAcS,GAdT;AAAA;AAAA;AAAA,2jJAgDa,GAhDb,CADF;AAoDD,CA/ED;;AAiFA,eAAeZ,KAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Layout from '../../components/Layout';\nimport useModal from '../../hooks/useModal';\nimport Modal from '../../components/Shared/Modal';\nimport ProductForm from '../../components/Admin/Home/ProductForm';\nimport { IoMdAdd } from 'react-icons/io';\nimport ProductTable from '../../components/Admin/Home/ProductTable';\nimport axios from 'axios';\nimport baseURL from '../../utils/baseURL';\n\nconst Admin = () => {\n  const { show, closeModal, openModal } = useModal();\n  const [products, setProducts] = useState([]);\n\n  useEffect(() => {\n    async function getProducts() {\n      try {\n        const { data } = await axios.get(`${baseURL}/api/products`);\n        setProducts(data.products);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    getProducts();\n  }, []);\n\n  async function handleDeleteProduct(id) {\n    try {\n      const payload = { id };\n      await axios.delete(`${baseURL}/product`, payload);\n      const filteredProducts = products.filter(product => product._id !== id);\n      setProducts(filteredProducts);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  return (\n    <Layout>\n      <div className=\"container\">\n        <Modal isOpen={show} close={closeModal} title={`Add Product`}>\n          <ProductForm />\n        </Modal>\n        <div className=\"welcome-text\">Hi, Welcome Back Admin</div>\n        <div className=\"header\">\n          <div className=\"page-title\"> List of All Products </div>\n          <button onClick={openModal} className=\"btn\">\n            <span className=\"btn-text\"> Add Product</span>\n            <IoMdAdd />\n          </button>\n        </div>\n        <ProductTable products={products} deleteProduct={handleDeleteProduct} />\n      </div>{' '}\n      <style jsx>{`\n        .container {\n          max-width: 120rem;\n          margin: 3rem auto;\n          padding: 0 2rem;\n        }\n        .page-title {\n          font-size: 2.5rem;\n        }\n\n        .header {\n          display: flex;\n          justify-content: space-between;\n        }\n\n        .welcome-text {\n          font-size: 2rem;\n          padding-bottom: 2rem;\n        }\n\n        .btn {\n          height: 5rem;\n          padding: 0 2rem;\n          background-color: var(--color-dark);\n          color: #fff;\n          font-size: 2rem;\n          border: 1px solid transparent;\n          cursor: pointer;\n        }\n\n        .btn-text {\n          margin-right: 0.5rem;\n        }\n      `}</style>{' '}\n    </Layout>\n  );\n};\n\nexport default Admin;\n"]},"metadata":{},"sourceType":"module"}