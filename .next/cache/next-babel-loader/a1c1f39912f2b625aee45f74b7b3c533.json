{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/russ/projects/dress-shop/pages/login.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from 'react';\nimport { Formik, Form, Field } from 'formik';\nimport * as Yup from 'yup';\nimport { autoLogin } from '../utils/auth';\nimport Link from 'next/link';\nimport Layout from '../components/Layout';\nimport baseURL from '../utils/baseURL';\nimport axios from 'axios';\nvar LoginSchema = Yup.object().shape({\n  password: Yup.string().required('Email is required'),\n  email: Yup.string().email('Invalid email').required('Password is required')\n});\n\nvar Login = function Login() {\n  var userObj = {\n    email: '',\n    password: ''\n  };\n\n  var _useState = useState(userObj),\n      user = _useState[0],\n      setUser = _useState[1];\n\n  function handleChange(e) {\n    setUser(_objectSpread({}, user, _defineProperty({}, e.target.name, e.target.value)));\n  }\n\n  function handleSubmit(e) {\n    var _ref, data;\n\n    return _regeneratorRuntime.async(function handleSubmit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            e.preventDefault();\n            _context.prev = 1;\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(axios.post(\"\".concat(baseURL, \"/api/login\"), user));\n\n          case 4:\n            _ref = _context.sent;\n            data = _ref.data;\n            autoLogin(data);\n            _context.next = 12;\n            break;\n\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](1);\n            console.log(_context.t0.response);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[1, 9]]);\n  }\n\n  return __jsx(React.Fragment, null, __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-1175658884\" + \" \" + \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, __jsx(Formik, {\n    initialValues: {\n      email: '',\n      password: ''\n    },\n    validationSchema: LoginSchema,\n    onSubmit: function onSubmit(values) {\n      // same shape as initial values\n      console.log(values);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, function (_ref2) {\n    var errors = _ref2.errors,\n        touched = _ref2.touched,\n        handleChange = _ref2.handleChange,\n        handleSubmit = _ref2.handleSubmit,\n        values = _ref2.values;\n    return __jsx(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"jsx-1175658884\" + \" \" + \"auth-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, __jsx(\"h1\", {\n      className: \"jsx-1175658884\" + \" \" + \"page-heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \" Login \"), __jsx(\"div\", {\n      className: \"jsx-1175658884\" + \" \" + \"group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, __jsx(\"input\", {\n      type: \"email\",\n      placeholder: \"Email\",\n      name: \"email\",\n      value: values.email,\n      onChange: handleChange,\n      className: \"jsx-1175658884\" + \" \" + \"input \".concat(errors.email && touched.email && 'input-error'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), errors.email && touched.email ? __jsx(\"div\", {\n      className: \"jsx-1175658884\" + \" \" + \"error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, errors.email) : null), __jsx(\"div\", {\n      className: \"jsx-1175658884\" + \" \" + \"group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, __jsx(\"input\", {\n      type: \"password\",\n      placeholder: \"Password\",\n      name: \"password\",\n      value: values.password,\n      onChange: handleChange,\n      className: \"jsx-1175658884\" + \" \" + \"input \".concat(errors.password && touched.password && 'input-error'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), errors.password && touched.password ? __jsx(\"div\", {\n      className: \"jsx-1175658884\" + \" \" + \"error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, errors.password) : null), __jsx(\"div\", {\n      className: \"jsx-1175658884\" + \" \" + \"group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, __jsx(\"button\", {\n      type: \"submit\",\n      className: \"jsx-1175658884\" + \" \" + \"btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, ' ', \"Login\", ' ')), __jsx(\"span\", {\n      className: \"jsx-1175658884\" + \" \" + \"link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Don't have an account?\", ' ', __jsx(Link, {\n      href: \"/signup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, __jsx(\"a\", {\n      className: \"jsx-1175658884\" + \" \" + \"link link-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \" Create an account.\"))));\n  }))), __jsx(_JSXStyle, {\n    id: \"1175658884\",\n    __self: this\n  }, \".container.jsx-1175658884{max-width:1200px;margin:2rem auto;}.page-heading.jsx-1175658884{font-size:3rem;text-transform:uppercase;}.auth-form.jsx-1175658884{padding:2rem 0;width:50rem;margin:0 auto;}.auth-form.jsx-1175658884 .input.jsx-1175658884{width:100%;height:5rem;padding:0 1.5rem;font-size:1.7rem;border:1px solid transparent;border-bottom:1px solid #666;}.auth-form.jsx-1175658884 .input.jsx-1175658884:focus{outline:none;}.group.jsx-1175658884{margin-top:2.5rem;}.auth-form.jsx-1175658884 .btn.jsx-1175658884{width:100%;height:6rem;background-color:var(--color-dark);color:#fff;font-size:2rem;font-family:inherit;border:1px solid var(--color-dark);cursor:pointer;}.link.jsx-1175658884{margin-top:1rem;color:var(--color-dark);display:inline-block;font-size:1.7rem;}.link-text.jsx-1175658884{color:var(--color-primary);}.error.jsx-1175658884{color:red;font-size:1.6rem;padding:0.2rem 0;}.auth-form.jsx-1175658884 .input-error.jsx-1175658884{border-bottom:1px solid red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1c3MvcHJvamVjdHMvZHJlc3Mtc2hvcC9wYWdlcy9sb2dpbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUF5R1MsQUFHOEIsQUFLRixBQUtBLEFBTUosQUFTRyxBQUlJLEFBSVAsQUFXSyxBQU9XLEFBSWpCLEFBTWtCLFVBTFgsQ0F2Q0wsQUFpQkQsRUFSYixFQXBCMkIsQUFLYixDQWtDWSxDQTVDUCxDQTZCbkIsS0FabUIsQUFpQmtCLElBdkJyQixBQXdDaEIsQUFLbUIsQ0FLbkIsTUE1REEsTUFLQSxBQVltQixBQTJCSSxDQWpDdkIsR0E2Q0EsYUF0QytCLENBZ0JsQixHQVdNLFFBVkYsU0FXakIsTUFWc0IsRUFqQlMsa0JBa0JNLFdBakJyQyx3QkFrQmlCLGVBQ2pCIiwiZmlsZSI6Ii9ob21lL3J1c3MvcHJvamVjdHMvZHJlc3Mtc2hvcC9wYWdlcy9sb2dpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRm9ybWlrLCBGb3JtLCBGaWVsZCB9IGZyb20gJ2Zvcm1payc7XG5pbXBvcnQgKiBhcyBZdXAgZnJvbSAneXVwJztcbmltcG9ydCB7IGF1dG9Mb2dpbiB9IGZyb20gJy4uL3V0aWxzL2F1dGgnO1xuaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJztcbmltcG9ydCBMYXlvdXQgZnJvbSAnLi4vY29tcG9uZW50cy9MYXlvdXQnO1xuaW1wb3J0IGJhc2VVUkwgZnJvbSAnLi4vdXRpbHMvYmFzZVVSTCc7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuXG5jb25zdCBMb2dpblNjaGVtYSA9IFl1cC5vYmplY3QoKS5zaGFwZSh7XG4gIHBhc3N3b3JkOiBZdXAuc3RyaW5nKCkucmVxdWlyZWQoJ0VtYWlsIGlzIHJlcXVpcmVkJyksXG4gIGVtYWlsOiBZdXAuc3RyaW5nKClcbiAgICAuZW1haWwoJ0ludmFsaWQgZW1haWwnKVxuICAgIC5yZXF1aXJlZCgnUGFzc3dvcmQgaXMgcmVxdWlyZWQnKVxufSk7XG5cbmNvbnN0IExvZ2luID0gKCkgPT4ge1xuICBjb25zdCB1c2VyT2JqID0ge1xuICAgIGVtYWlsOiAnJyxcbiAgICBwYXNzd29yZDogJydcbiAgfTtcblxuICBjb25zdCBbdXNlciwgc2V0VXNlcl0gPSB1c2VTdGF0ZSh1c2VyT2JqKTtcblxuICBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UoZSkge1xuICAgIHNldFVzZXIoeyAuLi51c2VyLCBbZS50YXJnZXQubmFtZV06IGUudGFyZ2V0LnZhbHVlIH0pO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlU3VibWl0KGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgYXhpb3MucG9zdChgJHtiYXNlVVJMfS9hcGkvbG9naW5gLCB1c2VyKTtcbiAgICAgIGF1dG9Mb2dpbihkYXRhKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxMYXlvdXQ+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPEZvcm1pa1xuICAgICAgICAgICAgaW5pdGlhbFZhbHVlcz17e1xuICAgICAgICAgICAgICBlbWFpbDogJycsXG4gICAgICAgICAgICAgIHBhc3N3b3JkOiAnJ1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHZhbGlkYXRpb25TY2hlbWE9e0xvZ2luU2NoZW1hfVxuICAgICAgICAgICAgb25TdWJtaXQ9e3ZhbHVlcyA9PiB7XG4gICAgICAgICAgICAgIC8vIHNhbWUgc2hhcGUgYXMgaW5pdGlhbCB2YWx1ZXNcbiAgICAgICAgICAgICAgY29uc29sZS5sb2codmFsdWVzKTtcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgeyh7IGVycm9ycywgdG91Y2hlZCwgaGFuZGxlQ2hhbmdlLCBoYW5kbGVTdWJtaXQsIHZhbHVlcyB9KSA9PiAoXG4gICAgICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9IGNsYXNzTmFtZT1cImF1dGgtZm9ybVwiPlxuICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJwYWdlLWhlYWRpbmdcIj4gTG9naW4gPC9oMT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgaW5wdXQgJHtlcnJvcnMuZW1haWwgJiZcbiAgICAgICAgICAgICAgICAgICAgICB0b3VjaGVkLmVtYWlsICYmXG4gICAgICAgICAgICAgICAgICAgICAgJ2lucHV0LWVycm9yJ31gfVxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZW1haWxcIlxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVtYWlsXCJcbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cImVtYWlsXCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3ZhbHVlcy5lbWFpbH1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICB7ZXJyb3JzLmVtYWlsICYmIHRvdWNoZWQuZW1haWwgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZXJyb3JcIj57ZXJyb3JzLmVtYWlsfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgaW5wdXQgJHtlcnJvcnMucGFzc3dvcmQgJiZcbiAgICAgICAgICAgICAgICAgICAgICB0b3VjaGVkLnBhc3N3b3JkICYmXG4gICAgICAgICAgICAgICAgICAgICAgJ2lucHV0LWVycm9yJ31gfVxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3ZhbHVlcy5wYXNzd29yZH1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICB7ZXJyb3JzLnBhc3N3b3JkICYmIHRvdWNoZWQucGFzc3dvcmQgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZXJyb3JcIj57ZXJyb3JzLnBhc3N3b3JkfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncm91cFwiPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgY2xhc3NOYW1lPVwiYnRuXCI+XG4gICAgICAgICAgICAgICAgICAgIHsnICd9XG4gICAgICAgICAgICAgICAgICAgIExvZ2lueycgJ31cbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImxpbmtcIj5cbiAgICAgICAgICAgICAgICAgIERvbid0IGhhdmUgYW4gYWNjb3VudD97JyAnfVxuICAgICAgICAgICAgICAgICAgPExpbmsgaHJlZj1cIi9zaWdudXBcIj5cbiAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3NOYW1lPVwibGluayBsaW5rLXRleHRcIj4gQ3JlYXRlIGFuIGFjY291bnQuPC9hPlxuICAgICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L0Zvcm1paz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L0xheW91dD5cbiAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgIHtgXG4gICAgICAgICAgLmNvbnRhaW5lciB7XG4gICAgICAgICAgICBtYXgtd2lkdGg6IDEyMDBweDtcbiAgICAgICAgICAgIG1hcmdpbjogMnJlbSBhdXRvO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5wYWdlLWhlYWRpbmcge1xuICAgICAgICAgICAgZm9udC1zaXplOiAzcmVtO1xuICAgICAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAuYXV0aC1mb3JtIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDJyZW0gMDtcbiAgICAgICAgICAgIHdpZHRoOiA1MHJlbTtcbiAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5hdXRoLWZvcm0gLmlucHV0IHtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgaGVpZ2h0OiA1cmVtO1xuICAgICAgICAgICAgcGFkZGluZzogMCAxLjVyZW07XG4gICAgICAgICAgICBmb250LXNpemU6IDEuN3JlbTtcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICM2NjY7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLmF1dGgtZm9ybSAuaW5wdXQ6Zm9jdXMge1xuICAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLmdyb3VwIHtcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IDIuNXJlbTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAuYXV0aC1mb3JtIC5idG4ge1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBoZWlnaHQgNnJlbTtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbG9yLWRhcmspO1xuICAgICAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgICAgICBmb250LXNpemU6IDJyZW07XG4gICAgICAgICAgICBmb250LWZhbWlseTogaW5oZXJpdDtcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWNvbG9yLWRhcmspO1xuICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5saW5rIHtcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IDFyZW07XG4gICAgICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItZGFyayk7XG4gICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgICAgICBmb250LXNpemU6IDEuN3JlbTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAubGluay10ZXh0IHtcbiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci1wcmltYXJ5KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAuZXJyb3Ige1xuICAgICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMS42cmVtO1xuICAgICAgICAgICAgcGFkZGluZzogMC4ycmVtIDA7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLmF1dGgtZm9ybSAuaW5wdXQtZXJyb3Ige1xuICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJlZDtcbiAgICAgICAgICB9XG4gICAgICAgIGB9XG4gICAgICA8L3N0eWxlPlxuICAgIDwvPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTG9naW47XG4iXX0= */\\n/*@ sourceURL=/home/russ/projects/dress-shop/pages/login.js */\"));\n};\n\nexport default Login;","map":{"version":3,"sources":["/home/russ/projects/dress-shop/pages/login.js"],"names":["React","useEffect","useState","Formik","Form","Field","Yup","autoLogin","Link","Layout","baseURL","axios","LoginSchema","object","shape","password","string","required","email","Login","userObj","user","setUser","handleChange","e","target","name","value","handleSubmit","preventDefault","post","data","console","log","response","values","errors","touched"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Formik, Form, Field } from 'formik';\nimport * as Yup from 'yup';\nimport { autoLogin } from '../utils/auth';\nimport Link from 'next/link';\nimport Layout from '../components/Layout';\nimport baseURL from '../utils/baseURL';\nimport axios from 'axios';\n\nconst LoginSchema = Yup.object().shape({\n  password: Yup.string().required('Email is required'),\n  email: Yup.string()\n    .email('Invalid email')\n    .required('Password is required')\n});\n\nconst Login = () => {\n  const userObj = {\n    email: '',\n    password: ''\n  };\n\n  const [user, setUser] = useState(userObj);\n\n  function handleChange(e) {\n    setUser({ ...user, [e.target.name]: e.target.value });\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    try {\n      const { data } = await axios.post(`${baseURL}/api/login`, user);\n      autoLogin(data);\n    } catch (error) {\n      console.log(error.response);\n    }\n  }\n\n  return (\n    <>\n      <Layout>\n        <div className=\"container\">\n          <Formik\n            initialValues={{\n              email: '',\n              password: ''\n            }}\n            validationSchema={LoginSchema}\n            onSubmit={values => {\n              // same shape as initial values\n              console.log(values);\n            }}\n          >\n            {({ errors, touched, handleChange, handleSubmit, values }) => (\n              <form onSubmit={handleSubmit} className=\"auth-form\">\n                <h1 className=\"page-heading\"> Login </h1>\n                <div className=\"group\">\n                  <input\n                    className={`input ${errors.email &&\n                      touched.email &&\n                      'input-error'}`}\n                    type=\"email\"\n                    placeholder=\"Email\"\n                    name=\"email\"\n                    value={values.email}\n                    onChange={handleChange}\n                  />\n                  {errors.email && touched.email ? (\n                    <div className=\"error\">{errors.email}</div>\n                  ) : null}\n                </div>\n\n                <div className=\"group\">\n                  <input\n                    className={`input ${errors.password &&\n                      touched.password &&\n                      'input-error'}`}\n                    type=\"password\"\n                    placeholder=\"Password\"\n                    name=\"password\"\n                    value={values.password}\n                    onChange={handleChange}\n                  />\n                  {errors.password && touched.password ? (\n                    <div className=\"error\">{errors.password}</div>\n                  ) : null}\n                </div>\n                <div className=\"group\">\n                  <button type=\"submit\" className=\"btn\">\n                    {' '}\n                    Login{' '}\n                  </button>\n                </div>\n                <span className=\"link\">\n                  Don't have an account?{' '}\n                  <Link href=\"/signup\">\n                    <a className=\"link link-text\"> Create an account.</a>\n                  </Link>\n                </span>\n              </form>\n            )}\n          </Formik>\n        </div>\n      </Layout>\n      <style jsx>\n        {`\n          .container {\n            max-width: 1200px;\n            margin: 2rem auto;\n          }\n\n          .page-heading {\n            font-size: 3rem;\n            text-transform: uppercase;\n          }\n\n          .auth-form {\n            padding: 2rem 0;\n            width: 50rem;\n            margin: 0 auto;\n          }\n\n          .auth-form .input {\n            width: 100%;\n            height: 5rem;\n            padding: 0 1.5rem;\n            font-size: 1.7rem;\n            border: 1px solid transparent;\n            border-bottom: 1px solid #666;\n          }\n\n          .auth-form .input:focus {\n             outline: none;\n          }\n\n          .group {\n            margin-top: 2.5rem;\n          }\n\n          .auth-form .btn {\n            width: 100%;\n            height 6rem;\n            background-color: var(--color-dark);\n            color: #fff;\n            font-size: 2rem;\n            font-family: inherit;\n            border: 1px solid var(--color-dark);\n            cursor: pointer;\n          }\n\n          .link {\n            margin-top: 1rem;\n            color: var(--color-dark);\n            display: inline-block;\n            font-size: 1.7rem;\n          }\n\n          .link-text {\n            color: var(--color-primary);\n          }\n\n          .error {\n            color: red;\n            font-size: 1.6rem;\n            padding: 0.2rem 0;\n          }\n\n          .auth-form .input-error {\n            border-bottom: 1px solid red;\n          }\n        `}\n      </style>\n    </>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}