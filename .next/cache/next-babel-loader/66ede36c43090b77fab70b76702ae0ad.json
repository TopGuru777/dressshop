{"ast":null,"code":"var _jsxFileName = \"/home/russ/projects/dress-shop/pages/cart.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from \"../components/Layout\";\nimport { useAuth } from \"../store/auth/auth.context\";\nimport { useCart } from \"../store/cart/cart.context\";\nimport cookie from \"js-cookie\";\nimport StripeCheckout from \"react-stripe-checkout\";\nimport CartList from \"../components/Cart/CartList\";\nimport CartSubTotal from \"../components/Cart/CartSubTotal\";\nimport calculateCartTotal from \"../utils/calculateCartTotal\";\nimport Link from \"next/link\";\nimport axios from \"axios\";\nimport baseURL from \"../utils/baseURL\";\n\nconst Cart = () => {\n  const {\n    currentUser\n  } = useAuth();\n  const {\n    carts,\n    removeCart\n  } = useCart();\n\n  const handleCheckout = async paymentData => {\n    try {\n      const token = cookie.get(\"token\");\n      const payload = {\n        paymentData\n      };\n      const headers = {\n        headers: {\n          Authorization: token\n        }\n      };\n      await axios.post(`${baseURL}/api/checkout`, payload, headers);\n      console.log(\"success\");\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-431295938\" + \" \" + \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, currentUser ? __jsx(\"div\", {\n    className: \"jsx-431295938\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, __jsx(\"h1\", {\n    className: \"jsx-431295938\" + \" \" + \"page-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, \"Your Cart\"), carts.length > 0 ? __jsx(React.Fragment, null, __jsx(CartList, {\n    carts: carts,\n    removeCart: removeCart,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }), __jsx(CartSubTotal, {\n    total: calculateCartTotal(carts),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }), __jsx(StripeCheckout, {\n    name: \"Dress Shop\",\n    amount: Number(calculateCartTotal(carts)),\n    currency: \"USD\",\n    shippingAddress: true,\n    billingAddress: true,\n    zipCode: true,\n    stripeKey: \"pk_test_hsm6fyMNxWvCWNRY58tIAXAw006jqf8Kzt\",\n    token: handleCheckout,\n    triggerEvent: \"onClick\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-431295938\" + \" \" + \"checkout-btn-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, __jsx(\"button\", {\n    className: \"jsx-431295938\" + \" \" + \"checkout-btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \" CHECK OUT\")))) : __jsx(\"div\", {\n    className: \"jsx-431295938\" + \" \" + \"msg-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-431295938\" + \" \" + \"msg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \" Your cart is empty :( \"), __jsx(Link, {\n    href: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    className: \"jsx-431295938\" + \" \" + \"btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \" Go Shop Now \")))) : __jsx(\"div\", {\n    className: \"jsx-431295938\" + \" \" + \"msg-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, __jsx(\"h1\", {\n    className: \"jsx-431295938\" + \" \" + \"page-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \" Please login to see your cart \"), __jsx(Link, {\n    href: \"/login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    className: \"jsx-431295938\" + \" \" + \"btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \" Login \")))), __jsx(_JSXStyle, {\n    id: \"431295938\",\n    __self: this\n  }, \".container.jsx-431295938{max-width:1200px;margin:2rem auto;}.page-title.jsx-431295938{font-size:3rem;}.checkout-btn-wrapper.jsx-431295938{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.checkout-btn.jsx-431295938,.btn.jsx-431295938{width:20rem;color:#fff;background-color:var(--color-dark);border:1px solid var(--color-dark);padding:1.5rem 0;display:block;font-size:1.8rem;cursor:pointer;}.btn.jsx-431295938{margin:5rem 0;}.msg.jsx-431295938{font-size:2.2rem;}.msg-container.jsx-431295938{padding:2rem 0;text-align:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1c3MvcHJvamVjdHMvZHJlc3Mtc2hvcC9wYWdlcy9jYXJ0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXlFUyxBQUc4QixBQUtGLEFBSUYsQUFPRCxBQVdFLEFBSUcsQUFJRixZQWxCSixFQVdiLENBdEJBLEFBOEJvQixFQW5DRCxBQStCbkIsTUFkcUMsVUFtQnRCLENBbkNmLHdCQWlCcUMsZ0JBVFYsbUJBVVIsY0FrQkssR0FqQlIsY0FDRyxpQkFDRixlQUNqQixlQWJxQixjQTRCQSwrRUEzQnJCLGNBNEJ5QixtR0FDekIiLCJmaWxlIjoiL2hvbWUvcnVzcy9wcm9qZWN0cy9kcmVzcy1zaG9wL3BhZ2VzL2NhcnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTGF5b3V0IGZyb20gXCIuLi9jb21wb25lbnRzL0xheW91dFwiO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gXCIuLi9zdG9yZS9hdXRoL2F1dGguY29udGV4dFwiO1xuaW1wb3J0IHsgdXNlQ2FydCB9IGZyb20gXCIuLi9zdG9yZS9jYXJ0L2NhcnQuY29udGV4dFwiO1xuaW1wb3J0IGNvb2tpZSBmcm9tIFwianMtY29va2llXCI7XG5pbXBvcnQgU3RyaXBlQ2hlY2tvdXQgZnJvbSBcInJlYWN0LXN0cmlwZS1jaGVja291dFwiO1xuaW1wb3J0IENhcnRMaXN0IGZyb20gXCIuLi9jb21wb25lbnRzL0NhcnQvQ2FydExpc3RcIjtcbmltcG9ydCBDYXJ0U3ViVG90YWwgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FydC9DYXJ0U3ViVG90YWxcIjtcbmltcG9ydCBjYWxjdWxhdGVDYXJ0VG90YWwgZnJvbSBcIi4uL3V0aWxzL2NhbGN1bGF0ZUNhcnRUb3RhbFwiO1xuaW1wb3J0IExpbmsgZnJvbSBcIm5leHQvbGlua1wiO1xuaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiO1xuaW1wb3J0IGJhc2VVUkwgZnJvbSBcIi4uL3V0aWxzL2Jhc2VVUkxcIjtcblxuY29uc3QgQ2FydCA9ICgpID0+IHtcbiAgY29uc3QgeyBjdXJyZW50VXNlciB9ID0gdXNlQXV0aCgpO1xuICBjb25zdCB7IGNhcnRzLCByZW1vdmVDYXJ0IH0gPSB1c2VDYXJ0KCk7XG5cbiAgY29uc3QgaGFuZGxlQ2hlY2tvdXQgPSBhc3luYyBwYXltZW50RGF0YSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRva2VuID0gY29va2llLmdldChcInRva2VuXCIpO1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHsgcGF5bWVudERhdGEgfTtcbiAgICAgIGNvbnN0IGhlYWRlcnMgPSB7IGhlYWRlcnM6IHsgQXV0aG9yaXphdGlvbjogdG9rZW4gfSB9O1xuICAgICAgYXdhaXQgYXhpb3MucG9zdChgJHtiYXNlVVJMfS9hcGkvY2hlY2tvdXRgLCBwYXlsb2FkLCBoZWFkZXJzKTtcbiAgICAgIGNvbnNvbGUubG9nKFwic3VjY2Vzc1wiKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxMYXlvdXQ+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICB7Y3VycmVudFVzZXIgPyAoXG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJwYWdlLXRpdGxlXCI+WW91ciBDYXJ0PC9oMT5cbiAgICAgICAgICAgIHtjYXJ0cy5sZW5ndGggPiAwID8gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxDYXJ0TGlzdCBjYXJ0cz17Y2FydHN9IHJlbW92ZUNhcnQ9e3JlbW92ZUNhcnR9IC8+XG4gICAgICAgICAgICAgICAgPENhcnRTdWJUb3RhbCB0b3RhbD17Y2FsY3VsYXRlQ2FydFRvdGFsKGNhcnRzKX0gLz5cbiAgICAgICAgICAgICAgICA8U3RyaXBlQ2hlY2tvdXRcbiAgICAgICAgICAgICAgICAgIG5hbWU9XCJEcmVzcyBTaG9wXCJcbiAgICAgICAgICAgICAgICAgIGFtb3VudD17TnVtYmVyKGNhbGN1bGF0ZUNhcnRUb3RhbChjYXJ0cykpfVxuICAgICAgICAgICAgICAgICAgY3VycmVuY3k9XCJVU0RcIlxuICAgICAgICAgICAgICAgICAgc2hpcHBpbmdBZGRyZXNzPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgYmlsbGluZ0FkZHJlc3M9e3RydWV9XG4gICAgICAgICAgICAgICAgICB6aXBDb2RlPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgc3RyaXBlS2V5PVwicGtfdGVzdF9oc202ZnlNTnhXdkNXTlJZNTh0SUFYQXcwMDZqcWY4S3p0XCJcbiAgICAgICAgICAgICAgICAgIHRva2VuPXtoYW5kbGVDaGVja291dH1cbiAgICAgICAgICAgICAgICAgIHRyaWdnZXJFdmVudD1cIm9uQ2xpY2tcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hlY2tvdXQtYnRuLXdyYXBwZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJjaGVja291dC1idG5cIj4gQ0hFQ0sgT1VUPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L1N0cmlwZUNoZWNrb3V0PlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXNnLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXNnXCI+IFlvdXIgY2FydCBpcyBlbXB0eSA6KCA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8TGluayBocmVmPVwiL1wiPlxuICAgICAgICAgICAgICAgICAgPGEgY2xhc3NOYW1lPVwiYnRuXCI+IEdvIFNob3AgTm93IDwvYT5cbiAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1zZy1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJwYWdlLXRpdGxlXCI+IFBsZWFzZSBsb2dpbiB0byBzZWUgeW91ciBjYXJ0IDwvaDE+XG4gICAgICAgICAgICA8TGluayBocmVmPVwiL2xvZ2luXCI+XG4gICAgICAgICAgICAgIDxhIGNsYXNzTmFtZT1cImJ0blwiPiBMb2dpbiA8L2E+XG4gICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgIHtgXG4gICAgICAgICAgLmNvbnRhaW5lciB7XG4gICAgICAgICAgICBtYXgtd2lkdGg6IDEyMDBweDtcbiAgICAgICAgICAgIG1hcmdpbjogMnJlbSBhdXRvO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5wYWdlLXRpdGxlIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogM3JlbTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAuY2hlY2tvdXQtYnRuLXdyYXBwZXIge1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5jaGVja291dC1idG4sXG4gICAgICAgICAgLmJ0biB7XG4gICAgICAgICAgICB3aWR0aDogMjByZW07XG4gICAgICAgICAgICBjb2xvcjogI2ZmZjtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbG9yLWRhcmspO1xuICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tY29sb3ItZGFyayk7XG4gICAgICAgICAgICBwYWRkaW5nOiAxLjVyZW0gMDtcbiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgICAgZm9udC1zaXplOiAxLjhyZW07XG4gICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLmJ0biB7XG4gICAgICAgICAgICBtYXJnaW46IDVyZW0gMDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAubXNnIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMi4ycmVtO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5tc2ctY29udGFpbmVyIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDJyZW0gMDtcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgYH1cbiAgICAgIDwvc3R5bGU+XG4gICAgPC9MYXlvdXQ+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDYXJ0O1xuIl19 */\\n/*@ sourceURL=/home/russ/projects/dress-shop/pages/cart.js */\"));\n};\n\nexport default Cart;","map":{"version":3,"sources":["/home/russ/projects/dress-shop/pages/cart.js"],"names":["Layout","useAuth","useCart","cookie","StripeCheckout","CartList","CartSubTotal","calculateCartTotal","Link","axios","baseURL","Cart","currentUser","carts","removeCart","handleCheckout","paymentData","token","get","payload","headers","Authorization","post","console","log","error","length","Number"],"mappings":";;;;AAAA,OAAOA,MAAP,MAAmB,sBAAnB;AACA,SAASC,OAAT,QAAwB,4BAAxB;AACA,SAASC,OAAT,QAAwB,4BAAxB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,cAAP,MAA2B,uBAA3B;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,YAAP,MAAyB,iCAAzB;AACA,OAAOC,kBAAP,MAA+B,6BAA/B;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,kBAApB;;AAEA,MAAMC,IAAI,GAAG,MAAM;AACjB,QAAM;AAAEC,IAAAA;AAAF,MAAkBX,OAAO,EAA/B;AACA,QAAM;AAAEY,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAwBZ,OAAO,EAArC;;AAEA,QAAMa,cAAc,GAAG,MAAMC,WAAN,IAAqB;AAC1C,QAAI;AACF,YAAMC,KAAK,GAAGd,MAAM,CAACe,GAAP,CAAW,OAAX,CAAd;AACA,YAAMC,OAAO,GAAG;AAAEH,QAAAA;AAAF,OAAhB;AACA,YAAMI,OAAO,GAAG;AAAEA,QAAAA,OAAO,EAAE;AAAEC,UAAAA,aAAa,EAAEJ;AAAjB;AAAX,OAAhB;AACA,YAAMR,KAAK,CAACa,IAAN,CAAY,GAAEZ,OAAQ,eAAtB,EAAsCS,OAAtC,EAA+CC,OAA/C,CAAN;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACD,KAND,CAME,OAAOC,KAAP,EAAc;AACdF,MAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACD;AACF,GAVD;;AAYA,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA,uCAAe,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGb,WAAW,GACV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA,uCAAc,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,EAEGC,KAAK,CAACa,MAAN,GAAe,CAAf,GACC,4BACE,MAAC,QAAD;AAAU,IAAA,KAAK,EAAEb,KAAjB;AAAwB,IAAA,UAAU,EAAEC,UAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,MAAC,YAAD;AAAc,IAAA,KAAK,EAAEP,kBAAkB,CAACM,KAAD,CAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE,MAAC,cAAD;AACE,IAAA,IAAI,EAAC,YADP;AAEE,IAAA,MAAM,EAAEc,MAAM,CAACpB,kBAAkB,CAACM,KAAD,CAAnB,CAFhB;AAGE,IAAA,QAAQ,EAAC,KAHX;AAIE,IAAA,eAAe,EAAE,IAJnB;AAKE,IAAA,cAAc,EAAE,IALlB;AAME,IAAA,OAAO,EAAE,IANX;AAOE,IAAA,SAAS,EAAC,4CAPZ;AAQE,IAAA,KAAK,EAAEE,cART;AASE,IAAA,YAAY,EAAC,SATf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAWE;AAAA,uCAAe,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA,uCAAkB,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CAXF,CAHF,CADD,GAqBC;AAAA,uCAAe,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA,uCAAe,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADF,EAEE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,GAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA,uCAAa,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,CAFF,CAvBJ,CADU,GAiCV;AAAA,uCAAe,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA,uCAAc,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCADF,EAEE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA,uCAAa,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,CAFF,CAlCJ,CADF;AAAA;AAAA;AAAA,kmNADF;AA6FD,CA7GD;;AA+GA,eAAeJ,IAAf","sourcesContent":["import Layout from \"../components/Layout\";\nimport { useAuth } from \"../store/auth/auth.context\";\nimport { useCart } from \"../store/cart/cart.context\";\nimport cookie from \"js-cookie\";\nimport StripeCheckout from \"react-stripe-checkout\";\nimport CartList from \"../components/Cart/CartList\";\nimport CartSubTotal from \"../components/Cart/CartSubTotal\";\nimport calculateCartTotal from \"../utils/calculateCartTotal\";\nimport Link from \"next/link\";\nimport axios from \"axios\";\nimport baseURL from \"../utils/baseURL\";\n\nconst Cart = () => {\n  const { currentUser } = useAuth();\n  const { carts, removeCart } = useCart();\n\n  const handleCheckout = async paymentData => {\n    try {\n      const token = cookie.get(\"token\");\n      const payload = { paymentData };\n      const headers = { headers: { Authorization: token } };\n      await axios.post(`${baseURL}/api/checkout`, payload, headers);\n      console.log(\"success\");\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <Layout>\n      <div className=\"container\">\n        {currentUser ? (\n          <div>\n            <h1 className=\"page-title\">Your Cart</h1>\n            {carts.length > 0 ? (\n              <>\n                <CartList carts={carts} removeCart={removeCart} />\n                <CartSubTotal total={calculateCartTotal(carts)} />\n                <StripeCheckout\n                  name=\"Dress Shop\"\n                  amount={Number(calculateCartTotal(carts))}\n                  currency=\"USD\"\n                  shippingAddress={true}\n                  billingAddress={true}\n                  zipCode={true}\n                  stripeKey=\"pk_test_hsm6fyMNxWvCWNRY58tIAXAw006jqf8Kzt\"\n                  token={handleCheckout}\n                  triggerEvent=\"onClick\"\n                >\n                  <div className=\"checkout-btn-wrapper\">\n                    <button className=\"checkout-btn\"> CHECK OUT</button>\n                  </div>\n                </StripeCheckout>\n              </>\n            ) : (\n              <div className=\"msg-container\">\n                <div className=\"msg\"> Your cart is empty :( </div>\n                <Link href=\"/\">\n                  <a className=\"btn\"> Go Shop Now </a>\n                </Link>\n              </div>\n            )}\n          </div>\n        ) : (\n          <div className=\"msg-container\">\n            <h1 className=\"page-title\"> Please login to see your cart </h1>\n            <Link href=\"/login\">\n              <a className=\"btn\"> Login </a>\n            </Link>\n          </div>\n        )}\n      </div>\n      <style jsx>\n        {`\n          .container {\n            max-width: 1200px;\n            margin: 2rem auto;\n          }\n\n          .page-title {\n            font-size: 3rem;\n          }\n\n          .checkout-btn-wrapper {\n            display: flex;\n            justify-content: flex-end;\n            align-items: center;\n          }\n\n          .checkout-btn,\n          .btn {\n            width: 20rem;\n            color: #fff;\n            background-color: var(--color-dark);\n            border: 1px solid var(--color-dark);\n            padding: 1.5rem 0;\n            display: block;\n            font-size: 1.8rem;\n            cursor: pointer;\n          }\n\n          .btn {\n            margin: 5rem 0;\n          }\n\n          .msg {\n            font-size: 2.2rem;\n          }\n\n          .msg-container {\n            padding: 2rem 0;\n            text-align: center;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n          }\n        `}\n      </style>\n    </Layout>\n  );\n};\n\nexport default Cart;\n"]},"metadata":{},"sourceType":"module"}