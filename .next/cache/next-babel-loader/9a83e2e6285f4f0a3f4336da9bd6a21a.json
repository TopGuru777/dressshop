{"ast":null,"code":"import Router from \"next/router\";\nimport cookie from \"js-cookie\"; // handle auto login when created an account, and login\n\nfunction autoLogin(token) {\n  cookie.set(\"token\", token);\n  Router.push(\"/\");\n}\n\nfunction redirectUser(ctx, location) {\n  if (ctx.req) {\n    ctx.res.writeHead(302, {\n      Location: location\n    });\n    ctx.res.end();\n  } else {\n    Router.push(\"location\");\n  }\n}\n\nexport { autoLogin, redirectUser };","map":{"version":3,"sources":["/home/russ/projects/dress-shop/utils/auth.js"],"names":["Router","cookie","autoLogin","token","set","push","redirectUser","ctx","location","req","res","writeHead","Location","end"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,aAAnB;AACA,OAAOC,MAAP,MAAmB,WAAnB,C,CAEA;;AACA,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;AACxBF,EAAAA,MAAM,CAACG,GAAP,CAAW,OAAX,EAAoBD,KAApB;AACAH,EAAAA,MAAM,CAACK,IAAP,CAAY,GAAZ;AACD;;AAED,SAASC,YAAT,CAAsBC,GAAtB,EAA2BC,QAA3B,EAAqC;AACnC,MAAID,GAAG,CAACE,GAAR,EAAa;AACXF,IAAAA,GAAG,CAACG,GAAJ,CAAQC,SAAR,CAAkB,GAAlB,EAAuB;AAAEC,MAAAA,QAAQ,EAAEJ;AAAZ,KAAvB;AACAD,IAAAA,GAAG,CAACG,GAAJ,CAAQG,GAAR;AACD,GAHD,MAGO;AACLb,IAAAA,MAAM,CAACK,IAAP,CAAY,UAAZ;AACD;AACF;;AAED,SAASH,SAAT,EAAoBI,YAApB","sourcesContent":["import Router from \"next/router\";\nimport cookie from \"js-cookie\";\n\n// handle auto login when created an account, and login\nfunction autoLogin(token) {\n  cookie.set(\"token\", token);\n  Router.push(\"/\");\n}\n\nfunction redirectUser(ctx, location) {\n  if (ctx.req) {\n    ctx.res.writeHead(302, { Location: location });\n    ctx.res.end();\n  } else {\n    Router.push(\"location\");\n  }\n}\n\nexport { autoLogin, redirectUser };\n"]},"metadata":{},"sourceType":"module"}