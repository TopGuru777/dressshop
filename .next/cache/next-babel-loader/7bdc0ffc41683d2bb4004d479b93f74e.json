{"ast":null,"code":"var _jsxFileName = \"/home/russ/projects/dress-shop/pages/login.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport Router from 'next/router';\nimport { Formik } from 'formik';\nimport { useAuth } from '../store';\nimport * as Yup from 'yup';\nimport Link from 'next/link';\nimport Layout from '../components/Layout';\nimport Spinner from '../components/Shared/Loader/Spinner';\nimport Alert from '../components/Shared/Alert';\nimport PageLoader from '../components/Shared/Loader/PageLoader';\nconst LoginSchema = Yup.object().shape({\n  password: Yup.string().required('Password is required').min(6),\n  email: Yup.string().email('Invalid email').required('Email is required')\n});\n\nconst Login = () => {\n  const {\n    0: submit,\n    1: setSubmit\n  } = useState(false);\n  const {\n    0: showLoader,\n    1: setShowLoader\n  } = useState(false);\n  const {\n    error,\n    login,\n    clearError\n  } = useAuth();\n  useEffect(() => {\n    return () => error && clearError();\n  }, [error]);\n  useEffect(() => {\n    let isMounted = false;\n\n    Router.onRouteChangeStart = () => {\n      if (!isMounted) {\n        setShowLoader(true);\n        isMounted = true;\n      }\n    };\n  }, []);\n  return __jsx(React.Fragment, null, __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, showLoader && __jsx(PageLoader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: \"jsx-3721802922\" + \" \" + \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, __jsx(Formik, {\n    initialValues: {\n      email: '',\n      password: ''\n    },\n    validationSchema: LoginSchema,\n    onSubmit: async values => {\n      setSubmit(true);\n      await login(values);\n      setSubmit(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, ({\n    errors,\n    touched,\n    handleChange,\n    handleSubmit,\n    values\n  }) => __jsx(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"jsx-3721802922\" + \" \" + \"auth-form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, __jsx(\"h1\", {\n    className: \"jsx-3721802922\" + \" \" + \"page-heading\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \" Login \"), error && __jsx(Alert, {\n    message: error,\n    type: \"error\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: \"jsx-3721802922\" + \" \" + \"group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"email\",\n    placeholder: \"Email\",\n    name: \"email\",\n    value: values.email,\n    onChange: handleChange,\n    className: \"jsx-3721802922\" + \" \" + `input ${errors.email && touched.email && 'input-error'}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }), errors.email && touched.email ? __jsx(\"div\", {\n    className: \"jsx-3721802922\" + \" \" + \"error\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, errors.email) : null), __jsx(\"div\", {\n    className: \"jsx-3721802922\" + \" \" + \"group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"password\",\n    placeholder: \"Password\",\n    name: \"password\",\n    value: values.password,\n    onChange: handleChange,\n    className: \"jsx-3721802922\" + \" \" + `input ${errors.password && touched.password && 'input-error'}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }), errors.password && touched.password ? __jsx(\"div\", {\n    className: \"jsx-3721802922\" + \" \" + \"error\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, errors.password) : null), __jsx(\"div\", {\n    className: \"jsx-3721802922\" + \" \" + \"group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, __jsx(\"button\", {\n    type: \"submit\",\n    disabled: submit,\n    className: \"jsx-3721802922\" + \" \" + \"btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, submit ? __jsx(Spinner, {\n    width: 40,\n    height: 40,\n    color: \"#fff\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }) : 'Login')), __jsx(\"span\", {\n    className: \"jsx-3721802922\" + \" \" + \"link\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, \"Don't have an account?\", ' ', __jsx(Link, {\n    href: \"/signup\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    className: \"jsx-3721802922\" + \" \" + \"link link-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, \" Create an account.\"))))))), __jsx(_JSXStyle, {\n    id: \"3721802922\",\n    __self: this\n  }, \".container.jsx-3721802922{max-width:1200px;margin:2rem auto;}.page-heading.jsx-3721802922{font-size:3rem;text-transform:uppercase;}.auth-form.jsx-3721802922{padding:2rem 0;width:50rem;margin:0 auto;}@media only screen and (max-width:600px){.auth-form.jsx-3721802922{width:100%;padding:2rem;}}.auth-form.jsx-3721802922 .input.jsx-3721802922{width:100%;height:5rem;font-size:1.7rem;border:1px solid transparent;border-bottom:1px solid #666;}.auth-form.jsx-3721802922 .input.jsx-3721802922:focus{outline:none;}.group.jsx-3721802922{margin-top:2.5rem;}.auth-form.jsx-3721802922 .btn.jsx-3721802922{width:100%;height:6rem;background-color:var(--color-dark);color:#fff;font-size:2rem;font-family:inherit;border:1px solid var(--color-dark);cursor:pointer;}.link.jsx-3721802922{margin-top:1rem;color:var(--color-dark);display:inline-block;font-size:1.7rem;}.link-text.jsx-3721802922{color:var(--color-primary);}.error.jsx-3721802922{color:red;font-size:1.6rem;padding:0.2rem 0;}.auth-form.jsx-3721802922 .input-error.jsx-3721802922{border-bottom:1px solid red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1c3MvcHJvamVjdHMvZHJlc3Mtc2hvcC9wYWdlcy9sb2dpbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFpSFMsQUFHOEIsQUFLRixBQUtBLEFBT0YsQUFNRixBQVFHLEFBSUksQUFJUCxBQVdLLEFBT1csQUFJakIsQUFNa0IsVUFMWCxDQTVDRixBQU1ILEFBZ0JELEVBUmIsRUExQjJCLEFBS2IsQ0F3Q1ksQ0FsRFAsQ0FtQ25CLEtBWG1CLEFBZ0JrQixDQXRCbkMsR0FQYyxBQThDaEIsQUFLbUIsQ0FLbkIsTUFsRUEsTUFLQSxBQW1CK0IsQUEwQlIsQ0F2Q3ZCLEdBbURBLGNBdEJhLEdBV00sUUExQlksQUFnQmQsU0FXakIsTUFWc0IsY0FoQnRCLE1BaUJxQyxtQ0FDcEIsZUFDakIiLCJmaWxlIjoiL2hvbWUvcnVzcy9wcm9qZWN0cy9kcmVzcy1zaG9wL3BhZ2VzL2xvZ2luLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUm91dGVyIGZyb20gJ25leHQvcm91dGVyJztcbmltcG9ydCB7IEZvcm1payB9IGZyb20gJ2Zvcm1payc7XG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSAnLi4vc3RvcmUnO1xuaW1wb3J0ICogYXMgWXVwIGZyb20gJ3l1cCc7XG5pbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnO1xuaW1wb3J0IExheW91dCBmcm9tICcuLi9jb21wb25lbnRzL0xheW91dCc7XG5pbXBvcnQgU3Bpbm5lciBmcm9tICcuLi9jb21wb25lbnRzL1NoYXJlZC9Mb2FkZXIvU3Bpbm5lcic7XG5pbXBvcnQgQWxlcnQgZnJvbSAnLi4vY29tcG9uZW50cy9TaGFyZWQvQWxlcnQnO1xuaW1wb3J0IFBhZ2VMb2FkZXIgZnJvbSAnLi4vY29tcG9uZW50cy9TaGFyZWQvTG9hZGVyL1BhZ2VMb2FkZXInO1xuXG5jb25zdCBMb2dpblNjaGVtYSA9IFl1cC5vYmplY3QoKS5zaGFwZSh7XG4gIHBhc3N3b3JkOiBZdXAuc3RyaW5nKClcbiAgICAucmVxdWlyZWQoJ1Bhc3N3b3JkIGlzIHJlcXVpcmVkJylcbiAgICAubWluKDYpLFxuICBlbWFpbDogWXVwLnN0cmluZygpXG4gICAgLmVtYWlsKCdJbnZhbGlkIGVtYWlsJylcbiAgICAucmVxdWlyZWQoJ0VtYWlsIGlzIHJlcXVpcmVkJylcbn0pO1xuXG5jb25zdCBMb2dpbiA9ICgpID0+IHtcbiAgY29uc3QgW3N1Ym1pdCwgc2V0U3VibWl0XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dMb2FkZXIsIHNldFNob3dMb2FkZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCB7IGVycm9yLCBsb2dpbiwgY2xlYXJFcnJvciB9ID0gdXNlQXV0aCgpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IGVycm9yICYmIGNsZWFyRXJyb3IoKTtcbiAgfSwgW2Vycm9yXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgaXNNb3VudGVkID0gZmFsc2U7XG4gICAgUm91dGVyLm9uUm91dGVDaGFuZ2VTdGFydCA9ICgpID0+IHtcbiAgICAgIGlmICghaXNNb3VudGVkKSB7XG4gICAgICAgIHNldFNob3dMb2FkZXIodHJ1ZSk7XG4gICAgICAgIGlzTW91bnRlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxMYXlvdXQ+XG4gICAgICAgIHtzaG93TG9hZGVyICYmIDxQYWdlTG9hZGVyIC8+fVxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPEZvcm1pa1xuICAgICAgICAgICAgaW5pdGlhbFZhbHVlcz17e1xuICAgICAgICAgICAgICBlbWFpbDogJycsXG4gICAgICAgICAgICAgIHBhc3N3b3JkOiAnJ1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHZhbGlkYXRpb25TY2hlbWE9e0xvZ2luU2NoZW1hfVxuICAgICAgICAgICAgb25TdWJtaXQ9e2FzeW5jIHZhbHVlcyA9PiB7XG4gICAgICAgICAgICAgIHNldFN1Ym1pdCh0cnVlKTtcbiAgICAgICAgICAgICAgYXdhaXQgbG9naW4odmFsdWVzKTtcbiAgICAgICAgICAgICAgc2V0U3VibWl0KGZhbHNlKTtcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgeyh7IGVycm9ycywgdG91Y2hlZCwgaGFuZGxlQ2hhbmdlLCBoYW5kbGVTdWJtaXQsIHZhbHVlcyB9KSA9PiAoXG4gICAgICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9IGNsYXNzTmFtZT1cImF1dGgtZm9ybVwiPlxuICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJwYWdlLWhlYWRpbmdcIj4gTG9naW4gPC9oMT5cbiAgICAgICAgICAgICAgICB7ZXJyb3IgJiYgPEFsZXJ0IG1lc3NhZ2U9e2Vycm9yfSB0eXBlPVwiZXJyb3JcIiAvPn1cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgaW5wdXQgJHtlcnJvcnMuZW1haWwgJiZcbiAgICAgICAgICAgICAgICAgICAgICB0b3VjaGVkLmVtYWlsICYmXG4gICAgICAgICAgICAgICAgICAgICAgJ2lucHV0LWVycm9yJ31gfVxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZW1haWxcIlxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVtYWlsXCJcbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cImVtYWlsXCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3ZhbHVlcy5lbWFpbH1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICB7ZXJyb3JzLmVtYWlsICYmIHRvdWNoZWQuZW1haWwgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZXJyb3JcIj57ZXJyb3JzLmVtYWlsfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgaW5wdXQgJHtlcnJvcnMucGFzc3dvcmQgJiZcbiAgICAgICAgICAgICAgICAgICAgICB0b3VjaGVkLnBhc3N3b3JkICYmXG4gICAgICAgICAgICAgICAgICAgICAgJ2lucHV0LWVycm9yJ31gfVxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3ZhbHVlcy5wYXNzd29yZH1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICB7ZXJyb3JzLnBhc3N3b3JkICYmIHRvdWNoZWQucGFzc3dvcmQgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZXJyb3JcIj57ZXJyb3JzLnBhc3N3b3JkfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncm91cFwiPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgY2xhc3NOYW1lPVwiYnRuXCIgZGlzYWJsZWQ9e3N1Ym1pdH0+XG4gICAgICAgICAgICAgICAgICAgIHtzdWJtaXQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgPFNwaW5uZXIgd2lkdGg9ezQwfSBoZWlnaHQ9ezQwfSBjb2xvcj1cIiNmZmZcIiAvPlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICdMb2dpbidcbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImxpbmtcIj5cbiAgICAgICAgICAgICAgICAgIERvbid0IGhhdmUgYW4gYWNjb3VudD97JyAnfVxuICAgICAgICAgICAgICAgICAgPExpbmsgaHJlZj1cIi9zaWdudXBcIj5cbiAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3NOYW1lPVwibGluayBsaW5rLXRleHRcIj4gQ3JlYXRlIGFuIGFjY291bnQuPC9hPlxuICAgICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L0Zvcm1paz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L0xheW91dD5cbiAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgIHtgXG4gICAgICAgICAgLmNvbnRhaW5lciB7XG4gICAgICAgICAgICBtYXgtd2lkdGg6IDEyMDBweDtcbiAgICAgICAgICAgIG1hcmdpbjogMnJlbSBhdXRvO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5wYWdlLWhlYWRpbmcge1xuICAgICAgICAgICAgZm9udC1zaXplOiAzcmVtO1xuICAgICAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAuYXV0aC1mb3JtIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDJyZW0gMDtcbiAgICAgICAgICAgIHdpZHRoOiA1MHJlbTtcbiAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNjAwcHgpIHtcbiAgICAgICAgICAgIC5hdXRoLWZvcm0ge1xuICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgcGFkZGluZzogMnJlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAuYXV0aC1mb3JtIC5pbnB1dCB7XG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIGhlaWdodDogNXJlbTtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMS43cmVtO1xuICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzY2NjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAuYXV0aC1mb3JtIC5pbnB1dDpmb2N1cyB7XG4gICAgICAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAuZ3JvdXAge1xuICAgICAgICAgICAgbWFyZ2luLXRvcDogMi41cmVtO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5hdXRoLWZvcm0gLmJ0biB7XG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIGhlaWdodCA2cmVtO1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sb3ItZGFyayk7XG4gICAgICAgICAgICBjb2xvcjogI2ZmZjtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMnJlbTtcbiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBpbmhlcml0O1xuICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tY29sb3ItZGFyayk7XG4gICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLmxpbmsge1xuICAgICAgICAgICAgbWFyZ2luLXRvcDogMXJlbTtcbiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci1kYXJrKTtcbiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMS43cmVtO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5saW5rLXRleHQge1xuICAgICAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLXByaW1hcnkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5lcnJvciB7XG4gICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgZm9udC1zaXplOiAxLjZyZW07XG4gICAgICAgICAgICBwYWRkaW5nOiAwLjJyZW0gMDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAuYXV0aC1mb3JtIC5pbnB1dC1lcnJvciB7XG4gICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgYH1cbiAgICAgIDwvc3R5bGU+XG4gICAgPC8+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBMb2dpbjtcbiJdfQ== */\\n/*@ sourceURL=/home/russ/projects/dress-shop/pages/login.js */\"));\n};\n\nexport default Login;","map":{"version":3,"sources":["/home/russ/projects/dress-shop/pages/login.js"],"names":["React","useState","useEffect","Router","Formik","useAuth","Yup","Link","Layout","Spinner","Alert","PageLoader","LoginSchema","object","shape","password","string","required","min","email","Login","submit","setSubmit","showLoader","setShowLoader","error","login","clearError","isMounted","onRouteChangeStart","values","errors","touched","handleChange","handleSubmit"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Router from 'next/router';\nimport { Formik } from 'formik';\nimport { useAuth } from '../store';\nimport * as Yup from 'yup';\nimport Link from 'next/link';\nimport Layout from '../components/Layout';\nimport Spinner from '../components/Shared/Loader/Spinner';\nimport Alert from '../components/Shared/Alert';\nimport PageLoader from '../components/Shared/Loader/PageLoader';\n\nconst LoginSchema = Yup.object().shape({\n  password: Yup.string()\n    .required('Password is required')\n    .min(6),\n  email: Yup.string()\n    .email('Invalid email')\n    .required('Email is required')\n});\n\nconst Login = () => {\n  const [submit, setSubmit] = useState(false);\n  const [showLoader, setShowLoader] = useState(false);\n  const { error, login, clearError } = useAuth();\n\n  useEffect(() => {\n    return () => error && clearError();\n  }, [error]);\n\n  useEffect(() => {\n    let isMounted = false;\n    Router.onRouteChangeStart = () => {\n      if (!isMounted) {\n        setShowLoader(true);\n        isMounted = true;\n      }\n    };\n  }, []);\n\n  return (\n    <>\n      <Layout>\n        {showLoader && <PageLoader />}\n\n        <div className=\"container\">\n          <Formik\n            initialValues={{\n              email: '',\n              password: ''\n            }}\n            validationSchema={LoginSchema}\n            onSubmit={async values => {\n              setSubmit(true);\n              await login(values);\n              setSubmit(false);\n            }}\n          >\n            {({ errors, touched, handleChange, handleSubmit, values }) => (\n              <form onSubmit={handleSubmit} className=\"auth-form\">\n                <h1 className=\"page-heading\"> Login </h1>\n                {error && <Alert message={error} type=\"error\" />}\n                <div className=\"group\">\n                  <input\n                    className={`input ${errors.email &&\n                      touched.email &&\n                      'input-error'}`}\n                    type=\"email\"\n                    placeholder=\"Email\"\n                    name=\"email\"\n                    value={values.email}\n                    onChange={handleChange}\n                  />\n                  {errors.email && touched.email ? (\n                    <div className=\"error\">{errors.email}</div>\n                  ) : null}\n                </div>\n\n                <div className=\"group\">\n                  <input\n                    className={`input ${errors.password &&\n                      touched.password &&\n                      'input-error'}`}\n                    type=\"password\"\n                    placeholder=\"Password\"\n                    name=\"password\"\n                    value={values.password}\n                    onChange={handleChange}\n                  />\n                  {errors.password && touched.password ? (\n                    <div className=\"error\">{errors.password}</div>\n                  ) : null}\n                </div>\n                <div className=\"group\">\n                  <button type=\"submit\" className=\"btn\" disabled={submit}>\n                    {submit ? (\n                      <Spinner width={40} height={40} color=\"#fff\" />\n                    ) : (\n                      'Login'\n                    )}\n                  </button>\n                </div>\n                <span className=\"link\">\n                  Don't have an account?{' '}\n                  <Link href=\"/signup\">\n                    <a className=\"link link-text\"> Create an account.</a>\n                  </Link>\n                </span>\n              </form>\n            )}\n          </Formik>\n        </div>\n      </Layout>\n      <style jsx>\n        {`\n          .container {\n            max-width: 1200px;\n            margin: 2rem auto;\n          }\n\n          .page-heading {\n            font-size: 3rem;\n            text-transform: uppercase;\n          }\n\n          .auth-form {\n            padding: 2rem 0;\n            width: 50rem;\n            margin: 0 auto;\n          }\n\n          @media only screen and (max-width: 600px) {\n            .auth-form {\n              width: 100%;\n              padding: 2rem;\n            }\n          }\n\n          .auth-form .input {\n            width: 100%;\n            height: 5rem;\n            font-size: 1.7rem;\n            border: 1px solid transparent;\n            border-bottom: 1px solid #666;\n          }\n\n          .auth-form .input:focus {\n             outline: none;\n          }\n\n          .group {\n            margin-top: 2.5rem;\n          }\n\n          .auth-form .btn {\n            width: 100%;\n            height 6rem;\n            background-color: var(--color-dark);\n            color: #fff;\n            font-size: 2rem;\n            font-family: inherit;\n            border: 1px solid var(--color-dark);\n            cursor: pointer;\n          }\n\n          .link {\n            margin-top: 1rem;\n            color: var(--color-dark);\n            display: inline-block;\n            font-size: 1.7rem;\n          }\n\n          .link-text {\n            color: var(--color-primary);\n          }\n\n          .error {\n            color: red;\n            font-size: 1.6rem;\n            padding: 0.2rem 0;\n          }\n\n          .auth-form .input-error {\n            border-bottom: 1px solid red;\n          }\n        `}\n      </style>\n    </>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}