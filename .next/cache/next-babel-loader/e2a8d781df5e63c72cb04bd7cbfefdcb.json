{"ast":null,"code":"import jwt from \"jsonwebtoken\";\nimport connectDB from \"../../utils/connectDB\";\nimport Cart from \"../../models/Cart\";\nexport default (async (req, res) => {\n  await connectDB();\n\n  try {\n    const {\n      userId\n    } = jwt.verify(req.headers.authorization, process.env.JWT_SECRET); // find cart based on User Id\n\n    const cart = await Cart.findOne({\n      user: userId\n    });\n    console.log(cart);\n    res.send(\"test\");\n  } catch (error) {\n    res.status(500).send(\"Error in processing your order. Please try again\");\n  }\n});","map":{"version":3,"sources":["/home/russ/projects/dress-shop/pages/api/checkout.js"],"names":["jwt","connectDB","Cart","req","res","userId","verify","headers","authorization","process","env","JWT_SECRET","cart","findOne","user","console","log","send","error","status"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,cAAhB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjC,QAAMH,SAAS,EAAf;;AAEA,MAAI;AACF,UAAM;AAAEI,MAAAA;AAAF,QAAaL,GAAG,CAACM,MAAJ,CACjBH,GAAG,CAACI,OAAJ,CAAYC,aADK,EAEjBC,OAAO,CAACC,GAAR,CAAYC,UAFK,CAAnB,CADE,CAKF;;AACA,UAAMC,IAAI,GAAG,MAAMV,IAAI,CAACW,OAAL,CAAa;AAAEC,MAAAA,IAAI,EAAET;AAAR,KAAb,CAAnB;AACAU,IAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;AACAR,IAAAA,GAAG,CAACa,IAAJ,CAAS,MAAT;AACD,GATD,CASE,OAAOC,KAAP,EAAc;AACdd,IAAAA,GAAG,CAACe,MAAJ,CAAW,GAAX,EAAgBF,IAAhB,CAAqB,kDAArB;AACD;AACF,CAfD","sourcesContent":["import jwt from \"jsonwebtoken\";\nimport connectDB from \"../../utils/connectDB\";\nimport Cart from \"../../models/Cart\";\n\nexport default async (req, res) => {\n  await connectDB();\n\n  try {\n    const { userId } = jwt.verify(\n      req.headers.authorization,\n      process.env.JWT_SECRET\n    );\n    // find cart based on User Id\n    const cart = await Cart.findOne({ user: userId });\n    console.log(cart);\n    res.send(\"test\");\n  } catch (error) {\n    res.status(500).send(\"Error in processing your order. Please try again\");\n  }\n};\n"]},"metadata":{},"sourceType":"module"}