{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nvar _jsxFileName = \"/home/russ/projects/dress-shop/pages/index.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Layout from '../components/Layout';\nimport baseURL from '../utils/baseURL';\nimport Banner from '../components/Home/Banner';\nimport ProductList from '../components/Shared/Products/ProductList';\nimport Spinner from '../components/Shared/Loader/Spinner';\nimport { Grid } from '../components/Shared/Loader/Skeleton';\n\nvar Home = function Home() {\n  var _useState = useState(1),\n      currentPage = _useState[0],\n      setCurrentPage = _useState[1];\n\n  var _useState2 = useState([]),\n      products = _useState2[0],\n      setProducts = _useState2[1];\n\n  var _useState3 = useState(false),\n      isLoadMore = _useState3[0],\n      setIsLoadMOre = _useState3[1];\n\n  var _useState4 = useState(false),\n      isLoadingMore = _useState4[0],\n      setIsLoadingMore = _useState4[1];\n\n  CONST[(isLoading, setIsLoading)] = useState(true);\n  useEffect(function () {\n    function fetchProducts() {\n      var payload, _ref, data, newProducts, hasLoadMore;\n\n      return _regeneratorRuntime.async(function fetchProducts$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              payload = {\n                params: {\n                  currentPage: currentPage,\n                  pageSize: 10\n                }\n              };\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(axios.get(\"\".concat(baseURL, \"/api/products\"), payload));\n\n            case 4:\n              _ref = _context.sent;\n              data = _ref.data;\n              newProducts = products.concat(data.products);\n              setProducts(products.concat(data.products));\n              setIsLoadingMore(false); //check if theres still a products to show\n\n              hasLoadMore = newProducts.length >= data.totalProducts;\n\n              if (!hasLoadMore) {\n                setIsLoadMOre(true);\n              } else {\n                setIsLoadMOre(false);\n              }\n\n              _context.next = 16;\n              break;\n\n            case 13:\n              _context.prev = 13;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 13]]);\n    }\n\n    fetchProducts();\n  }, [currentPage]);\n\n  var handleLoadMore = function handleLoadMore() {\n    setCurrentPage(function (page) {\n      return page + 1;\n    });\n    setIsLoadingMore(true);\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, __jsx(Banner, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: \"jsx-4102319223\" + \" \" + \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-4102319223\" + \" \" + \"heading\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Product Overview\"), isLoading ? __jsx(Grid, {\n    number: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }) : __jsx(ProductList, {\n    products: products,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }), \">\", isLoadingMore && __jsx(\"div\", {\n    className: \"jsx-4102319223\" + \" \" + \"loading-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, __jsx(Spinner, {\n    color: 'var(--color-primary)',\n    width: 80,\n    height: 80,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  })), isLoadMore && !isLoadingMore && __jsx(\"div\", {\n    className: \"jsx-4102319223\" + \" \" + \"load-more\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, __jsx(\"button\", {\n    onClick: handleLoadMore,\n    className: \"jsx-4102319223\" + \" \" + \"btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Load More\")))), __jsx(_JSXStyle, {\n    id: \"4102319223\",\n    __self: this\n  }, \".container.jsx-4102319223{max-width:1200px;margin:2rem auto;}.heading.jsx-4102319223{padding:1.5rem;font-weight:700;font-size:36px;line-height:1.1;text-transform:uppercase;}.load-more.jsx-4102319223{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin:5rem 0;}.load-more.jsx-4102319223 .btn.jsx-4102319223{background-color:#fff;color:var(--color-primary);font-size:2rem;width:25rem;height:6rem;line-height:6rem;border-radius:5rem;border:1px solid var(--color-primary);cursor:pointer;}.load-more.jsx-4102319223 .btn.jsx-4102319223:focus{outline:none;}.load-more.jsx-4102319223 .btn.jsx-4102319223:hover{background-color:var(--color-primary);color:#fff;}.loading-wrapper.jsx-4102319223{width:100%;text-align:center;padding:2rem 0;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1c3MvcHJvamVjdHMvZHJlc3Mtc2hvcC9wYWdlcy9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFzRVMsQUFHOEIsQUFLRixBQVFKLEFBT1csQUFZVCxBQUl5QixBQUszQixXQTNCRSxBQTRCSyxFQVRwQixFQTNCa0IsRUFMQyxLQW9CVSxPQXNCWixFQXBDQSxHQUxqQixJQW1DYSxNQU9iLEVBcENrQixHQWNELEFBZ0JqQixhQTdCMkIsRUFjYixZQUNBLFNBVFcsRUFMekIsQ0Fla0IsaUJBQ0csbUJBQ21CLHNDQUN2QixlQUNqQixPQWJnQixjQUNoQiIsImZpbGUiOiIvaG9tZS9ydXNzL3Byb2plY3RzL2RyZXNzLXNob3AvcGFnZXMvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCBMYXlvdXQgZnJvbSAnLi4vY29tcG9uZW50cy9MYXlvdXQnO1xuaW1wb3J0IGJhc2VVUkwgZnJvbSAnLi4vdXRpbHMvYmFzZVVSTCc7XG5pbXBvcnQgQmFubmVyIGZyb20gJy4uL2NvbXBvbmVudHMvSG9tZS9CYW5uZXInO1xuaW1wb3J0IFByb2R1Y3RMaXN0IGZyb20gJy4uL2NvbXBvbmVudHMvU2hhcmVkL1Byb2R1Y3RzL1Byb2R1Y3RMaXN0JztcbmltcG9ydCBTcGlubmVyIGZyb20gJy4uL2NvbXBvbmVudHMvU2hhcmVkL0xvYWRlci9TcGlubmVyJztcbmltcG9ydCB7IEdyaWQgfSBmcm9tICcuLi9jb21wb25lbnRzL1NoYXJlZC9Mb2FkZXIvU2tlbGV0b24nO1xuXG5jb25zdCBIb21lID0gKCkgPT4ge1xuICBjb25zdCBbY3VycmVudFBhZ2UsIHNldEN1cnJlbnRQYWdlXSA9IHVzZVN0YXRlKDEpO1xuICBjb25zdCBbcHJvZHVjdHMsIHNldFByb2R1Y3RzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2lzTG9hZE1vcmUsIHNldElzTG9hZE1PcmVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNMb2FkaW5nTW9yZSwgc2V0SXNMb2FkaW5nTW9yZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIENPTlNUWyhpc0xvYWRpbmcsIHNldElzTG9hZGluZyldID0gdXNlU3RhdGUodHJ1ZSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBhc3luYyBmdW5jdGlvbiBmZXRjaFByb2R1Y3RzKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHsgcGFyYW1zOiB7IGN1cnJlbnRQYWdlLCBwYWdlU2l6ZTogMTAgfSB9O1xuICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IGF4aW9zLmdldChgJHtiYXNlVVJMfS9hcGkvcHJvZHVjdHNgLCBwYXlsb2FkKTtcbiAgICAgICAgY29uc3QgbmV3UHJvZHVjdHMgPSBwcm9kdWN0cy5jb25jYXQoZGF0YS5wcm9kdWN0cyk7XG4gICAgICAgIHNldFByb2R1Y3RzKHByb2R1Y3RzLmNvbmNhdChkYXRhLnByb2R1Y3RzKSk7XG4gICAgICAgIHNldElzTG9hZGluZ01vcmUoZmFsc2UpO1xuICAgICAgICAvL2NoZWNrIGlmIHRoZXJlcyBzdGlsbCBhIHByb2R1Y3RzIHRvIHNob3dcbiAgICAgICAgY29uc3QgaGFzTG9hZE1vcmUgPSBuZXdQcm9kdWN0cy5sZW5ndGggPj0gZGF0YS50b3RhbFByb2R1Y3RzO1xuICAgICAgICBpZiAoIWhhc0xvYWRNb3JlKSB7XG4gICAgICAgICAgc2V0SXNMb2FkTU9yZSh0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRJc0xvYWRNT3JlKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgICBmZXRjaFByb2R1Y3RzKCk7XG4gIH0sIFtjdXJyZW50UGFnZV0pO1xuXG4gIGNvbnN0IGhhbmRsZUxvYWRNb3JlID0gKCkgPT4ge1xuICAgIHNldEN1cnJlbnRQYWdlKHBhZ2UgPT4gcGFnZSArIDEpO1xuICAgIHNldElzTG9hZGluZ01vcmUodHJ1ZSk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPExheW91dD5cbiAgICAgICAgPEJhbm5lciAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGluZ1wiPlByb2R1Y3QgT3ZlcnZpZXc8L2Rpdj5cbiAgICAgICAgICB7aXNMb2FkaW5nID8gKFxuICAgICAgICAgICAgPEdyaWQgbnVtYmVyPXs0fSAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8UHJvZHVjdExpc3QgcHJvZHVjdHM9e3Byb2R1Y3RzfSAvPlxuICAgICAgICAgICl9XG4gICAgICAgICAgPlxuICAgICAgICAgIHtpc0xvYWRpbmdNb3JlICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibG9hZGluZy13cmFwcGVyXCI+XG4gICAgICAgICAgICAgIDxTcGlubmVyIGNvbG9yPXsndmFyKC0tY29sb3ItcHJpbWFyeSknfSB3aWR0aD17ODB9IGhlaWdodD17ODB9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtpc0xvYWRNb3JlICYmICFpc0xvYWRpbmdNb3JlICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibG9hZC1tb3JlXCI+XG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuXCIgb25DbGljaz17aGFuZGxlTG9hZE1vcmV9PlxuICAgICAgICAgICAgICAgIExvYWQgTW9yZVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9MYXlvdXQ+XG4gICAgICA8c3R5bGUganN4PlxuICAgICAgICB7YFxuICAgICAgICAgIC5jb250YWluZXIge1xuICAgICAgICAgICAgbWF4LXdpZHRoOiAxMjAwcHg7XG4gICAgICAgICAgICBtYXJnaW46IDJyZW0gYXV0bztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAuaGVhZGluZyB7XG4gICAgICAgICAgICBwYWRkaW5nOiAxLjVyZW07XG4gICAgICAgICAgICBmb250LXdlaWdodDogNzAwO1xuICAgICAgICAgICAgZm9udC1zaXplOiAzNnB4O1xuICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuMTtcbiAgICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLmxvYWQtbW9yZSB7XG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgICAgIG1hcmdpbjogNXJlbSAwO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5sb2FkLW1vcmUgLmJ0biB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgICAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLXByaW1hcnkpO1xuICAgICAgICAgICAgZm9udC1zaXplOiAycmVtO1xuICAgICAgICAgICAgd2lkdGg6IDI1cmVtO1xuICAgICAgICAgICAgaGVpZ2h0OiA2cmVtO1xuICAgICAgICAgICAgbGluZS1oZWlnaHQgNnJlbTtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVyZW07XG4gICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1jb2xvci1wcmltYXJ5KTtcbiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAubG9hZC1tb3JlIC5idG46Zm9jdXMge1xuICAgICAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAubG9hZC1tb3JlIC5idG46aG92ZXIge1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sb3ItcHJpbWFyeSk7XG4gICAgICAgICAgICBjb2xvcjogI2ZmZjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAubG9hZGluZy13cmFwcGVyIHtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgcGFkZGluZzogMnJlbSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgYH1cbiAgICAgIDwvc3R5bGU+XG4gICAgPC8+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBIb21lO1xuIl19 */\\n/*@ sourceURL=/home/russ/projects/dress-shop/pages/index.js */\"));\n};\n\nexport default Home;","map":{"version":3,"sources":["/home/russ/projects/dress-shop/pages/index.js"],"names":["useEffect","useState","axios","Layout","baseURL","Banner","ProductList","Spinner","Grid","Home","currentPage","setCurrentPage","products","setProducts","isLoadMore","setIsLoadMOre","isLoadingMore","setIsLoadingMore","CONST","isLoading","setIsLoading","fetchProducts","payload","params","pageSize","get","data","newProducts","concat","hasLoadMore","length","totalProducts","console","log","handleLoadMore","page"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Layout from '../components/Layout';\nimport baseURL from '../utils/baseURL';\nimport Banner from '../components/Home/Banner';\nimport ProductList from '../components/Shared/Products/ProductList';\nimport Spinner from '../components/Shared/Loader/Spinner';\nimport { Grid } from '../components/Shared/Loader/Skeleton';\n\nconst Home = () => {\n  const [currentPage, setCurrentPage] = useState(1);\n  const [products, setProducts] = useState([]);\n  const [isLoadMore, setIsLoadMOre] = useState(false);\n  const [isLoadingMore, setIsLoadingMore] = useState(false);\n  CONST[(isLoading, setIsLoading)] = useState(true);\n\n  useEffect(() => {\n    async function fetchProducts() {\n      try {\n        const payload = { params: { currentPage, pageSize: 10 } };\n        const { data } = await axios.get(`${baseURL}/api/products`, payload);\n        const newProducts = products.concat(data.products);\n        setProducts(products.concat(data.products));\n        setIsLoadingMore(false);\n        //check if theres still a products to show\n        const hasLoadMore = newProducts.length >= data.totalProducts;\n        if (!hasLoadMore) {\n          setIsLoadMOre(true);\n        } else {\n          setIsLoadMOre(false);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    fetchProducts();\n  }, [currentPage]);\n\n  const handleLoadMore = () => {\n    setCurrentPage(page => page + 1);\n    setIsLoadingMore(true);\n  };\n\n  return (\n    <>\n      <Layout>\n        <Banner />\n        <div className=\"container\">\n          <div className=\"heading\">Product Overview</div>\n          {isLoading ? (\n            <Grid number={4} />\n          ) : (\n            <ProductList products={products} />\n          )}\n          >\n          {isLoadingMore && (\n            <div className=\"loading-wrapper\">\n              <Spinner color={'var(--color-primary)'} width={80} height={80} />\n            </div>\n          )}\n          {isLoadMore && !isLoadingMore && (\n            <div className=\"load-more\">\n              <button className=\"btn\" onClick={handleLoadMore}>\n                Load More\n              </button>\n            </div>\n          )}\n        </div>\n      </Layout>\n      <style jsx>\n        {`\n          .container {\n            max-width: 1200px;\n            margin: 2rem auto;\n          }\n\n          .heading {\n            padding: 1.5rem;\n            font-weight: 700;\n            font-size: 36px;\n            line-height: 1.1;\n            text-transform: uppercase;\n          }\n\n          .load-more {\n            width: 100%;\n            display: flex;\n            justify-content: center;\n            margin: 5rem 0;\n          }\n\n          .load-more .btn {\n            background-color: #fff;\n            color: var(--color-primary);\n            font-size: 2rem;\n            width: 25rem;\n            height: 6rem;\n            line-height 6rem;\n            border-radius: 5rem;\n            border: 1px solid var(--color-primary);\n            cursor: pointer;\n          }\n\n          .load-more .btn:focus {\n            outline: none;\n          }\n\n          .load-more .btn:hover {\n            background-color: var(--color-primary);\n            color: #fff;\n          }\n\n          .loading-wrapper {\n            width: 100%;\n            text-align: center;\n            padding: 2rem 0;\n          }\n        `}\n      </style>\n    </>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}