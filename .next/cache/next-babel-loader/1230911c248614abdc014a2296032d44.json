{"ast":null,"code":"import connectDB from \"../../utils/connectDB\";\nimport Product from \"../../models/Product\";\nexport default (async (req, res) => {\n  await connectDB();\n  let {\n    currentPage,\n    pageSize\n  } = req.query;\n  let products = [];\n  currentPage = Number(currentPage);\n  pageSize = Number(pageSize);\n\n  if (currentPage === 1) {\n    products = await Product.find().limit(pageSize);\n  } else {\n    const skips = pageSize * (currentPage - 1);\n    products = await Product.find().skip(skips).limit(pageSize);\n  }\n\n  res.json({\n    products\n  });\n});","map":{"version":3,"sources":["/home/russ/projects/dress-shop/pages/api/products.js"],"names":["connectDB","Product","req","res","currentPage","pageSize","query","products","Number","find","limit","skips","skip","json"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,uBAAtB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjC,QAAMH,SAAS,EAAf;AACA,MAAI;AAAEI,IAAAA,WAAF;AAAeC,IAAAA;AAAf,MAA4BH,GAAG,CAACI,KAApC;AACA,MAAIC,QAAQ,GAAG,EAAf;AACAH,EAAAA,WAAW,GAAGI,MAAM,CAACJ,WAAD,CAApB;AACAC,EAAAA,QAAQ,GAAGG,MAAM,CAACH,QAAD,CAAjB;;AACA,MAAID,WAAW,KAAK,CAApB,EAAuB;AACrBG,IAAAA,QAAQ,GAAG,MAAMN,OAAO,CAACQ,IAAR,GAAeC,KAAf,CAAqBL,QAArB,CAAjB;AACD,GAFD,MAEO;AACL,UAAMM,KAAK,GAAGN,QAAQ,IAAID,WAAW,GAAG,CAAlB,CAAtB;AACAG,IAAAA,QAAQ,GAAG,MAAMN,OAAO,CAACQ,IAAR,GACdG,IADc,CACTD,KADS,EAEdD,KAFc,CAERL,QAFQ,CAAjB;AAGD;;AACDF,EAAAA,GAAG,CAACU,IAAJ,CAAS;AAAEN,IAAAA;AAAF,GAAT;AACD,CAfD","sourcesContent":["import connectDB from \"../../utils/connectDB\";\nimport Product from \"../../models/Product\";\n\nexport default async (req, res) => {\n  await connectDB();\n  let { currentPage, pageSize } = req.query;\n  let products = [];\n  currentPage = Number(currentPage);\n  pageSize = Number(pageSize);\n  if (currentPage === 1) {\n    products = await Product.find().limit(pageSize);\n  } else {\n    const skips = pageSize * (currentPage - 1);\n    products = await Product.find()\n      .skip(skips)\n      .limit(pageSize);\n  }\n  res.json({ products });\n};\n"]},"metadata":{},"sourceType":"module"}