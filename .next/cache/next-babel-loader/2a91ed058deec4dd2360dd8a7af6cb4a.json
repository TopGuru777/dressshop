{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/russ/projects/dress-shop/pages/login.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from 'react';\nimport { Formik, Form, Field } from 'formik';\nimport * as Yup from 'yup';\nimport { autoLogin } from '../utils/auth';\nimport Link from 'next/link';\nimport Layout from '../components/Layout';\nimport baseURL from '../utils/baseURL';\nimport axios from 'axios';\nconst LoginSchema = Yup.object().shape({\n  password: Yup.string().required('Email is required'),\n  email: Yup.string().email('Invalid email').required('Password is required')\n});\n\nconst Login = () => {\n  const userObj = {\n    email: '',\n    password: ''\n  };\n  const {\n    0: user,\n    1: setUser\n  } = useState(userObj);\n\n  function handleChange(e) {\n    setUser(_objectSpread({}, user, {\n      [e.target.name]: e.target.value\n    }));\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    try {\n      const {\n        data\n      } = await axios.post(`${baseURL}/api/login`, user);\n      autoLogin(data);\n    } catch (error) {\n      console.log(error.response);\n    }\n  }\n\n  return __jsx(React.Fragment, null, __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-314694227\" + \" \" + \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, __jsx(Formik, {\n    initialValues: {\n      email: '',\n      password: ''\n    },\n    validationSchema: LoginSchema,\n    onSubmit: values => {\n      // same shape as initial values\n      console.log(values);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, ({\n    errors,\n    touched,\n    handleChange,\n    handleSubmit,\n    values\n  }) => __jsx(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"jsx-314694227\" + \" \" + \"auth-form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, __jsx(\"h1\", {\n    className: \"jsx-314694227\" + \" \" + \"page-heading\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \" Login \"), __jsx(\"div\", {\n    className: \"jsx-314694227\" + \" \" + \"group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"email\",\n    placeholder: \"Email\",\n    name: \"email\",\n    value: values.email,\n    onChange: handleChange,\n    className: \"jsx-314694227\" + \" \" + \"input\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }), errors.email && touched.email ? __jsx(\"div\", {\n    className: \"jsx-314694227\" + \" \" + \"error\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, errors.email) : null), __jsx(\"div\", {\n    className: \"jsx-314694227\" + \" \" + \"group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"password\",\n    placeholder: \"Password\",\n    name: \"password\",\n    value: values.password,\n    onChange: handleChange,\n    className: \"jsx-314694227\" + \" \" + \"input\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }), errors.password && touched.password ? __jsx(\"div\", {\n    className: \"jsx-314694227\" + \" \" + \"error\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, errors.password) : null), __jsx(\"div\", {\n    className: \"jsx-314694227\" + \" \" + \"group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, __jsx(\"button\", {\n    type: \"submit\",\n    className: \"jsx-314694227\" + \" \" + \"btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, ' ', \"Login\", ' ')), __jsx(\"span\", {\n    className: \"jsx-314694227\" + \" \" + \"link\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, \"Don't have an account?\", ' ', __jsx(Link, {\n    href: \"/signup\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    className: \"jsx-314694227\" + \" \" + \"link link-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, \" Create an account.\"))))))), __jsx(_JSXStyle, {\n    id: \"314694227\",\n    __self: this\n  }, \".container.jsx-314694227{max-width:1200px;margin:2rem auto;}.page-heading.jsx-314694227{font-size:3rem;text-transform:uppercase;}.auth-form.jsx-314694227{padding:2rem 0;width:50rem;margin:0 auto;}.auth-form.jsx-314694227 .input.jsx-314694227{width:100%;height:5rem;padding:0 1.5rem;font-size:1.7rem;border:1px solid transparent;border-bottom:1px solid #666;}.auth-form.jsx-314694227 .input.jsx-314694227:focus{outline:none;}.group.jsx-314694227{margin-top:2.5rem;}.auth-form.jsx-314694227 .btn.jsx-314694227{width:100%;height:6rem;background-color:var(--color-dark);color:#fff;font-size:2rem;font-family:inherit;border:1px solid var(--color-dark);cursor:pointer;}.link.jsx-314694227{margin-top:1rem;color:var(--color-dark);display:inline-block;font-size:1.7rem;}.link-text.jsx-314694227{color:var(--color-primary);}.error.jsx-314694227{color:red;font-size:1.6rem;padding:0.2rem 0;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1c3MvcHJvamVjdHMvZHJlc3Mtc2hvcC9wYWdlcy9sb2dpbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFxR1MsQUFHOEIsQUFLRixBQUtBLEFBTUosQUFTRyxBQUlJLEFBSVAsQUFXSyxBQU9XLEFBSWpCLFVBQ08sQ0F2Q0wsQUFpQkQsRUFSYixFQXBCMkIsQUFLYixDQWtDWSxDQTVDUCxDQTZCbkIsS0FabUIsQUFpQmtCLElBdkJyQixBQXdDaEIsQUFLbUIsT0F2RG5CLE1BS0EsQUFZbUIsQUEyQkksQ0FqQ3ZCLEdBNkNBLGFBdEMrQixDQWdCbEIsR0FXTSxRQVZGLFNBV2pCLE1BVnNCLEVBakJTLGtCQWtCTSxXQWpCckMsd0JBa0JpQixlQUNqQiIsImZpbGUiOiIvaG9tZS9ydXNzL3Byb2plY3RzL2RyZXNzLXNob3AvcGFnZXMvbG9naW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEZvcm1paywgRm9ybSwgRmllbGQgfSBmcm9tICdmb3JtaWsnO1xuaW1wb3J0ICogYXMgWXVwIGZyb20gJ3l1cCc7XG5pbXBvcnQgeyBhdXRvTG9naW4gfSBmcm9tICcuLi91dGlscy9hdXRoJztcbmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7XG5pbXBvcnQgTGF5b3V0IGZyb20gJy4uL2NvbXBvbmVudHMvTGF5b3V0JztcbmltcG9ydCBiYXNlVVJMIGZyb20gJy4uL3V0aWxzL2Jhc2VVUkwnO1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcblxuY29uc3QgTG9naW5TY2hlbWEgPSBZdXAub2JqZWN0KCkuc2hhcGUoe1xuICBwYXNzd29yZDogWXVwLnN0cmluZygpLnJlcXVpcmVkKCdFbWFpbCBpcyByZXF1aXJlZCcpLFxuICBlbWFpbDogWXVwLnN0cmluZygpXG4gICAgLmVtYWlsKCdJbnZhbGlkIGVtYWlsJylcbiAgICAucmVxdWlyZWQoJ1Bhc3N3b3JkIGlzIHJlcXVpcmVkJylcbn0pO1xuXG5jb25zdCBMb2dpbiA9ICgpID0+IHtcbiAgY29uc3QgdXNlck9iaiA9IHtcbiAgICBlbWFpbDogJycsXG4gICAgcGFzc3dvcmQ6ICcnXG4gIH07XG5cbiAgY29uc3QgW3VzZXIsIHNldFVzZXJdID0gdXNlU3RhdGUodXNlck9iaik7XG5cbiAgZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKGUpIHtcbiAgICBzZXRVc2VyKHsgLi4udXNlciwgW2UudGFyZ2V0Lm5hbWVdOiBlLnRhcmdldC52YWx1ZSB9KTtcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IGF4aW9zLnBvc3QoYCR7YmFzZVVSTH0vYXBpL2xvZ2luYCwgdXNlcik7XG4gICAgICBhdXRvTG9naW4oZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8TGF5b3V0PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgIDxGb3JtaWtcbiAgICAgICAgICAgIGluaXRpYWxWYWx1ZXM9e3tcbiAgICAgICAgICAgICAgZW1haWw6ICcnLFxuICAgICAgICAgICAgICBwYXNzd29yZDogJydcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB2YWxpZGF0aW9uU2NoZW1hPXtMb2dpblNjaGVtYX1cbiAgICAgICAgICAgIG9uU3VibWl0PXt2YWx1ZXMgPT4ge1xuICAgICAgICAgICAgICAvLyBzYW1lIHNoYXBlIGFzIGluaXRpYWwgdmFsdWVzXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKHZhbHVlcyk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHsoeyBlcnJvcnMsIHRvdWNoZWQsIGhhbmRsZUNoYW5nZSwgaGFuZGxlU3VibWl0LCB2YWx1ZXMgfSkgPT4gKFxuICAgICAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU3VibWl0fSBjbGFzc05hbWU9XCJhdXRoLWZvcm1cIj5cbiAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwicGFnZS1oZWFkaW5nXCI+IExvZ2luIDwvaDE+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncm91cFwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImlucHV0XCJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImVtYWlsXCJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbWFpbFwiXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJlbWFpbFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt2YWx1ZXMuZW1haWx9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAge2Vycm9ycy5lbWFpbCAmJiB0b3VjaGVkLmVtYWlsID8gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVycm9yXCI+e2Vycm9ycy5lbWFpbH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncm91cFwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImlucHV0XCJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJwYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt2YWx1ZXMucGFzc3dvcmR9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAge2Vycm9ycy5wYXNzd29yZCAmJiB0b3VjaGVkLnBhc3N3b3JkID8gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVycm9yXCI+e2Vycm9ycy5wYXNzd29yZH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzTmFtZT1cImJ0blwiPlxuICAgICAgICAgICAgICAgICAgICB7JyAnfVxuICAgICAgICAgICAgICAgICAgICBMb2dpbnsnICd9XG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJsaW5rXCI+XG4gICAgICAgICAgICAgICAgICBEb24ndCBoYXZlIGFuIGFjY291bnQ/eycgJ31cbiAgICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9XCIvc2lnbnVwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzTmFtZT1cImxpbmsgbGluay10ZXh0XCI+IENyZWF0ZSBhbiBhY2NvdW50LjwvYT5cbiAgICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9Gb3JtaWs+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9MYXlvdXQ+XG4gICAgICA8c3R5bGUganN4PlxuICAgICAgICB7YFxuICAgICAgICAgIC5jb250YWluZXIge1xuICAgICAgICAgICAgbWF4LXdpZHRoOiAxMjAwcHg7XG4gICAgICAgICAgICBtYXJnaW46IDJyZW0gYXV0bztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAucGFnZS1oZWFkaW5nIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogM3JlbTtcbiAgICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLmF1dGgtZm9ybSB7XG4gICAgICAgICAgICBwYWRkaW5nOiAycmVtIDA7XG4gICAgICAgICAgICB3aWR0aDogNTByZW07XG4gICAgICAgICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAuYXV0aC1mb3JtIC5pbnB1dCB7XG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIGhlaWdodDogNXJlbTtcbiAgICAgICAgICAgIHBhZGRpbmc6IDAgMS41cmVtO1xuICAgICAgICAgICAgZm9udC1zaXplOiAxLjdyZW07XG4gICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjNjY2O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5hdXRoLWZvcm0gLmlucHV0OmZvY3VzIHtcbiAgICAgICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5ncm91cCB7XG4gICAgICAgICAgICBtYXJnaW4tdG9wOiAyLjVyZW07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLmF1dGgtZm9ybSAuYnRuIHtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgaGVpZ2h0IDZyZW07XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2xvci1kYXJrKTtcbiAgICAgICAgICAgIGNvbG9yOiAjZmZmO1xuICAgICAgICAgICAgZm9udC1zaXplOiAycmVtO1xuICAgICAgICAgICAgZm9udC1mYW1pbHk6IGluaGVyaXQ7XG4gICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1jb2xvci1kYXJrKTtcbiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAubGluayB7XG4gICAgICAgICAgICBtYXJnaW4tdG9wOiAxcmVtO1xuICAgICAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLWRhcmspO1xuICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICAgICAgZm9udC1zaXplOiAxLjdyZW07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLmxpbmstdGV4dCB7XG4gICAgICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItcHJpbWFyeSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLmVycm9yIHtcbiAgICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgICAgICBmb250LXNpemU6IDEuNnJlbTtcbiAgICAgICAgICAgIHBhZGRpbmc6IDAuMnJlbSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgYH1cbiAgICAgIDwvc3R5bGU+XG4gICAgPC8+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBMb2dpbjtcbiJdfQ== */\\n/*@ sourceURL=/home/russ/projects/dress-shop/pages/login.js */\"));\n};\n\nexport default Login;","map":{"version":3,"sources":["/home/russ/projects/dress-shop/pages/login.js"],"names":["React","useEffect","useState","Formik","Form","Field","Yup","autoLogin","Link","Layout","baseURL","axios","LoginSchema","object","shape","password","string","required","email","Login","userObj","user","setUser","handleChange","e","target","name","value","handleSubmit","preventDefault","data","post","error","console","log","response","values","errors","touched"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Formik, Form, Field } from 'formik';\nimport * as Yup from 'yup';\nimport { autoLogin } from '../utils/auth';\nimport Link from 'next/link';\nimport Layout from '../components/Layout';\nimport baseURL from '../utils/baseURL';\nimport axios from 'axios';\n\nconst LoginSchema = Yup.object().shape({\n  password: Yup.string().required('Email is required'),\n  email: Yup.string()\n    .email('Invalid email')\n    .required('Password is required')\n});\n\nconst Login = () => {\n  const userObj = {\n    email: '',\n    password: ''\n  };\n\n  const [user, setUser] = useState(userObj);\n\n  function handleChange(e) {\n    setUser({ ...user, [e.target.name]: e.target.value });\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    try {\n      const { data } = await axios.post(`${baseURL}/api/login`, user);\n      autoLogin(data);\n    } catch (error) {\n      console.log(error.response);\n    }\n  }\n\n  return (\n    <>\n      <Layout>\n        <div className=\"container\">\n          <Formik\n            initialValues={{\n              email: '',\n              password: ''\n            }}\n            validationSchema={LoginSchema}\n            onSubmit={values => {\n              // same shape as initial values\n              console.log(values);\n            }}\n          >\n            {({ errors, touched, handleChange, handleSubmit, values }) => (\n              <form onSubmit={handleSubmit} className=\"auth-form\">\n                <h1 className=\"page-heading\"> Login </h1>\n                <div className=\"group\">\n                  <input\n                    className=\"input\"\n                    type=\"email\"\n                    placeholder=\"Email\"\n                    name=\"email\"\n                    value={values.email}\n                    onChange={handleChange}\n                  />\n                  {errors.email && touched.email ? (\n                    <div className=\"error\">{errors.email}</div>\n                  ) : null}\n                </div>\n\n                <div className=\"group\">\n                  <input\n                    className=\"input\"\n                    type=\"password\"\n                    placeholder=\"Password\"\n                    name=\"password\"\n                    value={values.password}\n                    onChange={handleChange}\n                  />\n                  {errors.password && touched.password ? (\n                    <div className=\"error\">{errors.password}</div>\n                  ) : null}\n                </div>\n                <div className=\"group\">\n                  <button type=\"submit\" className=\"btn\">\n                    {' '}\n                    Login{' '}\n                  </button>\n                </div>\n                <span className=\"link\">\n                  Don't have an account?{' '}\n                  <Link href=\"/signup\">\n                    <a className=\"link link-text\"> Create an account.</a>\n                  </Link>\n                </span>\n              </form>\n            )}\n          </Formik>\n        </div>\n      </Layout>\n      <style jsx>\n        {`\n          .container {\n            max-width: 1200px;\n            margin: 2rem auto;\n          }\n\n          .page-heading {\n            font-size: 3rem;\n            text-transform: uppercase;\n          }\n\n          .auth-form {\n            padding: 2rem 0;\n            width: 50rem;\n            margin: 0 auto;\n          }\n\n          .auth-form .input {\n            width: 100%;\n            height: 5rem;\n            padding: 0 1.5rem;\n            font-size: 1.7rem;\n            border: 1px solid transparent;\n            border-bottom: 1px solid #666;\n          }\n\n          .auth-form .input:focus {\n             outline: none;\n          }\n\n          .group {\n            margin-top: 2.5rem;\n          }\n\n          .auth-form .btn {\n            width: 100%;\n            height 6rem;\n            background-color: var(--color-dark);\n            color: #fff;\n            font-size: 2rem;\n            font-family: inherit;\n            border: 1px solid var(--color-dark);\n            cursor: pointer;\n          }\n\n          .link {\n            margin-top: 1rem;\n            color: var(--color-dark);\n            display: inline-block;\n            font-size: 1.7rem;\n          }\n\n          .link-text {\n            color: var(--color-primary);\n          }\n\n          .error {\n            color: red;\n            font-size: 1.6rem;\n            padding: 0.2rem 0;\n          }\n        `}\n      </style>\n    </>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}