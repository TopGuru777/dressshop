{"ast":null,"code":"import connectDB from '../../utils/connectDB';\nimport Product from '../../models/Product';\nexport default (async (req, res) => {\n  await connectDB();\n  const {\n    productId\n  } = req.query;\n\n  try {\n    const product = await Product.findOne({\n      _id: productId\n    });\n    const {\n      category\n    } = product;\n    const products = await Product.find({\n      category\n    });\n    console.log(products);\n    res.status(200).send('tests');\n  } catch (error) {\n    console.error(error);\n    res.status(500).send('Error in fetching related products');\n  }\n});","map":{"version":3,"sources":["/home/russ/projects/dress-shop/pages/api/relatedProducts.js"],"names":["connectDB","Product","req","res","productId","query","product","findOne","_id","category","products","find","console","log","status","send","error"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,uBAAtB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjC,QAAMH,SAAS,EAAf;AACA,QAAM;AAAEI,IAAAA;AAAF,MAAgBF,GAAG,CAACG,KAA1B;;AACA,MAAI;AACF,UAAMC,OAAO,GAAG,MAAML,OAAO,CAACM,OAAR,CAAgB;AAAEC,MAAAA,GAAG,EAAEJ;AAAP,KAAhB,CAAtB;AACA,UAAM;AAAEK,MAAAA;AAAF,QAAeH,OAArB;AACA,UAAMI,QAAQ,GAAG,MAAMT,OAAO,CAACU,IAAR,CAAa;AAAEF,MAAAA;AAAF,KAAb,CAAvB;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACAP,IAAAA,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,OAArB;AACD,GAND,CAME,OAAOC,KAAP,EAAc;AACdJ,IAAAA,OAAO,CAACI,KAAR,CAAcA,KAAd;AACAb,IAAAA,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,oCAArB;AACD;AACF,CAbD","sourcesContent":["import connectDB from '../../utils/connectDB';\nimport Product from '../../models/Product';\n\nexport default async (req, res) => {\n  await connectDB();\n  const { productId } = req.query;\n  try {\n    const product = await Product.findOne({ _id: productId });\n    const { category } = product;\n    const products = await Product.find({ category });\n    console.log(products);\n    res.status(200).send('tests');\n  } catch (error) {\n    console.error(error);\n    res.status(500).send('Error in fetching related products');\n  }\n};\n"]},"metadata":{},"sourceType":"module"}