{"ast":null,"code":"var _jsxFileName = \"/home/russ/projects/dress-shop/pages/category.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport Router, { useRouter } from 'next/router';\nimport axios from 'axios';\nimport Layout from '../components/Layout';\nimport ProductList from '../components/Shared/Products/ProductList';\nimport baseURL from '../utils/baseURL';\nimport SkeletonGrid from '../components/Shared/Loader/SkeletonGrid';\nimport TabCategory from '../components/Category/TabCategory';\nimport Filter from '../components/Category/Filter';\n\nconst Category = () => {\n  const {\n    0: products,\n    1: setProducts\n  } = useState([]);\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState(true);\n  const router = useRouter();\n  const {\n    category,\n    sortByPrice,\n    keyword\n  } = router.query;\n  console.log(router);\n  useEffect(() => {\n    const getProducts = async () => {\n      try {\n        setIsLoading(true);\n        const payload = {\n          params: {\n            category,\n            price: sortByPrice,\n            keyword\n          }\n        };\n        const {\n          data\n        } = await axios.get(`${baseURL}/api/category`, payload);\n        setProducts(data.products);\n        setIsLoading(false);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    getProducts();\n  }, [category, sortByPrice, keyword]);\n\n  const handleTabChange = selected => {\n    Router.push(`${router.asPath}&category=${selected}`);\n  };\n\n  const handleFilterChange = selected => {\n    // if (keyword) {\n    //   Router.push(\n    //     `/category?category=${category}&sortByPrice=${selected}&keyword=${keyword}`\n    //   );\n    // } else {\n    //   Router.push(`/category?category=${category}&sortByPrice=${selected}`);\n    // }\n    Router.push(`${router.asPath}&sortByPrice=${selected}`);\n  };\n\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-1691020055\" + \" \" + \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-1691020055\" + \" \" + \"sort-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, __jsx(TabCategory, {\n    active: category,\n    onChangeTab: handleTabChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }), __jsx(Filter, {\n    handleChange: handleFilterChange,\n    active: sortByPrice,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  })), isLoading ? __jsx(SkeletonGrid, {\n    number: 20,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }) : __jsx(ProductList, {\n    products: products,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  })), __jsx(_JSXStyle, {\n    id: \"1691020055\",\n    __self: this\n  }, \".container.jsx-1691020055{max-width:120rem;margin:3rem auto;}.sort-container.jsx-1691020055{margin:4rem 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1c3MvcHJvamVjdHMvZHJlc3Mtc2hvcC9wYWdlcy9jYXRlZ29yeS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUE2RGtCLEFBRzRCLEFBS0gsY0FDRCxHQUxJLGlCQUNuQixzREFLcUIsNkZBQ1csbUhBQ2hDIiwiZmlsZSI6Ii9ob21lL3J1c3MvcHJvamVjdHMvZHJlc3Mtc2hvcC9wYWdlcy9jYXRlZ29yeS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJvdXRlciwgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L3JvdXRlcic7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IExheW91dCBmcm9tICcuLi9jb21wb25lbnRzL0xheW91dCc7XG5pbXBvcnQgUHJvZHVjdExpc3QgZnJvbSAnLi4vY29tcG9uZW50cy9TaGFyZWQvUHJvZHVjdHMvUHJvZHVjdExpc3QnO1xuaW1wb3J0IGJhc2VVUkwgZnJvbSAnLi4vdXRpbHMvYmFzZVVSTCc7XG5pbXBvcnQgU2tlbGV0b25HcmlkIGZyb20gJy4uL2NvbXBvbmVudHMvU2hhcmVkL0xvYWRlci9Ta2VsZXRvbkdyaWQnO1xuaW1wb3J0IFRhYkNhdGVnb3J5IGZyb20gJy4uL2NvbXBvbmVudHMvQ2F0ZWdvcnkvVGFiQ2F0ZWdvcnknO1xuaW1wb3J0IEZpbHRlciBmcm9tICcuLi9jb21wb25lbnRzL0NhdGVnb3J5L0ZpbHRlcic7XG5cbmNvbnN0IENhdGVnb3J5ID0gKCkgPT4ge1xuICBjb25zdCBbcHJvZHVjdHMsIHNldFByb2R1Y3RzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgeyBjYXRlZ29yeSwgc29ydEJ5UHJpY2UsIGtleXdvcmQgfSA9IHJvdXRlci5xdWVyeTtcblxuICBjb25zb2xlLmxvZyhyb3V0ZXIpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZ2V0UHJvZHVjdHMgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB7IHBhcmFtczogeyBjYXRlZ29yeSwgcHJpY2U6IHNvcnRCeVByaWNlLCBrZXl3b3JkIH0gfTtcbiAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBheGlvcy5nZXQoYCR7YmFzZVVSTH0vYXBpL2NhdGVnb3J5YCwgcGF5bG9hZCk7XG4gICAgICAgIHNldFByb2R1Y3RzKGRhdGEucHJvZHVjdHMpO1xuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgfVxuICAgIH07XG4gICAgZ2V0UHJvZHVjdHMoKTtcbiAgfSwgW2NhdGVnb3J5LCBzb3J0QnlQcmljZSwga2V5d29yZF0pO1xuXG4gIGNvbnN0IGhhbmRsZVRhYkNoYW5nZSA9IHNlbGVjdGVkID0+IHtcbiAgICBSb3V0ZXIucHVzaChgJHtyb3V0ZXIuYXNQYXRofSZjYXRlZ29yeT0ke3NlbGVjdGVkfWApO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUZpbHRlckNoYW5nZSA9IHNlbGVjdGVkID0+IHtcbiAgICAvLyBpZiAoa2V5d29yZCkge1xuICAgIC8vICAgUm91dGVyLnB1c2goXG4gICAgLy8gICAgIGAvY2F0ZWdvcnk/Y2F0ZWdvcnk9JHtjYXRlZ29yeX0mc29ydEJ5UHJpY2U9JHtzZWxlY3RlZH0ma2V5d29yZD0ke2tleXdvcmR9YFxuICAgIC8vICAgKTtcbiAgICAvLyB9IGVsc2Uge1xuICAgIC8vICAgUm91dGVyLnB1c2goYC9jYXRlZ29yeT9jYXRlZ29yeT0ke2NhdGVnb3J5fSZzb3J0QnlQcmljZT0ke3NlbGVjdGVkfWApO1xuICAgIC8vIH1cbiAgICBSb3V0ZXIucHVzaChgJHtyb3V0ZXIuYXNQYXRofSZzb3J0QnlQcmljZT0ke3NlbGVjdGVkfWApO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPExheW91dD5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic29ydC1jb250YWluZXJcIj5cbiAgICAgICAgICA8VGFiQ2F0ZWdvcnkgYWN0aXZlPXtjYXRlZ29yeX0gb25DaGFuZ2VUYWI9e2hhbmRsZVRhYkNoYW5nZX0gLz5cbiAgICAgICAgICA8RmlsdGVyIGhhbmRsZUNoYW5nZT17aGFuZGxlRmlsdGVyQ2hhbmdlfSBhY3RpdmU9e3NvcnRCeVByaWNlfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge2lzTG9hZGluZyA/IChcbiAgICAgICAgICA8U2tlbGV0b25HcmlkIG51bWJlcj17MjB9IC8+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPFByb2R1Y3RMaXN0IHByb2R1Y3RzPXtwcm9kdWN0c30gLz5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAuY29udGFpbmVyIHtcbiAgICAgICAgICBtYXgtd2lkdGg6IDEyMHJlbTtcbiAgICAgICAgICBtYXJnaW46IDNyZW0gYXV0bztcbiAgICAgICAgfVxuXG4gICAgICAgIC5zb3J0LWNvbnRhaW5lciB7XG4gICAgICAgICAgbWFyZ2luOiA0cmVtIDA7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgfVxuICAgICAgYH08L3N0eWxlPlxuICAgIDwvTGF5b3V0PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQ2F0ZWdvcnk7XG4iXX0= */\\n/*@ sourceURL=/home/russ/projects/dress-shop/pages/category.js */\"));\n};\n\nexport default Category;","map":{"version":3,"sources":["/home/russ/projects/dress-shop/pages/category.js"],"names":["React","useEffect","useState","Router","useRouter","axios","Layout","ProductList","baseURL","SkeletonGrid","TabCategory","Filter","Category","products","setProducts","isLoading","setIsLoading","router","category","sortByPrice","keyword","query","console","log","getProducts","payload","params","price","data","get","error","handleTabChange","selected","push","asPath","handleFilterChange"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Router, { useRouter } from 'next/router';\nimport axios from 'axios';\nimport Layout from '../components/Layout';\nimport ProductList from '../components/Shared/Products/ProductList';\nimport baseURL from '../utils/baseURL';\nimport SkeletonGrid from '../components/Shared/Loader/SkeletonGrid';\nimport TabCategory from '../components/Category/TabCategory';\nimport Filter from '../components/Category/Filter';\n\nconst Category = () => {\n  const [products, setProducts] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const router = useRouter();\n  const { category, sortByPrice, keyword } = router.query;\n\n  console.log(router);\n\n  useEffect(() => {\n    const getProducts = async () => {\n      try {\n        setIsLoading(true);\n        const payload = { params: { category, price: sortByPrice, keyword } };\n        const { data } = await axios.get(`${baseURL}/api/category`, payload);\n        setProducts(data.products);\n        setIsLoading(false);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    getProducts();\n  }, [category, sortByPrice, keyword]);\n\n  const handleTabChange = selected => {\n    Router.push(`${router.asPath}&category=${selected}`);\n  };\n\n  const handleFilterChange = selected => {\n    // if (keyword) {\n    //   Router.push(\n    //     `/category?category=${category}&sortByPrice=${selected}&keyword=${keyword}`\n    //   );\n    // } else {\n    //   Router.push(`/category?category=${category}&sortByPrice=${selected}`);\n    // }\n    Router.push(`${router.asPath}&sortByPrice=${selected}`);\n  };\n\n  return (\n    <Layout>\n      <div className=\"container\">\n        <div className=\"sort-container\">\n          <TabCategory active={category} onChangeTab={handleTabChange} />\n          <Filter handleChange={handleFilterChange} active={sortByPrice} />\n        </div>\n        {isLoading ? (\n          <SkeletonGrid number={20} />\n        ) : (\n          <ProductList products={products} />\n        )}\n      </div>\n      <style jsx>{`\n        .container {\n          max-width: 120rem;\n          margin: 3rem auto;\n        }\n\n        .sort-container {\n          margin: 4rem 0;\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n        }\n      `}</style>\n    </Layout>\n  );\n};\n\nexport default Category;\n"]},"metadata":{},"sourceType":"module"}