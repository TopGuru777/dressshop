{"ast":null,"code":"var _jsxFileName = \"/home/russ/projects/dress-shop/pages/admin/index.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { IoMdAdd } from 'react-icons/io';\nimport Layout from '../../components/Layout';\nimport useModal from '../../hooks/useModal';\nimport useToast from '../../hooks/useToast';\nimport Modal from '../../components/Shared/Modal';\nimport ProductForm from '../../components/Admin/Home/ProductForm';\nimport ProductTable from '../../components/Admin/Home/ProductTable';\nimport axios from 'axios';\nimport baseURL from '../../utils/baseURL';\nimport Toast from '../../components/Shared/Alert/Toast';\n\nconst Admin = () => {\n  const {\n    show,\n    closeModal,\n    openModal\n  } = useModal();\n  const {\n    isOpen,\n    showToast\n  } = useToast();\n  const {\n    0: message,\n    1: setMessage\n  } = useState('');\n  const {\n    0: products,\n    1: setProducts\n  } = useState([]);\n  useEffect(() => {\n    async function getProducts() {\n      try {\n        const {\n          data\n        } = await axios.get(`${baseURL}/api/products`);\n        setProducts(data.products);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n\n    getProducts();\n  }, []);\n\n  async function handleDeleteProduct(id) {\n    try {\n      // const payload = { params: { id } };\n      // await axios.delete(`${baseURL}/api/product`, payload);\n      const filteredProducts = products.filter(product => product._id !== id);\n      setProducts(filteredProducts);\n      showToast();\n      setMessage('Successfully Deleted');\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-3922909769\" + \" \" + \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, __jsx(Modal, {\n    isOpen: show,\n    close: closeModal,\n    title: `Add Product`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, __jsx(ProductForm, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  })), __jsx(Toast, {\n    isOpen: isOpen,\n    message: message,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: \"jsx-3922909769\" + \" \" + \"welcome-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"Hi, Welcome Back Admin\"), __jsx(\"div\", {\n    className: \"jsx-3922909769\" + \" \" + \"header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-3922909769\" + \" \" + \"page-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \" List of All Products \"), __jsx(\"button\", {\n    onClick: openModal,\n    className: \"jsx-3922909769\" + \" \" + \"btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, __jsx(\"span\", {\n    className: \"jsx-3922909769\" + \" \" + \"btn-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \" Add Product\"), __jsx(IoMdAdd, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }))), __jsx(ProductTable, {\n    products: products,\n    deleteProduct: handleDeleteProduct,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  })), ' ', __jsx(_JSXStyle, {\n    id: \"3922909769\",\n    __self: this\n  }, \".container.jsx-3922909769{max-width:120rem;margin:3rem auto;padding:0 2rem;}.page-title.jsx-3922909769{font-size:2.5rem;}.header.jsx-3922909769{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}.welcome-text.jsx-3922909769{font-size:2rem;padding-bottom:2rem;}.btn.jsx-3922909769{height:5rem;padding:0 2rem;background-color:var(--color-dark);color:#fff;font-size:2rem;border:1px solid transparent;cursor:pointer;}.btn-text.jsx-3922909769{margin-right:0.5rem;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1c3MvcHJvamVjdHMvZHJlc3Mtc2hvcC9wYWdlcy9hZG1pbi9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUE0RGtCLEFBRzRCLEFBS0EsQUFJSixBQUtFLEFBS0gsQUFVUSxZQVRMLEdBTEssRUFkSCxBQUtuQixHQXdCQSxPQVRxQyxPQW5CcEIsQ0FjakIsY0FiQSxhQW1CYSxXQUNJLENBYmUsY0FjRCw2QkFDZCxlQUNqQix5REFmQSIsImZpbGUiOiIvaG9tZS9ydXNzL3Byb2plY3RzL2RyZXNzLXNob3AvcGFnZXMvYWRtaW4vaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IElvTWRBZGQgfSBmcm9tICdyZWFjdC1pY29ucy9pbyc7XG5pbXBvcnQgTGF5b3V0IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvTGF5b3V0JztcbmltcG9ydCB1c2VNb2RhbCBmcm9tICcuLi8uLi9ob29rcy91c2VNb2RhbCc7XG5pbXBvcnQgdXNlVG9hc3QgZnJvbSAnLi4vLi4vaG9va3MvdXNlVG9hc3QnO1xuaW1wb3J0IE1vZGFsIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvU2hhcmVkL01vZGFsJztcbmltcG9ydCBQcm9kdWN0Rm9ybSBmcm9tICcuLi8uLi9jb21wb25lbnRzL0FkbWluL0hvbWUvUHJvZHVjdEZvcm0nO1xuaW1wb3J0IFByb2R1Y3RUYWJsZSBmcm9tICcuLi8uLi9jb21wb25lbnRzL0FkbWluL0hvbWUvUHJvZHVjdFRhYmxlJztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgYmFzZVVSTCBmcm9tICcuLi8uLi91dGlscy9iYXNlVVJMJztcbmltcG9ydCBUb2FzdCBmcm9tICcuLi8uLi9jb21wb25lbnRzL1NoYXJlZC9BbGVydC9Ub2FzdCc7XG5cbmNvbnN0IEFkbWluID0gKCkgPT4ge1xuICBjb25zdCB7IHNob3csIGNsb3NlTW9kYWwsIG9wZW5Nb2RhbCB9ID0gdXNlTW9kYWwoKTtcbiAgY29uc3QgeyBpc09wZW4sIHNob3dUb2FzdCB9ID0gdXNlVG9hc3QoKTtcbiAgY29uc3QgW21lc3NhZ2UsIHNldE1lc3NhZ2VdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbcHJvZHVjdHMsIHNldFByb2R1Y3RzXSA9IHVzZVN0YXRlKFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGFzeW5jIGZ1bmN0aW9uIGdldFByb2R1Y3RzKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBheGlvcy5nZXQoYCR7YmFzZVVSTH0vYXBpL3Byb2R1Y3RzYCk7XG4gICAgICAgIHNldFByb2R1Y3RzKGRhdGEucHJvZHVjdHMpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgICBnZXRQcm9kdWN0cygpO1xuICB9LCBbXSk7XG5cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlRGVsZXRlUHJvZHVjdChpZCkge1xuICAgIHRyeSB7XG4gICAgICAvLyBjb25zdCBwYXlsb2FkID0geyBwYXJhbXM6IHsgaWQgfSB9O1xuICAgICAgLy8gYXdhaXQgYXhpb3MuZGVsZXRlKGAke2Jhc2VVUkx9L2FwaS9wcm9kdWN0YCwgcGF5bG9hZCk7XG4gICAgICBjb25zdCBmaWx0ZXJlZFByb2R1Y3RzID0gcHJvZHVjdHMuZmlsdGVyKHByb2R1Y3QgPT4gcHJvZHVjdC5faWQgIT09IGlkKTtcbiAgICAgIHNldFByb2R1Y3RzKGZpbHRlcmVkUHJvZHVjdHMpO1xuICAgICAgc2hvd1RvYXN0KCk7XG4gICAgICBzZXRNZXNzYWdlKCdTdWNjZXNzZnVsbHkgRGVsZXRlZCcpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8TGF5b3V0PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgPE1vZGFsIGlzT3Blbj17c2hvd30gY2xvc2U9e2Nsb3NlTW9kYWx9IHRpdGxlPXtgQWRkIFByb2R1Y3RgfT5cbiAgICAgICAgICA8UHJvZHVjdEZvcm0gLz5cbiAgICAgICAgPC9Nb2RhbD5cbiAgICAgICAgPFRvYXN0IGlzT3Blbj17aXNPcGVufSBtZXNzYWdlPXttZXNzYWdlfSAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndlbGNvbWUtdGV4dFwiPkhpLCBXZWxjb21lIEJhY2sgQWRtaW48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWFkZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtdGl0bGVcIj4gTGlzdCBvZiBBbGwgUHJvZHVjdHMgPC9kaXY+XG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvcGVuTW9kYWx9IGNsYXNzTmFtZT1cImJ0blwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYnRuLXRleHRcIj4gQWRkIFByb2R1Y3Q8L3NwYW4+XG4gICAgICAgICAgICA8SW9NZEFkZCAvPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPFByb2R1Y3RUYWJsZSBwcm9kdWN0cz17cHJvZHVjdHN9IGRlbGV0ZVByb2R1Y3Q9e2hhbmRsZURlbGV0ZVByb2R1Y3R9IC8+XG4gICAgICA8L2Rpdj57JyAnfVxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAuY29udGFpbmVyIHtcbiAgICAgICAgICBtYXgtd2lkdGg6IDEyMHJlbTtcbiAgICAgICAgICBtYXJnaW46IDNyZW0gYXV0bztcbiAgICAgICAgICBwYWRkaW5nOiAwIDJyZW07XG4gICAgICAgIH1cbiAgICAgICAgLnBhZ2UtdGl0bGUge1xuICAgICAgICAgIGZvbnQtc2l6ZTogMi41cmVtO1xuICAgICAgICB9XG5cbiAgICAgICAgLmhlYWRlciB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICAgIH1cblxuICAgICAgICAud2VsY29tZS10ZXh0IHtcbiAgICAgICAgICBmb250LXNpemU6IDJyZW07XG4gICAgICAgICAgcGFkZGluZy1ib3R0b206IDJyZW07XG4gICAgICAgIH1cblxuICAgICAgICAuYnRuIHtcbiAgICAgICAgICBoZWlnaHQ6IDVyZW07XG4gICAgICAgICAgcGFkZGluZzogMCAycmVtO1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbG9yLWRhcmspO1xuICAgICAgICAgIGNvbG9yOiAjZmZmO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMnJlbTtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIH1cblxuICAgICAgICAuYnRuLXRleHQge1xuICAgICAgICAgIG1hcmdpbi1yaWdodDogMC41cmVtO1xuICAgICAgICB9XG4gICAgICBgfTwvc3R5bGU+eycgJ31cbiAgICA8L0xheW91dD5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEFkbWluO1xuIl19 */\\n/*@ sourceURL=/home/russ/projects/dress-shop/pages/admin/index.js */\"), ' ');\n};\n\nexport default Admin;","map":{"version":3,"sources":["/home/russ/projects/dress-shop/pages/admin/index.js"],"names":["React","useState","useEffect","IoMdAdd","Layout","useModal","useToast","Modal","ProductForm","ProductTable","axios","baseURL","Toast","Admin","show","closeModal","openModal","isOpen","showToast","message","setMessage","products","setProducts","getProducts","data","get","error","console","log","handleDeleteProduct","id","filteredProducts","filter","product","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { IoMdAdd } from 'react-icons/io';\nimport Layout from '../../components/Layout';\nimport useModal from '../../hooks/useModal';\nimport useToast from '../../hooks/useToast';\nimport Modal from '../../components/Shared/Modal';\nimport ProductForm from '../../components/Admin/Home/ProductForm';\nimport ProductTable from '../../components/Admin/Home/ProductTable';\nimport axios from 'axios';\nimport baseURL from '../../utils/baseURL';\nimport Toast from '../../components/Shared/Alert/Toast';\n\nconst Admin = () => {\n  const { show, closeModal, openModal } = useModal();\n  const { isOpen, showToast } = useToast();\n  const [message, setMessage] = useState('');\n  const [products, setProducts] = useState([]);\n\n  useEffect(() => {\n    async function getProducts() {\n      try {\n        const { data } = await axios.get(`${baseURL}/api/products`);\n        setProducts(data.products);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    getProducts();\n  }, []);\n\n  async function handleDeleteProduct(id) {\n    try {\n      // const payload = { params: { id } };\n      // await axios.delete(`${baseURL}/api/product`, payload);\n      const filteredProducts = products.filter(product => product._id !== id);\n      setProducts(filteredProducts);\n      showToast();\n      setMessage('Successfully Deleted');\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  return (\n    <Layout>\n      <div className=\"container\">\n        <Modal isOpen={show} close={closeModal} title={`Add Product`}>\n          <ProductForm />\n        </Modal>\n        <Toast isOpen={isOpen} message={message} />\n        <div className=\"welcome-text\">Hi, Welcome Back Admin</div>\n        <div className=\"header\">\n          <div className=\"page-title\"> List of All Products </div>\n          <button onClick={openModal} className=\"btn\">\n            <span className=\"btn-text\"> Add Product</span>\n            <IoMdAdd />\n          </button>\n        </div>\n        <ProductTable products={products} deleteProduct={handleDeleteProduct} />\n      </div>{' '}\n      <style jsx>{`\n        .container {\n          max-width: 120rem;\n          margin: 3rem auto;\n          padding: 0 2rem;\n        }\n        .page-title {\n          font-size: 2.5rem;\n        }\n\n        .header {\n          display: flex;\n          justify-content: space-between;\n        }\n\n        .welcome-text {\n          font-size: 2rem;\n          padding-bottom: 2rem;\n        }\n\n        .btn {\n          height: 5rem;\n          padding: 0 2rem;\n          background-color: var(--color-dark);\n          color: #fff;\n          font-size: 2rem;\n          border: 1px solid transparent;\n          cursor: pointer;\n        }\n\n        .btn-text {\n          margin-right: 0.5rem;\n        }\n      `}</style>{' '}\n    </Layout>\n  );\n};\n\nexport default Admin;\n"]},"metadata":{},"sourceType":"module"}