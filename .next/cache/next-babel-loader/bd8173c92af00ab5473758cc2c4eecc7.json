{"ast":null,"code":"import Router from 'next/router';\nimport cookie from 'js-cookie'; // handle auto login when created an account, and login\n\nfunction autoLogin(token, location) {\n  cookie.set('token', token);\n  Router.push(location);\n}\n\nfunction redirectUser(ctx, location) {\n  if (ctx.req) {\n    ctx.res.writeHead(302, {\n      Location: location\n    });\n    ctx.res.end();\n  } else {\n    Router.push('location');\n  }\n}\n\nfunction checkToken(ctx) {\n  console.log(ctx.req);\n}\n\nexport { autoLogin, redirectUser };","map":{"version":3,"sources":["/home/russ/projects/dress-shop/utils/auth.js"],"names":["Router","cookie","autoLogin","token","location","set","push","redirectUser","ctx","req","res","writeHead","Location","end","checkToken","console","log"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,aAAnB;AACA,OAAOC,MAAP,MAAmB,WAAnB,C,CAEA;;AACA,SAASC,SAAT,CAAmBC,KAAnB,EAA0BC,QAA1B,EAAoC;AAClCH,EAAAA,MAAM,CAACI,GAAP,CAAW,OAAX,EAAoBF,KAApB;AACAH,EAAAA,MAAM,CAACM,IAAP,CAAYF,QAAZ;AACD;;AAED,SAASG,YAAT,CAAsBC,GAAtB,EAA2BJ,QAA3B,EAAqC;AACnC,MAAII,GAAG,CAACC,GAAR,EAAa;AACXD,IAAAA,GAAG,CAACE,GAAJ,CAAQC,SAAR,CAAkB,GAAlB,EAAuB;AAAEC,MAAAA,QAAQ,EAAER;AAAZ,KAAvB;AACAI,IAAAA,GAAG,CAACE,GAAJ,CAAQG,GAAR;AACD,GAHD,MAGO;AACLb,IAAAA,MAAM,CAACM,IAAP,CAAY,UAAZ;AACD;AACF;;AAED,SAASQ,UAAT,CAAoBN,GAApB,EAAyB;AACvBO,EAAAA,OAAO,CAACC,GAAR,CAAYR,GAAG,CAACC,GAAhB;AACD;;AAED,SAASP,SAAT,EAAoBK,YAApB","sourcesContent":["import Router from 'next/router';\nimport cookie from 'js-cookie';\n\n// handle auto login when created an account, and login\nfunction autoLogin(token, location) {\n  cookie.set('token', token);\n  Router.push(location);\n}\n\nfunction redirectUser(ctx, location) {\n  if (ctx.req) {\n    ctx.res.writeHead(302, { Location: location });\n    ctx.res.end();\n  } else {\n    Router.push('location');\n  }\n}\n\nfunction checkToken(ctx) {\n  console.log(ctx.req);\n}\n\nexport { autoLogin, redirectUser };\n"]},"metadata":{},"sourceType":"module"}