{"ast":null,"code":"import connectDB from \"../../utils/connectDB\";\nimport Product from \"../../models/Product\";\n\nconst handler = async (req, res) => {\n  switch (req.method) {\n    case \"GET\":\n      await handleGetRequest(req, res);\n      break;\n\n    default:\n      res.status(405).send(\"Method not allowed\");\n      break;\n  }\n};\n\nasync function handleGetRequest(req, res) {\n  const {\n    id\n  } = req.query;\n\n  try {\n    const product = await Product.findOne({\n      _id: id\n    });\n    res.status(200).json(product);\n  } catch (error) {\n    console.error(error);\n    res.status(400).send(\"Product not exist\");\n  }\n}\n\nexport default connectDB(handler);","map":{"version":3,"sources":["/home/russ/projects/dress-shop/pages/api/product.js"],"names":["connectDB","Product","handler","req","res","method","handleGetRequest","status","send","id","query","product","findOne","_id","json","error","console"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,uBAAtB;AACA,OAAOC,OAAP,MAAoB,sBAApB;;AAEA,MAAMC,OAAO,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAClC,UAAQD,GAAG,CAACE,MAAZ;AACE,SAAK,KAAL;AACE,YAAMC,gBAAgB,CAACH,GAAD,EAAMC,GAAN,CAAtB;AACA;;AACF;AACEA,MAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,oBAArB;AACA;AANJ;AAQD,CATD;;AAWA,eAAeF,gBAAf,CAAgCH,GAAhC,EAAqCC,GAArC,EAA0C;AACxC,QAAM;AAAEK,IAAAA;AAAF,MAASN,GAAG,CAACO,KAAnB;;AACA,MAAI;AACF,UAAMC,OAAO,GAAG,MAAMV,OAAO,CAACW,OAAR,CAAgB;AAAEC,MAAAA,GAAG,EAAEJ;AAAP,KAAhB,CAAtB;AACAL,IAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBO,IAAhB,CAAqBH,OAArB;AACD,GAHD,CAGE,OAAOI,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACAX,IAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,mBAArB;AACD;AACF;;AAED,eAAeR,SAAS,CAACE,OAAD,CAAxB","sourcesContent":["import connectDB from \"../../utils/connectDB\";\nimport Product from \"../../models/Product\";\n\nconst handler = async (req, res) => {\n  switch (req.method) {\n    case \"GET\":\n      await handleGetRequest(req, res);\n      break;\n    default:\n      res.status(405).send(\"Method not allowed\");\n      break;\n  }\n};\n\nasync function handleGetRequest(req, res) {\n  const { id } = req.query;\n  try {\n    const product = await Product.findOne({ _id: id });\n    res.status(200).json(product);\n  } catch (error) {\n    console.error(error);\n    res.status(400).send(\"Product not exist\");\n  }\n}\n\nexport default connectDB(handler);\n"]},"metadata":{},"sourceType":"module"}