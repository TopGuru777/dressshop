{"ast":null,"code":"import connectDB from \"../../utils/connectDB\";\nimport bcrypt from \"bcryptjs\";\nimport User from \"../../models/User\";\nimport jwt from \"jsonwebtoken\";\nexport default (async (req, res) => {\n  const {\n    email,\n    password\n  } = req.body;\n\n  try {\n    //check if email is exist\n    const user = await User.findOne({\n      email\n    }).select(\"+password\");\n\n    if (!user) {\n      return res.status(404).send(\"Email does not exist\");\n    } // // check if user password match in db\n    // const isPasswordMatch = await bcrypt.compareSync(password, user.password);\n\n\n    console.log(user);\n    res.send(\"test\");\n  } catch (error) {\n    console.error(error);\n    res.status(500).send(\"Error logging in user. Please try to login again\");\n  }\n});","map":{"version":3,"sources":["/home/russ/projects/dress-shop/pages/api/login.js"],"names":["connectDB","bcrypt","User","jwt","req","res","email","password","body","user","findOne","select","status","send","console","log","error"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,uBAAtB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjC,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAsBH,GAAG,CAACI,IAAhC;;AACA,MAAI;AACF;AACA,UAAMC,IAAI,GAAG,MAAMP,IAAI,CAACQ,OAAL,CAAa;AAAEJ,MAAAA;AAAF,KAAb,EAAwBK,MAAxB,CAA+B,WAA/B,CAAnB;;AACA,QAAI,CAACF,IAAL,EAAW;AACT,aAAOJ,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,sBAArB,CAAP;AACD,KALC,CAMF;AACA;;;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYN,IAAZ;AACAJ,IAAAA,GAAG,CAACQ,IAAJ,CAAS,MAAT;AACD,GAVD,CAUE,OAAOG,KAAP,EAAc;AACdF,IAAAA,OAAO,CAACE,KAAR,CAAcA,KAAd;AACAX,IAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,kDAArB;AACD;AACF,CAhBD","sourcesContent":["import connectDB from \"../../utils/connectDB\";\nimport bcrypt from \"bcryptjs\";\nimport User from \"../../models/User\";\nimport jwt from \"jsonwebtoken\";\n\nexport default async (req, res) => {\n  const { email, password } = req.body;\n  try {\n    //check if email is exist\n    const user = await User.findOne({ email }).select(\"+password\");\n    if (!user) {\n      return res.status(404).send(\"Email does not exist\");\n    }\n    // // check if user password match in db\n    // const isPasswordMatch = await bcrypt.compareSync(password, user.password);\n    console.log(user);\n    res.send(\"test\");\n  } catch (error) {\n    console.error(error);\n    res.status(500).send(\"Error logging in user. Please try to login again\");\n  }\n};\n"]},"metadata":{},"sourceType":"module"}