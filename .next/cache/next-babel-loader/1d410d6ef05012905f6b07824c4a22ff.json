{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nvar _jsxFileName = \"/home/russ/projects/dress-shop/pages/index.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Layout from \"../components/Layout\";\nimport baseURL from \"../utils/baseURL\";\nimport Banner from \"../components/Home/Banner\";\nimport ProductList from \"../components/Shared/Products/ProductList\";\n\nvar Home = function Home() {\n  var _useState = useState(1),\n      currentPage = _useState[0],\n      setCurrentPage = _useState[1];\n\n  var _useState2 = useState([]),\n      products = _useState2[0],\n      setProducts = _useState2[1];\n\n  useEffect(function () {\n    function fetchProducts() {\n      var payload, _ref, data;\n\n      return _regeneratorRuntime.async(function fetchProducts$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              payload = {\n                params: {\n                  currentPage: currentPage,\n                  pageSize: 10\n                }\n              };\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(axios.get(\"\".concat(baseURL, \"/api/products\"), payload));\n\n            case 3:\n              _ref = _context.sent;\n              data = _ref.data;\n              setProducts(data.products);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    }\n\n    fetchProducts();\n  }, [currentPage]);\n\n  var handleLoadMore = function handleLoadMore() {\n    setCurrentPage(function (page) {\n      return page + 1;\n    });\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, __jsx(Banner, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: \"jsx-634659978\" + \" \" + \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-634659978\" + \" \" + \"heading\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, \"Product Overview\"), __jsx(ProductList, {\n    products: products,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: \"jsx-634659978\" + \" \" + \"load-more\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, __jsx(\"button\", {\n    onClick: handleLoadMore,\n    className: \"jsx-634659978\" + \" \" + \"btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \" \", \"Load More\", \" \")))), __jsx(_JSXStyle, {\n    id: \"634659978\",\n    __self: this\n  }, \".container.jsx-634659978{max-width:1200px;margin:2rem auto;}.heading.jsx-634659978{padding:1.5rem;font-weight:700;font-size:36px;line-height:1.1;text-transform:uppercase;}.load-more.jsx-634659978{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin:5rem 0;}.load-more.jsx-634659978 .btn.jsx-634659978{background-color:#fff;color:var(--color-primary);font-size:2rem;width:25rem;height:6rem;line-height:6rem;border-radius:5rem;border:1px solid var(--color-primary);cursor:pointer;}.load-more.jsx-634659978 .btn.jsx-634659978:focus{outline:none;}.load-more.jsx-634659978 .btn.jsx-634659978:hover{background-color:var(--color-primary);color:#fff;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1c3MvcHJvamVjdHMvZHJlc3Mtc2hvcC9wYWdlcy9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUF3Q1MsQUFHOEIsQUFLRixBQVFKLEFBT1csQUFZVCxBQUl5QixXQXRCekIsRUFtQmYsRUEzQmtCLEVBTEMsS0FvQlUsU0FkWixHQUxqQixJQW1DYSxRQTdCSyxHQWNELEFBZ0JqQixhQTdCMkIsRUFjYixZQUNBLFNBVFcsRUFMekIsQ0Fla0IsaUJBQ0csbUJBQ21CLHNDQUN2QixlQUNqQixPQWJnQixjQUNoQiIsImZpbGUiOiIvaG9tZS9ydXNzL3Byb2plY3RzL2RyZXNzLXNob3AvcGFnZXMvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiO1xuaW1wb3J0IExheW91dCBmcm9tIFwiLi4vY29tcG9uZW50cy9MYXlvdXRcIjtcbmltcG9ydCBiYXNlVVJMIGZyb20gXCIuLi91dGlscy9iYXNlVVJMXCI7XG5pbXBvcnQgQmFubmVyIGZyb20gXCIuLi9jb21wb25lbnRzL0hvbWUvQmFubmVyXCI7XG5pbXBvcnQgUHJvZHVjdExpc3QgZnJvbSBcIi4uL2NvbXBvbmVudHMvU2hhcmVkL1Byb2R1Y3RzL1Byb2R1Y3RMaXN0XCI7XG5cbmNvbnN0IEhvbWUgPSAoKSA9PiB7XG4gIGNvbnN0IFtjdXJyZW50UGFnZSwgc2V0Q3VycmVudFBhZ2VdID0gdXNlU3RhdGUoMSk7XG4gIGNvbnN0IFtwcm9kdWN0cywgc2V0UHJvZHVjdHNdID0gdXNlU3RhdGUoW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hQcm9kdWN0cygpIHtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7IHBhcmFtczogeyBjdXJyZW50UGFnZSwgcGFnZVNpemU6IDEwIH0gfTtcbiAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgYXhpb3MuZ2V0KGAke2Jhc2VVUkx9L2FwaS9wcm9kdWN0c2AsIHBheWxvYWQpO1xuICAgICAgc2V0UHJvZHVjdHMoZGF0YS5wcm9kdWN0cyk7XG4gICAgfVxuICAgIGZldGNoUHJvZHVjdHMoKTtcbiAgfSwgW2N1cnJlbnRQYWdlXSk7XG5cbiAgY29uc3QgaGFuZGxlTG9hZE1vcmUgPSAoKSA9PiB7XG4gICAgc2V0Q3VycmVudFBhZ2UocGFnZSA9PiBwYWdlICsgMSk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPExheW91dD5cbiAgICAgICAgPEJhbm5lciAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGluZ1wiPlByb2R1Y3QgT3ZlcnZpZXc8L2Rpdj5cbiAgICAgICAgICA8UHJvZHVjdExpc3QgcHJvZHVjdHM9e3Byb2R1Y3RzfSAvPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibG9hZC1tb3JlXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0blwiIG9uQ2xpY2s9e2hhbmRsZUxvYWRNb3JlfT5cbiAgICAgICAgICAgICAge1wiIFwifVxuICAgICAgICAgICAgICBMb2FkIE1vcmV7XCIgXCJ9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L0xheW91dD5cbiAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgIHtgXG4gICAgICAgICAgLmNvbnRhaW5lciB7XG4gICAgICAgICAgICBtYXgtd2lkdGg6IDEyMDBweDtcbiAgICAgICAgICAgIG1hcmdpbjogMnJlbSBhdXRvO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5oZWFkaW5nIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDEuNXJlbTtcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7XG4gICAgICAgICAgICBmb250LXNpemU6IDM2cHg7XG4gICAgICAgICAgICBsaW5lLWhlaWdodDogMS4xO1xuICAgICAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAubG9hZC1tb3JlIHtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICAgICAgbWFyZ2luOiA1cmVtIDA7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLmxvYWQtbW9yZSAuYnRuIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItcHJpbWFyeSk7XG4gICAgICAgICAgICBmb250LXNpemU6IDJyZW07XG4gICAgICAgICAgICB3aWR0aDogMjVyZW07XG4gICAgICAgICAgICBoZWlnaHQ6IDZyZW07XG4gICAgICAgICAgICBsaW5lLWhlaWdodCA2cmVtO1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXJlbTtcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWNvbG9yLXByaW1hcnkpO1xuICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5sb2FkLW1vcmUgLmJ0bjpmb2N1cyB7XG4gICAgICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5sb2FkLW1vcmUgLmJ0bjpob3ZlciB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2xvci1wcmltYXJ5KTtcbiAgICAgICAgICAgIGNvbG9yOiAjZmZmO1xuICAgICAgICAgIH1cbiAgICAgICAgYH1cbiAgICAgIDwvc3R5bGU+XG4gICAgPC8+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBIb21lO1xuIl19 */\\n/*@ sourceURL=/home/russ/projects/dress-shop/pages/index.js */\"));\n};\n\nexport default Home;","map":{"version":3,"sources":["/home/russ/projects/dress-shop/pages/index.js"],"names":["React","useEffect","useState","axios","Layout","baseURL","Banner","ProductList","Home","currentPage","setCurrentPage","products","setProducts","fetchProducts","payload","params","pageSize","get","data","handleLoadMore","page"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,OAAOC,WAAP,MAAwB,2CAAxB;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO,GAAM;AAAA,kBACqBN,QAAQ,CAAC,CAAD,CAD7B;AAAA,MACVO,WADU;AAAA,MACGC,cADH;;AAAA,mBAEeR,QAAQ,CAAC,EAAD,CAFvB;AAAA,MAEVS,QAFU;AAAA,MAEAC,WAFA;;AAIjBX,EAAAA,SAAS,CAAC,YAAM;AACd,aAAeY,aAAf;AAAA;;AAAA;AAAA;AAAA;AAAA;AACQC,cAAAA,OADR,GACkB;AAAEC,gBAAAA,MAAM,EAAE;AAAEN,kBAAAA,WAAW,EAAXA,WAAF;AAAeO,kBAAAA,QAAQ,EAAE;AAAzB;AAAV,eADlB;AAAA;AAAA,+CAEyBb,KAAK,CAACc,GAAN,WAAaZ,OAAb,oBAAqCS,OAArC,CAFzB;;AAAA;AAAA;AAEUI,cAAAA,IAFV,QAEUA,IAFV;AAGEN,cAAAA,WAAW,CAACM,IAAI,CAACP,QAAN,CAAX;;AAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAKAE,IAAAA,aAAa;AACd,GAPQ,EAON,CAACJ,WAAD,CAPM,CAAT;;AASA,MAAMU,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAC3BT,IAAAA,cAAc,CAAC,UAAAU,IAAI;AAAA,aAAIA,IAAI,GAAG,CAAX;AAAA,KAAL,CAAd;AACD,GAFD;;AAIA,SACE,4BACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAA,uCAAe,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA,uCAAe,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAEE,MAAC,WAAD;AAAa,IAAA,QAAQ,EAAET,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE;AAAA,uCAAe,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAwB,IAAA,OAAO,EAAEQ,cAAjC;AAAA,uCAAkB,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,GADH,eAEY,GAFZ,CADF,CAHF,CAFF,CADF;AAAA;AAAA;AAAA,u7IADF;AA6DD,CA9ED;;AAgFA,eAAeX,IAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Layout from \"../components/Layout\";\nimport baseURL from \"../utils/baseURL\";\nimport Banner from \"../components/Home/Banner\";\nimport ProductList from \"../components/Shared/Products/ProductList\";\n\nconst Home = () => {\n  const [currentPage, setCurrentPage] = useState(1);\n  const [products, setProducts] = useState([]);\n\n  useEffect(() => {\n    async function fetchProducts() {\n      const payload = { params: { currentPage, pageSize: 10 } };\n      const { data } = await axios.get(`${baseURL}/api/products`, payload);\n      setProducts(data.products);\n    }\n    fetchProducts();\n  }, [currentPage]);\n\n  const handleLoadMore = () => {\n    setCurrentPage(page => page + 1);\n  };\n\n  return (\n    <>\n      <Layout>\n        <Banner />\n        <div className=\"container\">\n          <div className=\"heading\">Product Overview</div>\n          <ProductList products={products} />\n          <div className=\"load-more\">\n            <button className=\"btn\" onClick={handleLoadMore}>\n              {\" \"}\n              Load More{\" \"}\n            </button>\n          </div>\n        </div>\n      </Layout>\n      <style jsx>\n        {`\n          .container {\n            max-width: 1200px;\n            margin: 2rem auto;\n          }\n\n          .heading {\n            padding: 1.5rem;\n            font-weight: 700;\n            font-size: 36px;\n            line-height: 1.1;\n            text-transform: uppercase;\n          }\n\n          .load-more {\n            width: 100%;\n            display: flex;\n            justify-content: center;\n            margin: 5rem 0;\n          }\n\n          .load-more .btn {\n            background-color: #fff;\n            color: var(--color-primary);\n            font-size: 2rem;\n            width: 25rem;\n            height: 6rem;\n            line-height 6rem;\n            border-radius: 5rem;\n            border: 1px solid var(--color-primary);\n            cursor: pointer;\n          }\n\n          .load-more .btn:focus {\n            outline: none;\n          }\n\n          .load-more .btn:hover {\n            background-color: var(--color-primary);\n            color: #fff;\n          }\n        `}\n      </style>\n    </>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}