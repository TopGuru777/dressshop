{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nvar _jsxFileName = \"/home/russ/projects/dress-shop/pages/index.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useState } from 'react';\nimport { useShop } from '../store';\nimport { Spinner } from '../components/Shared';\nimport Layout from '../components/Layout';\nimport Banner from '../components/Home/Banner';\nimport ProductList from '../components/Shared/Products/ProductList';\nimport SkeletonGrid from '../components/Shared/Loader/SkeletonGrid';\nimport Categories from '../components/Home/Categories';\n\nvar Home = function Home() {\n  var _useState = useState(false),\n      isLoadingMore = _useState[0],\n      setIsLoadingMore = _useState[1];\n\n  var _useShop = useShop(),\n      isLoading = _useShop.isLoading,\n      products = _useShop.products,\n      loadProducts = _useShop.loadProducts,\n      hasLoadMore = _useShop.hasLoadMore,\n      loadMore = _useShop.loadMore;\n\n  useEffect(function () {\n    //load only if products is empty\n    products.length === 0 && loadProducts();\n  }, []);\n\n  var handleLoadMore = function handleLoadMore() {\n    return _regeneratorRuntime.async(function handleLoadMore$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setIsLoadingMore(true);\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(loadMore());\n\n          case 3:\n            setIsLoadingMore(false);\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    });\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-3562039913\" + \" \" + \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-3562039913\" + \" \" + \"heading\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, \"Product Overview\"), isLoading ? __jsx(SkeletonGrid, {\n    number: 20,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }) : __jsx(React.Fragment, null, __jsx(ProductList, {\n    products: products,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }), isLoadingMore && __jsx(\"div\", {\n    className: \"jsx-3562039913\" + \" \" + \"loading-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, __jsx(Spinner, {\n    color: 'var(--color-primary)',\n    width: 80,\n    height: 80,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  })), hasLoadMore && !isLoadingMore && __jsx(\"div\", {\n    className: \"jsx-3562039913\" + \" \" + \"load-more\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, __jsx(\"button\", {\n    onClick: handleLoadMore,\n    className: \"jsx-3562039913\" + \" \" + \"btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Load More\"))))), __jsx(_JSXStyle, {\n    id: \"3562039913\",\n    __self: this\n  }, \".container.jsx-3562039913{max-width:1200px;margin:2rem auto;}.heading.jsx-3562039913{padding:1.5rem;font-weight:700;font-size:3rem;line-height:1.1;text-transform:uppercase;}.load-more.jsx-3562039913{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin:5rem 0;}.load-more.jsx-3562039913 .btn.jsx-3562039913{background-color:#fff;color:var(--color-primary);font-size:2rem;width:25rem;height:6rem;line-height:6rem;border-radius:5rem;border:1px solid var(--color-primary);cursor:pointer;}.load-more.jsx-3562039913 .btn.jsx-3562039913:focus{outline:none;}.load-more.jsx-3562039913 .btn.jsx-3562039913:hover{background-color:var(--color-primary);color:#fff;}.loading-wrapper.jsx-3562039913{width:100%;text-align:center;padding:2rem 0;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1c3MvcHJvamVjdHMvZHJlc3Mtc2hvcC9wYWdlcy9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFnRVMsQUFHOEIsQUFLRixBQVFKLEFBT1csQUFZVCxBQUl5QixBQUszQixXQTNCRSxBQTRCSyxFQVRwQixFQTNCa0IsRUFMQyxLQW9CVSxPQXNCWixFQXBDQSxHQUxqQixJQW1DYSxNQU9iLEVBcENrQixHQWNELEFBZ0JqQixhQTdCMkIsRUFjYixZQUNBLFNBVFcsRUFMekIsQ0Fla0IsaUJBQ0csbUJBQ21CLHNDQUN2QixlQUNqQixPQWJnQixjQUNoQiIsImZpbGUiOiIvaG9tZS9ydXNzL3Byb2plY3RzL2RyZXNzLXNob3AvcGFnZXMvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlU2hvcCB9IGZyb20gJy4uL3N0b3JlJztcbmltcG9ydCB7IFNwaW5uZXIgfSBmcm9tICcuLi9jb21wb25lbnRzL1NoYXJlZCc7XG5pbXBvcnQgTGF5b3V0IGZyb20gJy4uL2NvbXBvbmVudHMvTGF5b3V0JztcbmltcG9ydCBCYW5uZXIgZnJvbSAnLi4vY29tcG9uZW50cy9Ib21lL0Jhbm5lcic7XG5pbXBvcnQgUHJvZHVjdExpc3QgZnJvbSAnLi4vY29tcG9uZW50cy9TaGFyZWQvUHJvZHVjdHMvUHJvZHVjdExpc3QnO1xuaW1wb3J0IFNrZWxldG9uR3JpZCBmcm9tICcuLi9jb21wb25lbnRzL1NoYXJlZC9Mb2FkZXIvU2tlbGV0b25HcmlkJztcbmltcG9ydCBDYXRlZ29yaWVzIGZyb20gJy4uL2NvbXBvbmVudHMvSG9tZS9DYXRlZ29yaWVzJztcblxuY29uc3QgSG9tZSA9ICgpID0+IHtcbiAgY29uc3QgW2lzTG9hZGluZ01vcmUsIHNldElzTG9hZGluZ01vcmVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCB7XG4gICAgaXNMb2FkaW5nLFxuICAgIHByb2R1Y3RzLFxuICAgIGxvYWRQcm9kdWN0cyxcbiAgICBoYXNMb2FkTW9yZSxcbiAgICBsb2FkTW9yZVxuICB9ID0gdXNlU2hvcCgpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy9sb2FkIG9ubHkgaWYgcHJvZHVjdHMgaXMgZW1wdHlcbiAgICBwcm9kdWN0cy5sZW5ndGggPT09IDAgJiYgbG9hZFByb2R1Y3RzKCk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBoYW5kbGVMb2FkTW9yZSA9IGFzeW5jICgpID0+IHtcbiAgICBzZXRJc0xvYWRpbmdNb3JlKHRydWUpO1xuICAgIGF3YWl0IGxvYWRNb3JlKCk7XG4gICAgc2V0SXNMb2FkaW5nTW9yZShmYWxzZSk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPExheW91dD5cbiAgICAgICAgey8qIDxCYW5uZXIgLz4gKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgey8qIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGluZ1wiPlNob3AgQ2F0ZWdvcmllczwvZGl2PlxuICAgICAgICAgIDxDYXRlZ29yaWVzIC8+ICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGluZ1wiPlByb2R1Y3QgT3ZlcnZpZXc8L2Rpdj5cbiAgICAgICAgICB7aXNMb2FkaW5nID8gKFxuICAgICAgICAgICAgPFNrZWxldG9uR3JpZCBudW1iZXI9ezIwfSAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICA8UHJvZHVjdExpc3QgcHJvZHVjdHM9e3Byb2R1Y3RzfSAvPlxuICAgICAgICAgICAgICB7aXNMb2FkaW5nTW9yZSAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2FkaW5nLXdyYXBwZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxTcGlubmVyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yPXsndmFyKC0tY29sb3ItcHJpbWFyeSknfVxuICAgICAgICAgICAgICAgICAgICB3aWR0aD17ODB9XG4gICAgICAgICAgICAgICAgICAgIGhlaWdodD17ODB9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICB7aGFzTG9hZE1vcmUgJiYgIWlzTG9hZGluZ01vcmUgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibG9hZC1tb3JlXCI+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0blwiIG9uQ2xpY2s9e2hhbmRsZUxvYWRNb3JlfT5cbiAgICAgICAgICAgICAgICAgICAgTG9hZCBNb3JlXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9MYXlvdXQ+XG4gICAgICA8c3R5bGUganN4PlxuICAgICAgICB7YFxuICAgICAgICAgIC5jb250YWluZXIge1xuICAgICAgICAgICAgbWF4LXdpZHRoOiAxMjAwcHg7XG4gICAgICAgICAgICBtYXJnaW46IDJyZW0gYXV0bztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAuaGVhZGluZyB7XG4gICAgICAgICAgICBwYWRkaW5nOiAxLjVyZW07XG4gICAgICAgICAgICBmb250LXdlaWdodDogNzAwO1xuICAgICAgICAgICAgZm9udC1zaXplOiAzcmVtO1xuICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuMTtcbiAgICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLmxvYWQtbW9yZSB7XG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgICAgIG1hcmdpbjogNXJlbSAwO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5sb2FkLW1vcmUgLmJ0biB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgICAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLXByaW1hcnkpO1xuICAgICAgICAgICAgZm9udC1zaXplOiAycmVtO1xuICAgICAgICAgICAgd2lkdGg6IDI1cmVtO1xuICAgICAgICAgICAgaGVpZ2h0OiA2cmVtO1xuICAgICAgICAgICAgbGluZS1oZWlnaHQgNnJlbTtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVyZW07XG4gICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1jb2xvci1wcmltYXJ5KTtcbiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAubG9hZC1tb3JlIC5idG46Zm9jdXMge1xuICAgICAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAubG9hZC1tb3JlIC5idG46aG92ZXIge1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sb3ItcHJpbWFyeSk7XG4gICAgICAgICAgICBjb2xvcjogI2ZmZjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAubG9hZGluZy13cmFwcGVyIHtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgcGFkZGluZzogMnJlbSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgYH1cbiAgICAgIDwvc3R5bGU+XG4gICAgPC8+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBIb21lO1xuIl19 */\\n/*@ sourceURL=/home/russ/projects/dress-shop/pages/index.js */\"));\n};\n\nexport default Home;","map":{"version":3,"sources":["/home/russ/projects/dress-shop/pages/index.js"],"names":["useEffect","useState","useShop","Spinner","Layout","Banner","ProductList","SkeletonGrid","Categories","Home","isLoadingMore","setIsLoadingMore","isLoading","products","loadProducts","hasLoadMore","loadMore","length","handleLoadMore"],"mappings":";;;;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,OAAT,QAAwB,UAAxB;AACA,SAASC,OAAT,QAAwB,sBAAxB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,OAAOC,WAAP,MAAwB,2CAAxB;AACA,OAAOC,YAAP,MAAyB,0CAAzB;AACA,OAAOC,UAAP,MAAuB,+BAAvB;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO,GAAM;AAAA,kBACyBR,QAAQ,CAAC,KAAD,CADjC;AAAA,MACVS,aADU;AAAA,MACKC,gBADL;;AAAA,iBAQbT,OAAO,EARM;AAAA,MAGfU,SAHe,YAGfA,SAHe;AAAA,MAIfC,QAJe,YAIfA,QAJe;AAAA,MAKfC,YALe,YAKfA,YALe;AAAA,MAMfC,WANe,YAMfA,WANe;AAAA,MAOfC,QAPe,YAOfA,QAPe;;AAUjBhB,EAAAA,SAAS,CAAC,YAAM;AACd;AACAa,IAAAA,QAAQ,CAACI,MAAT,KAAoB,CAApB,IAAyBH,YAAY,EAArC;AACD,GAHQ,EAGN,EAHM,CAAT;;AAKA,MAAMI,cAAc,GAAG,SAAjBA,cAAiB;AAAA;AAAA;AAAA;AAAA;AACrBP,YAAAA,gBAAgB,CAAC,IAAD,CAAhB;AADqB;AAAA,6CAEfK,QAAQ,EAFO;;AAAA;AAGrBL,YAAAA,gBAAgB,CAAC,KAAD,CAAhB;;AAHqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAvB;;AAMA,SACE,4BACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE;AAAA,wCAAe,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGE;AAAA,wCAAe,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHF,EAIGC,SAAS,GACR,MAAC,YAAD;AAAc,IAAA,MAAM,EAAE,EAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADQ,GAGR,4BACE,MAAC,WAAD;AAAa,IAAA,QAAQ,EAAEC,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGH,aAAa,IACZ;AAAA,wCAAe,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,OAAD;AACE,IAAA,KAAK,EAAE,sBADT;AAEE,IAAA,KAAK,EAAE,EAFT;AAGE,IAAA,MAAM,EAAE,EAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAHJ,EAWGK,WAAW,IAAI,CAACL,aAAhB,IACC;AAAA,wCAAe,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAwB,IAAA,OAAO,EAAEQ,cAAjC;AAAA,wCAAkB,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,CAZJ,CAPJ,CAFF,CADF;AAAA;AAAA;AAAA,qmLADF;AAqFD,CA1GD;;AA4GA,eAAeT,IAAf","sourcesContent":["import { useEffect, useState } from 'react';\nimport { useShop } from '../store';\nimport { Spinner } from '../components/Shared';\nimport Layout from '../components/Layout';\nimport Banner from '../components/Home/Banner';\nimport ProductList from '../components/Shared/Products/ProductList';\nimport SkeletonGrid from '../components/Shared/Loader/SkeletonGrid';\nimport Categories from '../components/Home/Categories';\n\nconst Home = () => {\n  const [isLoadingMore, setIsLoadingMore] = useState(false);\n  const {\n    isLoading,\n    products,\n    loadProducts,\n    hasLoadMore,\n    loadMore\n  } = useShop();\n\n  useEffect(() => {\n    //load only if products is empty\n    products.length === 0 && loadProducts();\n  }, []);\n\n  const handleLoadMore = async () => {\n    setIsLoadingMore(true);\n    await loadMore();\n    setIsLoadingMore(false);\n  };\n\n  return (\n    <>\n      <Layout>\n        {/* <Banner /> */}\n        <div className=\"container\">\n          {/* <div className=\"heading\">Shop Categories</div>\n          <Categories /> */}\n          <div className=\"heading\">Product Overview</div>\n          {isLoading ? (\n            <SkeletonGrid number={20} />\n          ) : (\n            <>\n              <ProductList products={products} />\n              {isLoadingMore && (\n                <div className=\"loading-wrapper\">\n                  <Spinner\n                    color={'var(--color-primary)'}\n                    width={80}\n                    height={80}\n                  />\n                </div>\n              )}\n              {hasLoadMore && !isLoadingMore && (\n                <div className=\"load-more\">\n                  <button className=\"btn\" onClick={handleLoadMore}>\n                    Load More\n                  </button>\n                </div>\n              )}\n            </>\n          )}\n        </div>\n      </Layout>\n      <style jsx>\n        {`\n          .container {\n            max-width: 1200px;\n            margin: 2rem auto;\n          }\n\n          .heading {\n            padding: 1.5rem;\n            font-weight: 700;\n            font-size: 3rem;\n            line-height: 1.1;\n            text-transform: uppercase;\n          }\n\n          .load-more {\n            width: 100%;\n            display: flex;\n            justify-content: center;\n            margin: 5rem 0;\n          }\n\n          .load-more .btn {\n            background-color: #fff;\n            color: var(--color-primary);\n            font-size: 2rem;\n            width: 25rem;\n            height: 6rem;\n            line-height 6rem;\n            border-radius: 5rem;\n            border: 1px solid var(--color-primary);\n            cursor: pointer;\n          }\n\n          .load-more .btn:focus {\n            outline: none;\n          }\n\n          .load-more .btn:hover {\n            background-color: var(--color-primary);\n            color: #fff;\n          }\n\n          .loading-wrapper {\n            width: 100%;\n            text-align: center;\n            padding: 2rem 0;\n          }\n        `}\n      </style>\n    </>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}