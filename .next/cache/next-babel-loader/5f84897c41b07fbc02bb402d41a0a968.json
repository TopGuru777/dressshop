{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/russ/projects/dress-shop/pages/admin/index.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from 'react';\nimport Layout from '../../components/Layout';\nimport axios from 'axios';\nimport baseURL from '../../utils/baseURL';\nimport Spinner from '../../components/Shared/Loader/Spinner';\nimport useModal from '../../hooks/useModal';\nimport Modal from '../../components/Shared/Modal';\n\nconst Admin = () => {\n  const initState = {\n    name: '',\n    price: '',\n    description: '',\n    category: ''\n  };\n  const {\n    0: product,\n    1: setProduct\n  } = useState(initState);\n  const {\n    0: imagePreview,\n    1: setImagePreview\n  } = useState('');\n  const {\n    0: file,\n    1: setFile\n  } = useState('');\n  const {\n    0: submit,\n    1: setSubmit\n  } = useState(false);\n  const {\n    show,\n    closeModal,\n    openModal\n  } = useModal();\n\n  const handleChange = e => {\n    if (e.target.name === 'file') {\n      let reader = new FileReader();\n\n      reader.onloadend = () => {\n        setImagePreview(reader.result);\n      };\n\n      reader.readAsDataURL(event.target.files[0]);\n      setFile(e.target.files[0]);\n    } else {\n      setProduct(_objectSpread({}, product, {\n        [e.target.name]: e.target.value\n      }));\n    }\n  };\n\n  const imageUpload = async () => {\n    try {\n      let data = new FormData();\n      data.append('file', file);\n      data.append('upload_preset', 'dress-shop');\n      data.append('cloud_name', 'djlbfjouc'); //upload image to cloudinary\n\n      const res = await axios.post(process.env.CLOUDINARY_URL, data);\n      return res.data.secure_url;\n    } catch (error) {\n      console.log(error.response);\n    }\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      setSubmit(true); //get url of image\n\n      const imageURL = await imageUpload();\n\n      const payload = _objectSpread({}, product, {\n        imageURL\n      }); //save product to db\n\n\n      await axios.post(`${baseURL}/api/products`, payload);\n      reset();\n    } catch (error) {\n      console.log(error.response);\n    } finally {\n      setSubmit(false);\n    }\n  };\n\n  const reset = () => {\n    setProduct(initState);\n    setFile('');\n    setImagePreview('');\n  };\n\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-2511525367\" + \" \" + \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, __jsx(Modal, {\n    isOpen: show,\n    close: closeModal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, __jsx(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"jsx-2511525367\" + \" \" + \"form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-2511525367\" + \" \" + \"group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    placeholder: \"Product Name\",\n    onChange: handleChange,\n    required: true,\n    value: product.name,\n    className: \"jsx-2511525367\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"jsx-2511525367\" + \" \" + \"group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-2511525367\" + \" \" + \"btn-upload-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"file\",\n    name: \"file\",\n    onChange: handleChange,\n    required: true,\n    className: \"jsx-2511525367\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }), __jsx(\"button\", {\n    className: \"jsx-2511525367\" + \" \" + \"btn-upload\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, \"Upload Image\")), __jsx(\"div\", {\n    className: \"jsx-2511525367\" + \" \" + \"img-upload-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-2511525367\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, imagePreview ? __jsx(\"img\", {\n    src: imagePreview,\n    className: \"jsx-2511525367\" + \" \" + \"preview-img\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }) : __jsx(\"div\", {\n    className: \"jsx-2511525367\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, \" Image goes here \")))), __jsx(\"div\", {\n    className: \"jsx-2511525367\" + \" \" + \"group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"text\",\n    name: \"price\",\n    placeholder: \"Product Price\",\n    onChange: handleChange,\n    required: true,\n    value: product.price,\n    className: \"jsx-2511525367\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"jsx-2511525367\" + \" \" + \"group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"text\",\n    name: \"description\",\n    placeholder: \"Product Description\",\n    onChange: handleChange,\n    required: true,\n    value: product.description,\n    className: \"jsx-2511525367\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"jsx-2511525367\" + \" \" + \"group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, __jsx(\"select\", {\n    name: \"category\",\n    id: \"\",\n    onChange: handleChange,\n    required: true,\n    value: product.category,\n    className: \"jsx-2511525367\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, __jsx(\"option\", {\n    value: \"men\",\n    className: \"jsx-2511525367\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, \"Men\"), __jsx(\"option\", {\n    value: \"women\",\n    className: \"jsx-2511525367\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, \"Women\"))), __jsx(\"div\", {\n    className: \"jsx-2511525367\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, __jsx(\"button\", {\n    disabled: submit,\n    className: \"jsx-2511525367\" + \" \" + \"btn-submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, submit ? __jsx(Spinner, {\n    color: \"#fff\",\n    width: 40,\n    height: 40,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }) : 'Submit')))), __jsx(\"button\", {\n    onClick: openModal,\n    className: \"jsx-2511525367\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, \" Add Product\"), __jsx(\"div\", {\n    className: \"jsx-2511525367\" + \" \" + \"page-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, \" Add Product \")), ' ', __jsx(_JSXStyle, {\n    id: \"2511525367\",\n    __self: this\n  }, \".container.jsx-2511525367{max-width:120rem;margin:3rem auto;padding:0 2rem;}.page-title.jsx-2511525367{font-size:3rem;}.preview-img.jsx-2511525367{width:30rem;height:30rem;object-fit:contain;}.form.jsx-2511525367{max-width:60rem;}.form.jsx-2511525367 input.jsx-2511525367{border:1px solid transparent;border-bottom:1px solid var(--color-dark);width:100%;height:5rem;font-size:1.6rem;}.form.jsx-2511525367 input.jsx-2511525367:focus{outline:none;}.form.jsx-2511525367 select.jsx-2511525367{border:1px solid var(--color-dark);width:100%;height:5rem;font-size:1.6rem;background-color:#fff;padding:0 1rem;}.group.jsx-2511525367{padding:1rem 0;margin-bottom:1rem;}.btn-submit.jsx-2511525367{height:6rem;width:100%;background-color:var(--color-dark);color:#fff;font-size:2rem;border:1px solid transparent;}.img-upload-container.jsx-2511525367{position:relative;width:30rem;height:30rem;border:1px solid #eee;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;font-size:1.8rem;overflow:hidden;}.btn-upload-container.jsx-2511525367 input.jsx-2511525367{opacity:0;position:absolute;top:0;left:0;width:100%;height:100%;}.btn-upload-container.jsx-2511525367{position:relative;width:20rem;height:5rem;margin-bottom:2rem;cursor:pointer;}.btn-upload.jsx-2511525367{background-color:var(--color-dark);border:1px solid transparent;color:#fff;font-size:1.7rem;border-radius:6px;width:100%;height:100%;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1c3MvcHJvamVjdHMvZHJlc3Mtc2hvcC9wYWdlcy9hZG1pbi9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFnS2tCLEFBRzRCLEFBS0YsQUFJSCxBQU1JLEFBSWEsQUFRaEIsQUFJc0IsQUFTcEIsQUFLSCxBQVNNLEFBWVIsQUFTUSxBQVFpQixVQWhCakIsRUF6REwsQUFvQ0YsQ0FsQmIsRUF0QkEsQUFtQ3FCLENBekJyQixDQWZtQixDQXNETCxBQXFCQSxLQTdCdUIsRUFwQ2hCLEdBeURiLENBaERvQyxDQW9DN0IsQUFxQkQsSUEzRUcsQUF3Q2pCLEFBMkJTLENBckNJLEFBb0RrQixNQWRsQixDQVFRLENBckJHLENBN0N4QixFQXFCYyxHQTlCZCxHQW9FYyxNQXJDSyxBQWNOLEdBK0JJLEdBUGpCLEFBYWEsQ0EzQkUsSUFURSxFQTVCSixJQWNXLEFBbURMLENBTm5CLE1BMURjLEVBNEJpQixRQXFDWCxFQWhFRCxHQWFGLGFBb0RKLENBaEViLENBYUEsQ0FjQSxRQXNDYyxZQUNkLE1BL0JxQiw2RkFDSSxtR0FDTixpQkFDRCxnQkFDbEIiLCJmaWxlIjoiL2hvbWUvcnVzcy9wcm9qZWN0cy9kcmVzcy1zaG9wL3BhZ2VzL2FkbWluL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IExheW91dCBmcm9tICcuLi8uLi9jb21wb25lbnRzL0xheW91dCc7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IGJhc2VVUkwgZnJvbSAnLi4vLi4vdXRpbHMvYmFzZVVSTCc7XG5pbXBvcnQgU3Bpbm5lciBmcm9tICcuLi8uLi9jb21wb25lbnRzL1NoYXJlZC9Mb2FkZXIvU3Bpbm5lcic7XG5pbXBvcnQgdXNlTW9kYWwgZnJvbSAnLi4vLi4vaG9va3MvdXNlTW9kYWwnO1xuaW1wb3J0IE1vZGFsIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvU2hhcmVkL01vZGFsJztcblxuY29uc3QgQWRtaW4gPSAoKSA9PiB7XG4gIGNvbnN0IGluaXRTdGF0ZSA9IHtcbiAgICBuYW1lOiAnJyxcbiAgICBwcmljZTogJycsXG4gICAgZGVzY3JpcHRpb246ICcnLFxuICAgIGNhdGVnb3J5OiAnJ1xuICB9O1xuXG4gIGNvbnN0IFtwcm9kdWN0LCBzZXRQcm9kdWN0XSA9IHVzZVN0YXRlKGluaXRTdGF0ZSk7XG4gIGNvbnN0IFtpbWFnZVByZXZpZXcsIHNldEltYWdlUHJldmlld10gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtmaWxlLCBzZXRGaWxlXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW3N1Ym1pdCwgc2V0U3VibWl0XSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCB7IHNob3csIGNsb3NlTW9kYWwsIG9wZW5Nb2RhbCB9ID0gdXNlTW9kYWwoKTtcblxuICBjb25zdCBoYW5kbGVDaGFuZ2UgPSBlID0+IHtcbiAgICBpZiAoZS50YXJnZXQubmFtZSA9PT0gJ2ZpbGUnKSB7XG4gICAgICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSAoKSA9PiB7XG4gICAgICAgIHNldEltYWdlUHJldmlldyhyZWFkZXIucmVzdWx0KTtcbiAgICAgIH07XG4gICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChldmVudC50YXJnZXQuZmlsZXNbMF0pO1xuICAgICAgc2V0RmlsZShlLnRhcmdldC5maWxlc1swXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFByb2R1Y3Qoe1xuICAgICAgICAuLi5wcm9kdWN0LFxuICAgICAgICBbZS50YXJnZXQubmFtZV06IGUudGFyZ2V0LnZhbHVlXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaW1hZ2VVcGxvYWQgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBkYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICBkYXRhLmFwcGVuZCgnZmlsZScsIGZpbGUpO1xuICAgICAgZGF0YS5hcHBlbmQoJ3VwbG9hZF9wcmVzZXQnLCAnZHJlc3Mtc2hvcCcpO1xuICAgICAgZGF0YS5hcHBlbmQoJ2Nsb3VkX25hbWUnLCAnZGpsYmZqb3VjJyk7XG4gICAgICAvL3VwbG9hZCBpbWFnZSB0byBjbG91ZGluYXJ5XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBheGlvcy5wb3N0KHByb2Nlc3MuZW52LkNMT1VESU5BUllfVVJMLCBkYXRhKTtcbiAgICAgIHJldHVybiByZXMuZGF0YS5zZWN1cmVfdXJsO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IGFzeW5jIGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB0cnkge1xuICAgICAgc2V0U3VibWl0KHRydWUpO1xuICAgICAgLy9nZXQgdXJsIG9mIGltYWdlXG4gICAgICBjb25zdCBpbWFnZVVSTCA9IGF3YWl0IGltYWdlVXBsb2FkKCk7XG4gICAgICBjb25zdCBwYXlsb2FkID0geyAuLi5wcm9kdWN0LCBpbWFnZVVSTCB9O1xuICAgICAgLy9zYXZlIHByb2R1Y3QgdG8gZGJcbiAgICAgIGF3YWl0IGF4aW9zLnBvc3QoYCR7YmFzZVVSTH0vYXBpL3Byb2R1Y3RzYCwgcGF5bG9hZCk7XG4gICAgICByZXNldCgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldFN1Ym1pdChmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHJlc2V0ID0gKCkgPT4ge1xuICAgIHNldFByb2R1Y3QoaW5pdFN0YXRlKTtcbiAgICBzZXRGaWxlKCcnKTtcbiAgICBzZXRJbWFnZVByZXZpZXcoJycpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPExheW91dD5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxNb2RhbCBpc09wZW49e3Nob3d9IGNsb3NlPXtjbG9zZU1vZGFsfT5cbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU3VibWl0fSBjbGFzc05hbWU9XCJmb3JtXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyb3VwXCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQcm9kdWN0IE5hbWVcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9XG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ9e3RydWV9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3Byb2R1Y3QubmFtZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncm91cFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi11cGxvYWQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwiZmlsZVwiXG4gICAgICAgICAgICAgICAgICBuYW1lPVwiZmlsZVwiXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ9e3RydWV9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0bi11cGxvYWRcIj5VcGxvYWQgSW1hZ2U8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbWctdXBsb2FkLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIHtpbWFnZVByZXZpZXcgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9e2ltYWdlUHJldmlld30gY2xhc3NOYW1lPVwicHJldmlldy1pbWdcIiAvPlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXY+IEltYWdlIGdvZXMgaGVyZSA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JvdXBcIj5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIG5hbWU9XCJwcmljZVwiXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQcm9kdWN0IFByaWNlXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfVxuICAgICAgICAgICAgICAgIHJlcXVpcmVkPXt0cnVlfVxuICAgICAgICAgICAgICAgIHZhbHVlPXtwcm9kdWN0LnByaWNlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyb3VwXCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBuYW1lPVwiZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUHJvZHVjdCBEZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cbiAgICAgICAgICAgICAgICByZXF1aXJlZD17dHJ1ZX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17cHJvZHVjdC5kZXNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncm91cFwiPlxuICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgbmFtZT1cImNhdGVnb3J5XCJcbiAgICAgICAgICAgICAgICBpZD1cIlwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cbiAgICAgICAgICAgICAgICByZXF1aXJlZD17dHJ1ZX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17cHJvZHVjdC5jYXRlZ29yeX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJtZW5cIj5NZW48L29wdGlvbj5cbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwid29tZW5cIj5Xb21lbjwvb3B0aW9uPlxuICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4tc3VibWl0XCIgZGlzYWJsZWQ9e3N1Ym1pdH0+XG4gICAgICAgICAgICAgICAge3N1Ym1pdCA/IChcbiAgICAgICAgICAgICAgICAgIDxTcGlubmVyIGNvbG9yPVwiI2ZmZlwiIHdpZHRoPXs0MH0gaGVpZ2h0PXs0MH0gLz5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgJ1N1Ym1pdCdcbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9Nb2RhbD5cbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvcGVuTW9kYWx9PiBBZGQgUHJvZHVjdDwvYnV0dG9uPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtdGl0bGVcIj4gQWRkIFByb2R1Y3QgPC9kaXY+XG4gICAgICA8L2Rpdj57JyAnfVxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAuY29udGFpbmVyIHtcbiAgICAgICAgICBtYXgtd2lkdGg6IDEyMHJlbTtcbiAgICAgICAgICBtYXJnaW46IDNyZW0gYXV0bztcbiAgICAgICAgICBwYWRkaW5nOiAwIDJyZW07XG4gICAgICAgIH1cbiAgICAgICAgLnBhZ2UtdGl0bGUge1xuICAgICAgICAgIGZvbnQtc2l6ZTogM3JlbTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5wcmV2aWV3LWltZyB7XG4gICAgICAgICAgd2lkdGg6IDMwcmVtO1xuICAgICAgICAgIGhlaWdodDogMzByZW07XG4gICAgICAgICAgb2JqZWN0LWZpdDogY29udGFpbjtcbiAgICAgICAgfVxuXG4gICAgICAgIC5mb3JtIHtcbiAgICAgICAgICBtYXgtd2lkdGg6IDYwcmVtO1xuICAgICAgICB9XG5cbiAgICAgICAgLmZvcm0gaW5wdXQge1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1jb2xvci1kYXJrKTtcbiAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICBoZWlnaHQ6IDVyZW07XG4gICAgICAgICAgZm9udC1zaXplOiAxLjZyZW07XG4gICAgICAgIH1cblxuICAgICAgICAuZm9ybSBpbnB1dDpmb2N1cyB7XG4gICAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5mb3JtIHNlbGVjdCB7XG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tY29sb3ItZGFyayk7XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgaGVpZ2h0OiA1cmVtO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMS42cmVtO1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgICAgICAgcGFkZGluZzogMCAxcmVtO1xuICAgICAgICB9XG5cbiAgICAgICAgLmdyb3VwIHtcbiAgICAgICAgICBwYWRkaW5nOiAxcmVtIDA7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMXJlbTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5idG4tc3VibWl0IHtcbiAgICAgICAgICBoZWlnaHQ6IDZyZW07XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sb3ItZGFyayk7XG4gICAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgICAgZm9udC1zaXplOiAycmVtO1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgLmltZy11cGxvYWQtY29udGFpbmVyIHtcbiAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgd2lkdGg6IDMwcmVtO1xuICAgICAgICAgIGhlaWdodDogMzByZW07XG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2VlZTtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgICAgZm9udC1zaXplOiAxLjhyZW07XG4gICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgfVxuXG4gICAgICAgIC5idG4tdXBsb2FkLWNvbnRhaW5lciBpbnB1dCB7XG4gICAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgdG9wOiAwO1xuICAgICAgICAgIGxlZnQ6IDA7XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICB9XG5cbiAgICAgICAgLmJ0bi11cGxvYWQtY29udGFpbmVyIHtcbiAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgd2lkdGg6IDIwcmVtO1xuICAgICAgICAgIGhlaWdodDogNXJlbTtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAycmVtO1xuICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIC5idG4tdXBsb2FkIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2xvci1kYXJrKTtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgICAgICBjb2xvcjogI2ZmZjtcbiAgICAgICAgICBmb250LXNpemU6IDEuN3JlbTtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICB9XG4gICAgICBgfTwvc3R5bGU+eycgJ31cbiAgICA8L0xheW91dD5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEFkbWluO1xuIl19 */\\n/*@ sourceURL=/home/russ/projects/dress-shop/pages/admin/index.js */\"), ' ');\n};\n\nexport default Admin;","map":{"version":3,"sources":["/home/russ/projects/dress-shop/pages/admin/index.js"],"names":["React","useState","Layout","axios","baseURL","Spinner","useModal","Modal","Admin","initState","name","price","description","category","product","setProduct","imagePreview","setImagePreview","file","setFile","submit","setSubmit","show","closeModal","openModal","handleChange","e","target","reader","FileReader","onloadend","result","readAsDataURL","event","files","value","imageUpload","data","FormData","append","res","post","process","env","CLOUDINARY_URL","secure_url","error","console","log","response","handleSubmit","preventDefault","imageURL","payload","reset"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,OAAOC,OAAP,MAAoB,wCAApB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,KAAP,MAAkB,+BAAlB;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAClB,QAAMC,SAAS,GAAG;AAChBC,IAAAA,IAAI,EAAE,EADU;AAEhBC,IAAAA,KAAK,EAAE,EAFS;AAGhBC,IAAAA,WAAW,EAAE,EAHG;AAIhBC,IAAAA,QAAQ,EAAE;AAJM,GAAlB;AAOA,QAAM;AAAA,OAACC,OAAD;AAAA,OAAUC;AAAV,MAAwBd,QAAQ,CAACQ,SAAD,CAAtC;AACA,QAAM;AAAA,OAACO,YAAD;AAAA,OAAeC;AAAf,MAAkChB,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM;AAAA,OAACiB,IAAD;AAAA,OAAOC;AAAP,MAAkBlB,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM;AAAA,OAACmB,MAAD;AAAA,OAASC;AAAT,MAAsBpB,QAAQ,CAAC,KAAD,CAApC;AAEA,QAAM;AAAEqB,IAAAA,IAAF;AAAQC,IAAAA,UAAR;AAAoBC,IAAAA;AAApB,MAAkClB,QAAQ,EAAhD;;AAEA,QAAMmB,YAAY,GAAGC,CAAC,IAAI;AACxB,QAAIA,CAAC,CAACC,MAAF,CAASjB,IAAT,KAAkB,MAAtB,EAA8B;AAC5B,UAAIkB,MAAM,GAAG,IAAIC,UAAJ,EAAb;;AACAD,MAAAA,MAAM,CAACE,SAAP,GAAmB,MAAM;AACvBb,QAAAA,eAAe,CAACW,MAAM,CAACG,MAAR,CAAf;AACD,OAFD;;AAGAH,MAAAA,MAAM,CAACI,aAAP,CAAqBC,KAAK,CAACN,MAAN,CAAaO,KAAb,CAAmB,CAAnB,CAArB;AACAf,MAAAA,OAAO,CAACO,CAAC,CAACC,MAAF,CAASO,KAAT,CAAe,CAAf,CAAD,CAAP;AACD,KAPD,MAOO;AACLnB,MAAAA,UAAU,mBACLD,OADK;AAER,SAACY,CAAC,CAACC,MAAF,CAASjB,IAAV,GAAiBgB,CAAC,CAACC,MAAF,CAASQ;AAFlB,SAAV;AAID;AACF,GAdD;;AAgBA,QAAMC,WAAW,GAAG,YAAY;AAC9B,QAAI;AACF,UAAIC,IAAI,GAAG,IAAIC,QAAJ,EAAX;AACAD,MAAAA,IAAI,CAACE,MAAL,CAAY,MAAZ,EAAoBrB,IAApB;AACAmB,MAAAA,IAAI,CAACE,MAAL,CAAY,eAAZ,EAA6B,YAA7B;AACAF,MAAAA,IAAI,CAACE,MAAL,CAAY,YAAZ,EAA0B,WAA1B,EAJE,CAKF;;AACA,YAAMC,GAAG,GAAG,MAAMrC,KAAK,CAACsC,IAAN,CAAWC,OAAO,CAACC,GAAR,CAAYC,cAAvB,EAAuCP,IAAvC,CAAlB;AACA,aAAOG,GAAG,CAACH,IAAJ,CAASQ,UAAhB;AACD,KARD,CAQE,OAAOC,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,QAAlB;AACD;AACF,GAZD;;AAcA,QAAMC,YAAY,GAAG,MAAMxB,CAAN,IAAW;AAC9BA,IAAAA,CAAC,CAACyB,cAAF;;AACA,QAAI;AACF9B,MAAAA,SAAS,CAAC,IAAD,CAAT,CADE,CAEF;;AACA,YAAM+B,QAAQ,GAAG,MAAMhB,WAAW,EAAlC;;AACA,YAAMiB,OAAO,qBAAQvC,OAAR;AAAiBsC,QAAAA;AAAjB,QAAb,CAJE,CAKF;;;AACA,YAAMjD,KAAK,CAACsC,IAAN,CAAY,GAAErC,OAAQ,eAAtB,EAAsCiD,OAAtC,CAAN;AACAC,MAAAA,KAAK;AACN,KARD,CAQE,OAAOR,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,QAAlB;AACD,KAVD,SAUU;AACR5B,MAAAA,SAAS,CAAC,KAAD,CAAT;AACD;AACF,GAfD;;AAiBA,QAAMiC,KAAK,GAAG,MAAM;AAClBvC,IAAAA,UAAU,CAACN,SAAD,CAAV;AACAU,IAAAA,OAAO,CAAC,EAAD,CAAP;AACAF,IAAAA,eAAe,CAAC,EAAD,CAAf;AACD,GAJD;;AAMA,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA,wCAAe,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,KAAD;AAAO,IAAA,MAAM,EAAEK,IAAf;AAAqB,IAAA,KAAK,EAAEC,UAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,QAAQ,EAAE2B,YAAhB;AAAA,wCAAwC,MAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA,wCAAe,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,WAAW,EAAC,cAHd;AAIE,IAAA,QAAQ,EAAEzB,YAJZ;AAKE,IAAA,QAAQ,EAAE,IALZ;AAME,IAAA,KAAK,EAAEX,OAAO,CAACJ,IANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAWE;AAAA,wCAAe,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA,wCAAe,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,QAAQ,EAAEe,YAHZ;AAIE,IAAA,QAAQ,EAAE,IAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAOE;AAAA,wCAAkB,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAPF,CADF,EAWE;AAAA,wCAAe,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGT,YAAY,GACX;AAAK,IAAA,GAAG,EAAEA,YAAV;AAAA,wCAAkC,aAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADW,GAGX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAJJ,CAFJ,CAXF,CAXF,EAkCE;AAAA,wCAAe,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,WAAW,EAAC,eAHd;AAIE,IAAA,QAAQ,EAAES,YAJZ;AAKE,IAAA,QAAQ,EAAE,IALZ;AAME,IAAA,KAAK,EAAEX,OAAO,CAACH,KANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAlCF,EA4CE;AAAA,wCAAe,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,IAAI,EAAC,aAFP;AAGE,IAAA,WAAW,EAAC,qBAHd;AAIE,IAAA,QAAQ,EAAEc,YAJZ;AAKE,IAAA,QAAQ,EAAE,IALZ;AAME,IAAA,KAAK,EAAEX,OAAO,CAACF,WANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CA5CF,EAsDE;AAAA,wCAAe,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,EAAE,EAAC,EAFL;AAGE,IAAA,QAAQ,EAAEa,YAHZ;AAIE,IAAA,QAAQ,EAAE,IAJZ;AAKE,IAAA,KAAK,EAAEX,OAAO,CAACD,QALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE;AAAQ,IAAA,KAAK,EAAC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAPF,EAQE;AAAQ,IAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aARF,CADF,CAtDF,EAkEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAA+B,IAAA,QAAQ,EAAEO,MAAzC;AAAA,wCAAkB,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,MAAM,GACL,MAAC,OAAD;AAAS,IAAA,KAAK,EAAC,MAAf;AAAsB,IAAA,KAAK,EAAE,EAA7B;AAAiC,IAAA,MAAM,EAAE,EAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADK,GAGL,QAJJ,CADF,CAlEF,CADF,CADF,EA+EE;AAAQ,IAAA,OAAO,EAAEI,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBA/EF,EAgFE;AAAA,wCAAe,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAhFF,CADF,EAkFS,GAlFT;AAAA;AAAA;AAAA,iyXAgLa,GAhLb,CADF;AAoLD,CAxPD;;AA0PA,eAAehB,KAAf","sourcesContent":["import React, { useState } from 'react';\nimport Layout from '../../components/Layout';\nimport axios from 'axios';\nimport baseURL from '../../utils/baseURL';\nimport Spinner from '../../components/Shared/Loader/Spinner';\nimport useModal from '../../hooks/useModal';\nimport Modal from '../../components/Shared/Modal';\n\nconst Admin = () => {\n  const initState = {\n    name: '',\n    price: '',\n    description: '',\n    category: ''\n  };\n\n  const [product, setProduct] = useState(initState);\n  const [imagePreview, setImagePreview] = useState('');\n  const [file, setFile] = useState('');\n  const [submit, setSubmit] = useState(false);\n\n  const { show, closeModal, openModal } = useModal();\n\n  const handleChange = e => {\n    if (e.target.name === 'file') {\n      let reader = new FileReader();\n      reader.onloadend = () => {\n        setImagePreview(reader.result);\n      };\n      reader.readAsDataURL(event.target.files[0]);\n      setFile(e.target.files[0]);\n    } else {\n      setProduct({\n        ...product,\n        [e.target.name]: e.target.value\n      });\n    }\n  };\n\n  const imageUpload = async () => {\n    try {\n      let data = new FormData();\n      data.append('file', file);\n      data.append('upload_preset', 'dress-shop');\n      data.append('cloud_name', 'djlbfjouc');\n      //upload image to cloudinary\n      const res = await axios.post(process.env.CLOUDINARY_URL, data);\n      return res.data.secure_url;\n    } catch (error) {\n      console.log(error.response);\n    }\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      setSubmit(true);\n      //get url of image\n      const imageURL = await imageUpload();\n      const payload = { ...product, imageURL };\n      //save product to db\n      await axios.post(`${baseURL}/api/products`, payload);\n      reset();\n    } catch (error) {\n      console.log(error.response);\n    } finally {\n      setSubmit(false);\n    }\n  };\n\n  const reset = () => {\n    setProduct(initState);\n    setFile('');\n    setImagePreview('');\n  };\n\n  return (\n    <Layout>\n      <div className=\"container\">\n        <Modal isOpen={show} close={closeModal}>\n          <form onSubmit={handleSubmit} className=\"form\">\n            <div className=\"group\">\n              <input\n                type=\"text\"\n                name=\"name\"\n                placeholder=\"Product Name\"\n                onChange={handleChange}\n                required={true}\n                value={product.name}\n              />\n            </div>\n            <div className=\"group\">\n              <div className=\"btn-upload-container\">\n                <input\n                  type=\"file\"\n                  name=\"file\"\n                  onChange={handleChange}\n                  required={true}\n                />\n                <button className=\"btn-upload\">Upload Image</button>\n              </div>\n\n              <div className=\"img-upload-container\">\n                {\n                  <div>\n                    {imagePreview ? (\n                      <img src={imagePreview} className=\"preview-img\" />\n                    ) : (\n                      <div> Image goes here </div>\n                    )}\n                  </div>\n                }\n              </div>\n            </div>\n            <div className=\"group\">\n              <input\n                type=\"text\"\n                name=\"price\"\n                placeholder=\"Product Price\"\n                onChange={handleChange}\n                required={true}\n                value={product.price}\n              />\n            </div>\n            <div className=\"group\">\n              <input\n                type=\"text\"\n                name=\"description\"\n                placeholder=\"Product Description\"\n                onChange={handleChange}\n                required={true}\n                value={product.description}\n              />\n            </div>\n            <div className=\"group\">\n              <select\n                name=\"category\"\n                id=\"\"\n                onChange={handleChange}\n                required={true}\n                value={product.category}\n              >\n                <option value=\"men\">Men</option>\n                <option value=\"women\">Women</option>\n              </select>\n            </div>\n            <div>\n              <button className=\"btn-submit\" disabled={submit}>\n                {submit ? (\n                  <Spinner color=\"#fff\" width={40} height={40} />\n                ) : (\n                  'Submit'\n                )}\n              </button>\n            </div>\n          </form>\n        </Modal>\n        <button onClick={openModal}> Add Product</button>\n        <div className=\"page-title\"> Add Product </div>\n      </div>{' '}\n      <style jsx>{`\n        .container {\n          max-width: 120rem;\n          margin: 3rem auto;\n          padding: 0 2rem;\n        }\n        .page-title {\n          font-size: 3rem;\n        }\n\n        .preview-img {\n          width: 30rem;\n          height: 30rem;\n          object-fit: contain;\n        }\n\n        .form {\n          max-width: 60rem;\n        }\n\n        .form input {\n          border: 1px solid transparent;\n          border-bottom: 1px solid var(--color-dark);\n          width: 100%;\n          height: 5rem;\n          font-size: 1.6rem;\n        }\n\n        .form input:focus {\n          outline: none;\n        }\n\n        .form select {\n          border: 1px solid var(--color-dark);\n          width: 100%;\n          height: 5rem;\n          font-size: 1.6rem;\n          background-color: #fff;\n          padding: 0 1rem;\n        }\n\n        .group {\n          padding: 1rem 0;\n          margin-bottom: 1rem;\n        }\n\n        .btn-submit {\n          height: 6rem;\n          width: 100%;\n          background-color: var(--color-dark);\n          color: #fff;\n          font-size: 2rem;\n          border: 1px solid transparent;\n        }\n\n        .img-upload-container {\n          position: relative;\n          width: 30rem;\n          height: 30rem;\n          border: 1px solid #eee;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: 1.8rem;\n          overflow: hidden;\n        }\n\n        .btn-upload-container input {\n          opacity: 0;\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n        }\n\n        .btn-upload-container {\n          position: relative;\n          width: 20rem;\n          height: 5rem;\n          margin-bottom: 2rem;\n          cursor: pointer;\n        }\n\n        .btn-upload {\n          background-color: var(--color-dark);\n          border: 1px solid transparent;\n          color: #fff;\n          font-size: 1.7rem;\n          border-radius: 6px;\n          width: 100%;\n          height: 100%;\n        }\n      `}</style>{' '}\n    </Layout>\n  );\n};\n\nexport default Admin;\n"]},"metadata":{},"sourceType":"module"}