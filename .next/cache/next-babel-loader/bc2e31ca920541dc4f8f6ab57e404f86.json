{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nvar _jsxFileName = \"/home/russ/projects/dress-shop/pages/category.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport { useRouter } from 'next/router';\nimport axios from 'axios';\nimport Layout from '../components/Layout';\nimport ProductList from '../components/Shared/Products/ProductList';\nimport baseURL from '../utils/baseURL';\nimport SkeletonGrid from '../components/Shared/Loader/SkeletonGrid';\n\nvar Category = function Category() {\n  var _useState = useState([]),\n      products = _useState[0],\n      setProducts = _useState[1];\n\n  var _useState2 = useState(true),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var category = useRouter().query.category;\n  useEffect(function () {\n    var getProducts = function getProducts() {\n      var payload, _ref, data;\n\n      return _regeneratorRuntime.async(function getProducts$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              payload = {\n                params: {\n                  category: category\n                }\n              };\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(axios.get(\"\".concat(baseURL, \"/api/category\"), payload));\n\n            case 4:\n              _ref = _context.sent;\n              data = _ref.data;\n              setProducts(data.products);\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 9]]);\n    };\n\n    getProducts();\n  }, []);\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-1521859191\" + \" \" + \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, isLoading ? __jsx(SkeletonGrid, {\n    number: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }) : __jsx(ProductList, {\n    products: products,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  })), __jsx(_JSXStyle, {\n    id: \"1521859191\",\n    __self: this\n  }, \".container.jsx-1521859191{max-width:120rem;margin:3rem auto;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1c3MvcHJvamVjdHMvZHJlc3Mtc2hvcC9wYWdlcy9jYXRlZ29yeS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFtQ2tCLEFBRzRCLGlCQUNBLGlCQUNuQiIsImZpbGUiOiIvaG9tZS9ydXNzL3Byb2plY3RzL2RyZXNzLXNob3AvcGFnZXMvY2F0ZWdvcnkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgTGF5b3V0IGZyb20gJy4uL2NvbXBvbmVudHMvTGF5b3V0JztcbmltcG9ydCBQcm9kdWN0TGlzdCBmcm9tICcuLi9jb21wb25lbnRzL1NoYXJlZC9Qcm9kdWN0cy9Qcm9kdWN0TGlzdCc7XG5pbXBvcnQgYmFzZVVSTCBmcm9tICcuLi91dGlscy9iYXNlVVJMJztcbmltcG9ydCBTa2VsZXRvbkdyaWQgZnJvbSAnLi4vY29tcG9uZW50cy9TaGFyZWQvTG9hZGVyL1NrZWxldG9uR3JpZCc7XG5cbmNvbnN0IENhdGVnb3J5ID0gKCkgPT4ge1xuICBjb25zdCBbcHJvZHVjdHMsIHNldFByb2R1Y3RzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCB7IGNhdGVnb3J5IH0gPSB1c2VSb3V0ZXIoKS5xdWVyeTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGdldFByb2R1Y3RzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHsgcGFyYW1zOiB7IGNhdGVnb3J5IH0gfTtcbiAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBheGlvcy5nZXQoYCR7YmFzZVVSTH0vYXBpL2NhdGVnb3J5YCwgcGF5bG9hZCk7XG4gICAgICAgIHNldFByb2R1Y3RzKGRhdGEucHJvZHVjdHMpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgfVxuICAgIH07XG4gICAgZ2V0UHJvZHVjdHMoKTtcbiAgfSwgW10pO1xuXG4gIHJldHVybiAoXG4gICAgPExheW91dD5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIHtpc0xvYWRpbmcgPyAoXG4gICAgICAgICAgPFNrZWxldG9uR3JpZCBudW1iZXI9ezR9IC8+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPFByb2R1Y3RMaXN0IHByb2R1Y3RzPXtwcm9kdWN0c30gLz5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAuY29udGFpbmVyIHtcbiAgICAgICAgICBtYXgtd2lkdGg6IDEyMHJlbTtcbiAgICAgICAgICBtYXJnaW46IDNyZW0gYXV0bztcbiAgICAgICAgfVxuICAgICAgYH08L3N0eWxlPlxuICAgIDwvTGF5b3V0PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQ2F0ZWdvcnk7XG4iXX0= */\\n/*@ sourceURL=/home/russ/projects/dress-shop/pages/category.js */\"));\n};\n\nexport default Category;","map":{"version":3,"sources":["/home/russ/projects/dress-shop/pages/category.js"],"names":["React","useEffect","useState","useRouter","axios","Layout","ProductList","baseURL","SkeletonGrid","Category","products","setProducts","isLoading","setIsLoading","category","query","getProducts","payload","params","get","data","console","log"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,WAAP,MAAwB,2CAAxB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,YAAP,MAAyB,0CAAzB;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;AAAA,kBACWP,QAAQ,CAAC,EAAD,CADnB;AAAA,MACdQ,QADc;AAAA,MACJC,WADI;;AAAA,mBAEaT,QAAQ,CAAC,IAAD,CAFrB;AAAA,MAEdU,SAFc;AAAA,MAEHC,YAFG;;AAAA,MAGbC,QAHa,GAGAX,SAAS,GAAGY,KAHZ,CAGbD,QAHa;AAKrBb,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMe,WAAW,GAAG,SAAdA,WAAc;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEVC,cAAAA,OAFU,GAEA;AAAEC,gBAAAA,MAAM,EAAE;AAAEJ,kBAAAA,QAAQ,EAARA;AAAF;AAAV,eAFA;AAAA;AAAA,+CAGOV,KAAK,CAACe,GAAN,WAAaZ,OAAb,oBAAqCU,OAArC,CAHP;;AAAA;AAAA;AAGRG,cAAAA,IAHQ,QAGRA,IAHQ;AAIhBT,cAAAA,WAAW,CAACS,IAAI,CAACV,QAAN,CAAX;AAJgB;AAAA;;AAAA;AAAA;AAAA;AAMhBW,cAAAA,OAAO,CAACC,GAAR;;AANgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAApB;;AASAN,IAAAA,WAAW;AACZ,GAXQ,EAWN,EAXM,CAAT;AAaA,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA,wCAAe,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGJ,SAAS,GACR,MAAC,YAAD;AAAc,IAAA,MAAM,EAAE,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADQ,GAGR,MAAC,WAAD;AAAa,IAAA,QAAQ,EAAEF,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,CADF;AAAA;AAAA;AAAA,0nEADF;AAiBD,CAnCD;;AAqCA,eAAeD,QAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useRouter } from 'next/router';\nimport axios from 'axios';\nimport Layout from '../components/Layout';\nimport ProductList from '../components/Shared/Products/ProductList';\nimport baseURL from '../utils/baseURL';\nimport SkeletonGrid from '../components/Shared/Loader/SkeletonGrid';\n\nconst Category = () => {\n  const [products, setProducts] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const { category } = useRouter().query;\n\n  useEffect(() => {\n    const getProducts = async () => {\n      try {\n        const payload = { params: { category } };\n        const { data } = await axios.get(`${baseURL}/api/category`, payload);\n        setProducts(data.products);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    getProducts();\n  }, []);\n\n  return (\n    <Layout>\n      <div className=\"container\">\n        {isLoading ? (\n          <SkeletonGrid number={4} />\n        ) : (\n          <ProductList products={products} />\n        )}\n      </div>\n      <style jsx>{`\n        .container {\n          max-width: 120rem;\n          margin: 3rem auto;\n        }\n      `}</style>\n    </Layout>\n  );\n};\n\nexport default Category;\n"]},"metadata":{},"sourceType":"module"}